2025-12-23T16:06:40.378-03:00  INFO 21708 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 21708 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-23T16:06:40.390-03:00 DEBUG 21708 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-23T16:06:40.391-03:00  INFO 21708 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-23T16:06:49.581-03:00 DEBUG 21708 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-23T16:06:49.626-03:00 DEBUG 21708 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-23T16:06:51.382-03:00  WARN 21708 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23T16:06:51.416-03:00 TRACE 21708 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@38f1f6c9, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@63cf6497}
2025-12-23T16:06:51.420-03:00  INFO 21708 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-23T16:06:52.042-03:00 DEBUG 21708 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-23T16:06:52.114-03:00 DEBUG 21708 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-23T16:06:52.249-03:00 DEBUG 21708 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-23T16:06:55.188-03:00 DEBUG 21708 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026514af9738@b1fccca with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-23T16:06:55.428-03:00 DEBUG 21708 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-23T16:06:55.471-03:00  WARN 21708 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T16:06:55.471-03:00 DEBUG 21708 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-23T16:06:55.474-03:00  WARN 21708 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T16:06:55.474-03:00 DEBUG 21708 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-23T16:06:55.474-03:00  WARN 21708 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T16:06:55.475-03:00 DEBUG 21708 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-23T16:06:55.475-03:00  WARN 21708 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T16:06:55.475-03:00 DEBUG 21708 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-23T16:06:55.476-03:00  WARN 21708 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T16:06:55.477-03:00 DEBUG 21708 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-23T16:06:55.477-03:00  WARN 21708 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T16:06:55.477-03:00 DEBUG 21708 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-23T16:06:55.477-03:00  WARN 21708 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T16:06:55.477-03:00 DEBUG 21708 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-23T16:06:55.803-03:00 DEBUG 21708 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-23T16:06:56.081-03:00 DEBUG 21708 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-23T16:06:58.732-03:00 DEBUG 21708 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-23T16:06:58.738-03:00 DEBUG 21708 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-23T16:06:58.753-03:00 DEBUG 21708 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-23T16:06:58.777-03:00 DEBUG 21708 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-23T16:06:58.830-03:00  INFO 21708 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 19.227 seconds (process running for 20.297)
2025-12-23T16:06:59.513-03:00  INFO 21708 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-23T16:06:59.515-03:00 DEBUG 21708 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-23T16:06:59.515-03:00 DEBUG 21708 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-23T16:06:59.516-03:00 DEBUG 21708 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-23T16:06:59.523-03:00 DEBUG 21708 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@380ea757
2025-12-23T16:06:59.527-03:00 DEBUG 21708 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3c995eae
2025-12-23T16:06:59.528-03:00 DEBUG 21708 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-23T16:06:59.528-03:00  INFO 21708 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2025-12-23T16:54:06.092-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T16:54:06.096-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T16:54:06.097-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T16:54:06.097-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T16:54:06.097-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T16:54:06.098-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T16:54:06.098-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T16:54:06.100-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026514af9738@b1fccca, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@668c47ad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c753460, org.springframework.security.web.context.SecurityContextHolderFilter@756476a3, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2246bfd1, org.springframework.security.web.header.HeaderWriterFilter@3d45ea17, org.springframework.web.filter.CorsFilter@69cfd5ae, org.springframework.security.web.csrf.CsrfFilter@1f299fc3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b5f886d, org.springframework.security.web.authentication.logout.LogoutFilter@2a654f27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@33f2ac11, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1c38d025, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3b48ffe8, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@74c3374f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5621119d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@674c9079, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b0e81b3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f517209, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@190378b2, org.springframework.security.web.access.ExceptionTranslationFilter@578036a2, org.springframework.security.web.access.intercept.AuthorizationFilter@252d690, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@87f8146, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@6f5690f3, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@442545ab, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@d0993f0]] (8/9)
2025-12-23T16:54:06.101-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1db6f510, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8f504f2, org.springframework.security.web.context.SecurityContextHolderFilter@6c30efc4, org.springframework.security.web.header.HeaderWriterFilter@1a48e48e, org.springframework.security.web.authentication.logout.LogoutFilter@5bb1c104, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4cda8d3b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6b5df313, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4758f533, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5a5cd0af, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@13ea9afc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10847aeb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cea6297, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f00c2e7, org.springframework.security.web.access.ExceptionTranslationFilter@ab2d814, org.springframework.security.web.access.intercept.AuthorizationFilter@7ff48cdc]] (9/9)
2025-12-23T16:54:06.102-03:00 DEBUG 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros
2025-12-23T16:54:06.107-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-23T16:54:06.116-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-23T16:54:06.119-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-23T16:54:06.125-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-23T16:54:06.127-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-23T16:54:06.128-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T16:54:06.128-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-23T16:54:06.128-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-23T16:54:06.128-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T16:54:06.129-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-23T16:54:06.129-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T16:54:06.129-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-23T16:54:06.129-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T16:54:06.130-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-23T16:54:06.130-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T16:54:06.130-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T16:54:06.130-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T16:54:06.130-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-23T16:54:06.131-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T16:54:06.131-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-23T16:54:06.132-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T16:54:06.132-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-23T16:54:06.134-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-23T16:54:06.136-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-23T16:54:06.136-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-23T16:54:06.157-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing OPTIONS /livros
2025-12-23T16:54:06.159-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on OPTIONS /livros using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2ae0db8c
2025-12-23T16:54:06.160-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T16:54:06.172-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T16:54:06.281-03:00 DEBUG 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/livros?continue to session
2025-12-23T16:54:06.285-03:00 DEBUG 21708 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@3fc2197d, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T16:54:06.285-03:00 DEBUG 21708 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@3fc2197d, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@3fc2197d, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@3fc2197d, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T16:54:06.286-03:00 DEBUG 21708 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@58965e17
2025-12-23T16:54:06.286-03:00 DEBUG 21708 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-23T16:54:06.286-03:00 DEBUG 21708 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@41527c90
2025-12-23T16:54:06.287-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T16:54:06.295-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T16:54:06.296-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T16:54:06.296-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T16:54:06.296-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T16:54:06.296-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T16:54:06.296-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T16:54:06.296-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T16:54:06.296-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026514af9738@b1fccca, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@668c47ad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c753460, org.springframework.security.web.context.SecurityContextHolderFilter@756476a3, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2246bfd1, org.springframework.security.web.header.HeaderWriterFilter@3d45ea17, org.springframework.web.filter.CorsFilter@69cfd5ae, org.springframework.security.web.csrf.CsrfFilter@1f299fc3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b5f886d, org.springframework.security.web.authentication.logout.LogoutFilter@2a654f27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@33f2ac11, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1c38d025, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3b48ffe8, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@74c3374f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5621119d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@674c9079, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b0e81b3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f517209, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@190378b2, org.springframework.security.web.access.ExceptionTranslationFilter@578036a2, org.springframework.security.web.access.intercept.AuthorizationFilter@252d690, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@87f8146, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@6f5690f3, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@442545ab, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@d0993f0]] (8/9)
2025-12-23T16:54:06.297-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1db6f510, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8f504f2, org.springframework.security.web.context.SecurityContextHolderFilter@6c30efc4, org.springframework.security.web.header.HeaderWriterFilter@1a48e48e, org.springframework.security.web.authentication.logout.LogoutFilter@5bb1c104, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4cda8d3b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6b5df313, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4758f533, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5a5cd0af, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@13ea9afc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10847aeb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cea6297, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f00c2e7, org.springframework.security.web.access.ExceptionTranslationFilter@ab2d814, org.springframework.security.web.access.intercept.AuthorizationFilter@7ff48cdc]] (9/9)
2025-12-23T16:54:06.297-03:00 DEBUG 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /error
2025-12-23T16:54:06.297-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-23T16:54:06.297-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-23T16:54:06.297-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-23T16:54:06.297-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-23T16:54:06.297-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-23T16:54:06.297-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T16:54:06.297-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-23T16:54:06.299-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-23T16:54:06.299-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T16:54:06.299-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-23T16:54:06.299-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T16:54:06.299-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-23T16:54:06.299-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-23T16:54:06.299-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-23T16:54:06.299-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-23T16:54:06.299-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T16:54:06.300-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-23T16:54:06.300-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-23T16:54:06.300-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-23T16:54:06.300-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-23T16:54:06.300-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing OPTIONS /error
2025-12-23T16:54:06.300-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on OPTIONS /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2ae0db8c
2025-12-23T16:54:06.300-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession FA28505266E9BCE3793228F6186435F6 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T16:54:06.300-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T16:54:06.300-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T16:54:06.301-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FA28505266E9BCE3793228F6186435F6], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T16:54:06.311-03:00 TRACE 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FA28505266E9BCE3793228F6186435F6], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T16:54:06.314-03:00 DEBUG 21708 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-12-23T16:54:06.314-03:00 DEBUG 21708 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@3fc2197d, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T16:54:06.314-03:00 DEBUG 21708 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@3fc2197d, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@3fc2197d, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@3fc2197d, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T16:54:06.315-03:00 DEBUG 21708 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@58965e17
2025-12-23T16:54:06.315-03:00 DEBUG 21708 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-23T16:54:06.315-03:00 DEBUG 21708 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@41527c90
2025-12-23T17:02:04.979-03:00  INFO 7904 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 7904 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-23T17:02:04.980-03:00 DEBUG 7904 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-23T17:02:04.981-03:00  INFO 7904 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-23T17:02:10.903-03:00 DEBUG 7904 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-23T17:02:10.905-03:00 DEBUG 7904 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-23T17:02:11.384-03:00  WARN 7904 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23T17:02:11.416-03:00 TRACE 7904 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@2c914aa3, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@7b88dd58}
2025-12-23T17:02:11.418-03:00  INFO 7904 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-23T17:02:11.726-03:00 DEBUG 7904 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-23T17:02:11.771-03:00 DEBUG 7904 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-23T17:02:11.815-03:00 DEBUG 7904 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-23T17:02:13.080-03:00 DEBUG 7904 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-23T17:02:13.180-03:00 DEBUG 7904 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-23T17:02:13.194-03:00  WARN 7904 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:02:13.194-03:00 DEBUG 7904 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-23T17:02:13.194-03:00  WARN 7904 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:02:13.194-03:00 DEBUG 7904 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-23T17:02:13.194-03:00  WARN 7904 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:02:13.194-03:00 DEBUG 7904 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-23T17:02:13.194-03:00  WARN 7904 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:02:13.194-03:00 DEBUG 7904 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-23T17:02:13.194-03:00  WARN 7904 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:02:13.194-03:00 DEBUG 7904 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-23T17:02:13.194-03:00  WARN 7904 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:02:13.194-03:00 DEBUG 7904 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-23T17:02:13.194-03:00  WARN 7904 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:02:13.200-03:00 DEBUG 7904 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-23T17:02:13.285-03:00 DEBUG 7904 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-23T17:02:13.350-03:00 DEBUG 7904 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-23T17:02:14.335-03:00 DEBUG 7904 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-23T17:02:14.335-03:00 DEBUG 7904 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-23T17:02:14.340-03:00 DEBUG 7904 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-23T17:02:14.350-03:00 DEBUG 7904 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-23T17:02:14.370-03:00  INFO 7904 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 9.982 seconds (process running for 10.965)
2025-12-23T17:02:14.597-03:00  INFO 7904 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-23T17:02:14.597-03:00 DEBUG 7904 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-23T17:02:14.598-03:00 DEBUG 7904 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-23T17:02:14.598-03:00 DEBUG 7904 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-23T17:02:14.601-03:00 DEBUG 7904 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@54fb9c08
2025-12-23T17:02:14.603-03:00 DEBUG 7904 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@74cf108b
2025-12-23T17:02:14.603-03:00 DEBUG 7904 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-23T17:02:14.603-03:00  INFO 7904 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-12-23T17:02:17.223-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:17.225-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:17.225-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:17.225-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:17.225-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:17.225-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:17.225-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:17.225-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:17.225-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:17.225-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros
2025-12-23T17:02:17.233-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:17.238-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:17.241-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:17.244-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:17.247-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:17.266-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:17.271-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:17.272-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:17.272-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:17.272-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:17.272-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:17.273-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:17.273-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:17.273-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:17.274-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:17.274-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /livros
2025-12-23T17:02:17.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:17.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:17.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:17.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:17.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:17.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:17.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:17.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:17.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:17.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:17.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:17.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:17.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:17.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:02:17.349-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.oauth2.jwt.NimbusJwtDecoder        : Failed to process JWT

com.nimbusds.jose.proc.BadJOSEException: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:357) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:158) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:138) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:02:17.352-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Failed to authenticate since the JWT was invalid
2025-12-23T17:02:17.354-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Failed to process authentication request

org.springframework.security.oauth2.server.resource.InvalidBearerTokenException: An error occurred while attempting to decode the Jwt: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:103) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.springframework.security.oauth2.jwt.BadJwtException: An error occurred while attempting to decode the Jwt: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:184) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:138) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	... 92 common frames omitted
Caused by: com.nimbusds.jose.proc.BadJOSEException: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:357) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:158) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	... 94 common frames omitted

2025-12-23T17:02:17.354-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:17.402-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:17.402-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:17.402-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:17.402-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:17.403-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:17.403-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:17.403-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:17.403-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:17.403-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=sleyY5HUu_ZOE7njSOGM3abCjjkN6mGuwB6FldsvOX0&code_challenge_method=S256
2025-12-23T17:02:17.403-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T17:02:17.404-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T17:02:17.404-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T17:02:17.404-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T17:02:17.407-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T17:02:17.407-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T17:02:17.408-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T17:02:17.412-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@331886ac]]]
2025-12-23T17:02:17.413-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T17:02:17.413-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T17:02:17.413-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T17:02:17.413-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T17:02:17.413-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T17:02:17.417-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:02:17.417-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:17.417-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:17.419-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-23T17:02:17.662-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-23T17:02:17.664-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-23T17:02:17.664-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-12-23T17:02:17.664-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (12/27)
2025-12-23T17:02:17.665-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (13/27)
2025-12-23T17:02:17.665-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (14/27)
2025-12-23T17:02:17.665-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (15/27)
2025-12-23T17:02:17.665-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (16/27)
2025-12-23T17:02:17.665-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:17.665-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (17/27)
2025-12-23T17:02:17.665-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:17.665-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (18/27)
2025-12-23T17:02:17.665-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:17.666-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (19/27)
2025-12-23T17:02:17.668-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (20/27)
2025-12-23T17:02:17.669-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (21/27)
2025-12-23T17:02:17.670-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (22/27)
2025-12-23T17:02:17.672-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=sleyY5HUu_ZOE7njSOGM3abCjjkN6mGuwB6FldsvOX0&code_challenge_method=S256
2025-12-23T17:02:17.673-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=sleyY5HUu_ZOE7njSOGM3abCjjkN6mGuwB6FldsvOX0&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@433eebec
2025-12-23T17:02:17.673-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:02:17.679-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:02:17.702-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=sleyY5HUu_ZOE7njSOGM3abCjjkN6mGuwB6FldsvOX0&code_challenge_method=S256&continue to session
2025-12-23T17:02:17.702-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-12-23T17:02:17.704-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@331886ac, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T17:02:17.705-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:02:17.705-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@5410bbdf
2025-12-23T17:02:17.706-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T17:02:17.707-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:17.714-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:17.714-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:17.714-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:17.715-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:17.715-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:17.715-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:17.715-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:17.715-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:17.715-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:17.715-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:02:17.715-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:17.715-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:17.715-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:17.716-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:17.716-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:17.716-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:17.716-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:17.716-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:17.716-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:17.716-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:17.716-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:17.716-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:17.716-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:17.716-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:17.717-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:17.717-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 8FE47A6C7C950C54C23675B2061AE443 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:02:17.717-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:17.717-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:17.717-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:17.717-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:17.717-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:17.717-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:17.717-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:17.717-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:17.717-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:17.717-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:17.718-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:02:17.718-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000026d01ad0858@19ce7f68
2025-12-23T17:02:17.719-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:02:17.721-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:02:17.723-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:02:18.087-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:18.089-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:02:18.090-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8FE47A6C7C950C54C23675B2061AE443], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:02:18.129-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:18.129-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:18.130-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:18.130-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:18.130-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:18.130-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:18.130-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:18.130-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:18.131-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:18.132-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:18.132-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:18.133-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:18.133-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:18.133-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:18.133-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:18.133-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:18.133-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:18.133-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:18.135-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:18.135-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:18.135-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:18.135-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:18.135-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:18.136-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:18.136-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:18.136-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 8FE47A6C7C950C54C23675B2061AE443 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:02:18.136-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:18.136-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:18.137-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:18.137-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:18.138-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:18.138-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:18.138-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:18.139-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:18.139-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:18.139-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:18.140-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:18.140-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:18.141-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8FE47A6C7C950C54C23675B2061AE443], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:02:18.142-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8FE47A6C7C950C54C23675B2061AE443], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:02:18.145-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json?continue to session
2025-12-23T17:02:18.145-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:02:18.145-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T17:02:18.145-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@14d294f4
2025-12-23T17:02:18.145-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-23T17:02:18.145-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@33b0144c
2025-12-23T17:02:18.145-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:18.153-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:18.153-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:18.153-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:18.153-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:18.153-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:18.153-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:18.153-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:18.153-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:18.155-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:18.155-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T17:02:18.155-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:18.155-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:18.155-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:18.156-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:18.156-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:18.156-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:18.156-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:18.156-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:18.156-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:18.156-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:18.157-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:18.157-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:18.157-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:18.157-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:18.157-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:18.158-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:18.158-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:18.158-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:18.158-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:18.158-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:18.158-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:18.158-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T17:02:18.158-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:18.158-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 8FE47A6C7C950C54C23675B2061AE443 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:02:18.158-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:18.159-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:18.159-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8FE47A6C7C950C54C23675B2061AE443], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:02:18.159-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8FE47A6C7C950C54C23675B2061AE443], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:02:18.161-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-12-23T17:02:18.161-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:02:18.162-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T17:02:18.162-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@14d294f4
2025-12-23T17:02:18.162-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-23T17:02:18.162-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@33b0144c
2025-12-23T17:02:18.212-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:18.213-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:18.213-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:18.213-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:18.213-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:18.213-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:18.213-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:18.213-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:18.213-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:18.213-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-12-23T17:02:18.213-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:18.214-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:18.214-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:18.214-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:18.214-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:18.214-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:18.214-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:18.214-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:18.214-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:18.215-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:18.215-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:18.215-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:18.215-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:18.215-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:18.215-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:18.215-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 8FE47A6C7C950C54C23675B2061AE443 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:02:18.215-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:18.215-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:18.215-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:18.215-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:18.215-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:18.215-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:18.215-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:18.215-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:18.216-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:18.216-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:18.216-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /favicon.ico
2025-12-23T17:02:18.216-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /favicon.ico using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:18.216-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8FE47A6C7C950C54C23675B2061AE443], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:02:18.217-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8FE47A6C7C950C54C23675B2061AE443], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:02:18.219-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-12-23T17:02:18.219-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:02:18.220-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@2162b22d
2025-12-23T17:02:18.220-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T17:02:18.220-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:18.229-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:18.229-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:18.229-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:18.229-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:18.229-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:18.229-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:18.229-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:18.229-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:18.229-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:18.230-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:02:18.230-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:18.230-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:18.230-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:18.230-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:18.230-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:18.230-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:18.231-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:18.231-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:18.231-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:18.231-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:18.231-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:18.231-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:18.231-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:18.231-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:18.231-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:18.231-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 8FE47A6C7C950C54C23675B2061AE443 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:02:18.231-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:18.231-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:18.231-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:18.232-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:18.232-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:18.232-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:18.232-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:18.232-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:18.232-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:18.232-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:18.232-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:02:18.232-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000026d01ad0858@19ce7f68
2025-12-23T17:02:18.233-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:02:18.233-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:02:18.233-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:02:18.236-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:18.237-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:02:18.237-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8FE47A6C7C950C54C23675B2061AE443], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:02:25.219-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:25.219-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:25.219-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:25.219-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:25.219-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:25.219-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:25.219-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:25.219-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:25.220-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:25.220-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-23T17:02:25.220-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:25.220-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:25.220-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:25.220-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:25.220-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:25.221-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:25.221-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:25.221-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:25.221-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:25.221-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:25.221-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:25.222-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-23T17:02:25.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-23T17:02:25.316-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8FE47A6C7C950C54C23675B2061AE443
2025-12-23T17:02:25.316-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@638d01e8] to HttpSession [org.apache.catalina.session.StandardSessionFacade@69ae2dcb]
2025-12-23T17:02:25.316-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@638d01e8
2025-12-23T17:02:25.317-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/error?continue
2025-12-23T17:02:25.317-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:25.322-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:25.323-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:25.323-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:25.323-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:25.323-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:25.323-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:25.323-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:25.323-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:25.323-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:25.324-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error?continue
2025-12-23T17:02:25.324-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:25.324-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:25.324-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:25.324-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:25.324-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:25.324-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:25.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:25.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:25.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:25.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:25.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:25.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:25.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:25.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:25.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:25.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@638d01e8] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:25.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:25.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:25.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:25.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Removing DefaultSavedRequest from session if present
2025-12-23T17:02:25.325-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/error?continue
2025-12-23T17:02:25.326-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:25.326-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:25.326-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:25.326-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:25.326-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?continue
2025-12-23T17:02:25.327-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:25.327-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@638d01e8
2025-12-23T17:02:25.328-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /error?continue
2025-12-23T17:02:25.329-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/error?continue", parameters={masked}
2025-12-23T17:02:25.330-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-23T17:02:25.346-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-23T17:02:25.347-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Dec 23 17:02:25 BRT 2025, status=999, error=None}]
2025-12-23T17:02:25.356-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:25.357-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-23T17:02:25.389-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:25.389-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:25.389-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:25.389-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:25.389-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:25.389-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:25.389-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:25.390-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:25.390-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:25.390-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:25.390-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:25.391-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:25.391-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:25.391-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:25.391-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:25.391-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:25.391-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:25.391-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:25.391-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:25.391-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:25.391-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:25.391-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:25.391-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:25.392-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:25.392-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:25.392-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@638d01e8] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:25.392-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:25.392-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:25.392-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:25.392-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:25.392-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:25.392-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:25.392-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:25.392-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:25.392-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:25.392-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:25.392-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@638d01e8
2025-12-23T17:02:25.393-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:25.393-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-23T17:02:25.393-03:00  WARN 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:25.398-03:00  WARN 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-12-23T17:02:25.398-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:25.399-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-12-23T17:02:25.399-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-23T17:02:25.400-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:25.401-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:25.401-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:25.402-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:25.402-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:25.402-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:25.402-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:25.402-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:25.402-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:25.402-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T17:02:25.402-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:25.402-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@638d01e8] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:25.402-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@638d01e8
2025-12-23T17:02:25.402-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-23T17:02:25.402-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-23T17:02:25.403-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-23T17:02:25.404-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-23T17:02:25.404-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Dec 23 17:02:25 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-23T17:02:25.409-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-23T17:02:25.437-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:25.437-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:25.437-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:25.437-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:25.437-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:25.438-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:25.438-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:25.438-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:25.438-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:25.438-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-12-23T17:02:25.438-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:25.438-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:25.439-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:25.439-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:25.439-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:25.439-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:25.439-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:25.439-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:25.439-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:25.439-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:25.439-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:25.439-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:25.439-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:25.440-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:25.440-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:25.440-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@638d01e8] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:25.440-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:25.440-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:25.440-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:25.440-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:25.440-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:25.440-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:25.440-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:25.440-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:25.440-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /favicon.ico
2025-12-23T17:02:25.441-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /favicon.ico using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:25.441-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@638d01e8
2025-12-23T17:02:25.441-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /favicon.ico
2025-12-23T17:02:25.441-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/favicon.ico", parameters={}
2025-12-23T17:02:25.442-03:00  WARN 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /favicon.ico
2025-12-23T17:02:25.442-03:00  WARN 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No endpoint GET /favicon.ico.
2025-12-23T17:02:25.443-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:25.443-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /favicon.ico.]
2025-12-23T17:02:25.443-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-23T17:02:25.445-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:25.445-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:25.446-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:25.446-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:25.446-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:25.446-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:25.446-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:25.446-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:25.446-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:25.446-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T17:02:25.446-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:25.446-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:25.446-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:25.446-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:25.446-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:25.446-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:25.446-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T17:02:25.447-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:25.448-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@638d01e8] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:25.448-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@638d01e8
2025-12-23T17:02:25.448-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-23T17:02:25.448-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-23T17:02:25.449-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-23T17:02:25.450-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-12-23T17:02:25.452-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Dec 23 17:02:25 BRT 2025, status=404, error=Not Found, path=/favicon.ico}]
2025-12-23T17:02:25.455-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-23T17:02:28.259-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:28.259-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:28.259-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:28.260-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:28.260-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:28.260-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:28.260-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:28.260-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:28.260-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:28.260-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?continue
2025-12-23T17:02:28.260-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:28.260-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:28.260-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:28.260-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:28.260-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:28.261-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:28.261-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:28.261-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:28.261-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:28.261-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:28.261-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:28.261-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:28.261-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:28.261-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:28.261-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:28.261-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@638d01e8] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:28.261-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:28.262-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:28.262-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:28.262-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : No saved request
2025-12-23T17:02:28.262-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:28.262-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:28.262-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:28.262-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:28.262-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?continue
2025-12-23T17:02:28.262-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:28.262-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@638d01e8
2025-12-23T17:02:28.263-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?continue
2025-12-23T17:02:28.263-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/error?continue", parameters={masked}
2025-12-23T17:02:28.263-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-12-23T17:02:28.275-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-23T17:02:28.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:28.307-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:28.307-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:28.307-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:28.308-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:28.308-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:28.309-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:28.309-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@638d01e8] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:28.309-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:28.309-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:28.309-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:28.309-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:28.309-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:28.309-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:28.309-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:28.309-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:28.309-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:28.309-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:28.309-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@638d01e8
2025-12-23T17:02:28.309-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:28.310-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-23T17:02:28.310-03:00  WARN 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:28.310-03:00  WARN 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-12-23T17:02:28.310-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:28.311-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-12-23T17:02:28.311-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-23T17:02:28.313-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:28.313-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:28.313-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:28.313-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:28.313-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:28.313-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:28.313-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:28.313-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:28.314-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:28.314-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T17:02:28.314-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:28.314-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:28.314-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:28.314-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:28.314-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:28.314-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@638d01e8] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:28.315-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@638d01e8
2025-12-23T17:02:28.315-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-23T17:02:28.315-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-23T17:02:28.316-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-23T17:02:28.316-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-23T17:02:28.316-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Dec 23 17:02:28 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-23T17:02:28.317-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-23T17:02:30.165-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:30.165-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:30.165-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:30.165-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:30.165-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:30.165-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:30.165-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:30.165-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:30.165-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:30.165-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:02:30.165-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:30.165-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:30.165-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:30.165-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:30.165-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:30.165-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@638d01e8] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:30.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:30.169-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:02:30.169-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000026d01ad0858@19ce7f68
2025-12-23T17:02:30.169-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:02:30.169-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:02:30.169-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:02:30.171-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:30.171-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:02:30.171-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@638d01e8
2025-12-23T17:02:30.203-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:30.203-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:30.203-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:30.203-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:30.203-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:30.203-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:30.203-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:30.203-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:30.203-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:30.203-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:30.203-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@638d01e8] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:30.205-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:30.206-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:30.206-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:30.206-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:30.206-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:30.206-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@638d01e8
2025-12-23T17:02:30.206-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:30.206-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-23T17:02:30.207-03:00  WARN 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.PageNotFound             : No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:30.207-03:00  WARN 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.PageNotFound             : No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-12-23T17:02:30.207-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:30.208-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-12-23T17:02:30.208-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-23T17:02:30.209-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:30.210-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:30.210-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:30.210-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:30.210-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:30.210-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:30.210-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:30.210-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:30.211-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:30.211-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:30.212-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T17:02:30.212-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:30.212-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@638d01e8] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:30.212-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@638d01e8
2025-12-23T17:02:30.212-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-23T17:02:30.212-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-23T17:02:30.212-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-23T17:02:30.213-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-23T17:02:30.213-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Dec 23 17:02:30 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-23T17:02:30.213-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-23T17:02:35.197-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:35.197-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:35.197-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:35.197-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:35.197-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:35.197-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:35.197-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:35.197-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:35.197-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:35.197-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-23T17:02:35.197-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:35.198-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:35.198-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:35.198-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:35.198-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:35.198-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:35.198-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:35.198-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:35.198-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:35.198-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:35.198-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:35.198-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-23T17:02:35.270-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-23T17:02:35.270-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 26DD950C627616F97F6E89DE5517B0A1
2025-12-23T17:02:35.271-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@18b10a6b] to HttpSession [org.apache.catalina.session.StandardSessionFacade@69ae2dcb]
2025-12-23T17:02:35.271-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@18b10a6b
2025-12-23T17:02:35.271-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /
2025-12-23T17:02:35.271-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:35.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:35.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:35.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:35.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:35.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:35.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:35.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:35.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:35.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:35.275-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-23T17:02:35.275-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@18b10a6b] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:35.276-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:35.277-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /
2025-12-23T17:02:35.277-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET / using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:35.277-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@18b10a6b
2025-12-23T17:02:35.277-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /
2025-12-23T17:02:35.277-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/", parameters={}
2025-12-23T17:02:35.277-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LoginViewController#paginaHome(Authentication)
2025-12-23T17:02:35.279-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/html', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [text/plain, */*, application/json, application/*+json]
2025-12-23T17:02:35.279-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing ["Ol gerente"]
2025-12-23T17:02:35.280-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:35.280-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:02:35.320-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:35.321-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:35.321-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:35.322-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:35.322-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@18b10a6b] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:35.322-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:35.322-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:35.322-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:35.322-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:35.322-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:35.322-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:35.322-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:35.322-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:35.322-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:35.322-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:35.322-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@18b10a6b
2025-12-23T17:02:35.322-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:35.322-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-23T17:02:35.323-03:00  WARN 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.PageNotFound             : No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:35.323-03:00  WARN 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.PageNotFound             : No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-12-23T17:02:35.323-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:35.323-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-12-23T17:02:35.324-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-23T17:02:35.324-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:35.324-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:35.324-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:35.324-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:35.324-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:35.324-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:35.324-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:35.324-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:35.325-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:35.325-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:35.326-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T17:02:35.326-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:35.326-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@18b10a6b] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:35.326-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@18b10a6b
2025-12-23T17:02:35.326-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-23T17:02:35.326-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-23T17:02:35.327-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-23T17:02:35.328-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-23T17:02:35.328-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Dec 23 17:02:35 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-23T17:02:35.329-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-23T17:02:41.993-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:41.993-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:41.993-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:41.993-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:41.993-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:41.993-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:41.993-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:41.993-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:41.993-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:41.996-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@18b10a6b] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:02:41.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000026d01ad0858@19ce7f68
2025-12-23T17:02:41.997-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:02:41.997-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:02:41.997-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:02:41.998-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:42.000-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:02:42.000-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@18b10a6b
2025-12-23T17:02:42.033-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:42.033-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:42.033-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:42.033-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:42.033-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:42.033-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:42.033-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:42.033-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:42.034-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:42.034-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:42.034-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:42.034-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:42.034-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:42.034-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:42.034-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:42.034-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:42.034-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:42.034-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:42.034-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:42.034-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:42.034-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:42.034-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:42.034-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:42.035-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:42.035-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:42.035-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@18b10a6b] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:42.035-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:42.035-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:42.035-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:42.035-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:42.035-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:42.035-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:42.035-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:42.035-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:42.035-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:42.035-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:42.035-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@18b10a6b
2025-12-23T17:02:42.035-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:42.036-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-23T17:02:42.036-03:00  WARN 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:02:42.036-03:00  WARN 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-12-23T17:02:42.037-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:42.037-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-12-23T17:02:42.037-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-23T17:02:42.038-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:42.038-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:42.038-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:42.038-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:42.038-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:42.039-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:42.039-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:42.039-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:42.039-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:42.039-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T17:02:42.039-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:42.039-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:42.039-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:42.039-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:42.039-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:42.039-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:42.040-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:42.040-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:42.040-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:42.040-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:42.040-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:42.040-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:42.040-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:42.040-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:42.040-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:42.040-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:42.040-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:42.040-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:42.040-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:42.040-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:42.040-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:42.041-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T17:02:42.041-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:42.041-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@18b10a6b] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:42.041-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@18b10a6b
2025-12-23T17:02:42.041-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-23T17:02:42.041-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-23T17:02:42.042-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-23T17:02:42.043-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-23T17:02:42.044-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Dec 23 17:02:42 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-23T17:02:42.044-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-23T17:02:48.764-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:48.764-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:48.764-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:48.764-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:48.764-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:48.764-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:48.764-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:48.766-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:48.766-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:48.766-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /livros
2025-12-23T17:02:48.766-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:48.767-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:48.767-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:48.767-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:48.768-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:48.769-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:48.770-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:48.770-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:48.770-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:48.770-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:48.770-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:48.770-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:48.770-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:48.771-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:48.771-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:48.771-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:02:48.771-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:48.771-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:48.771-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:48.771-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:48.771-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:48.771-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:48.771-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:48.771-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:48.772-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:48.772-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:48.772-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros
2025-12-23T17:02:48.773-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:48.773-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:02:48.774-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:02:48.777-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-12-23T17:02:48.777-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2a90c15e, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:02:48.778-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@2162b22d
2025-12-23T17:02:48.778-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T17:02:48.778-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:48.823-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:48.824-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:48.824-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:48.824-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:48.824-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:48.824-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:48.824-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:48.825-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:48.825-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:48.825-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:02:48.825-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:48.826-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:48.826-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:48.827-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:48.827-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:48.828-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:48.828-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:48.828-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:48.828-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:48.828-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:48.828-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:48.828-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:48.828-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:48.829-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:48.829-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:48.829-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:02:48.829-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:48.829-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:02:48.829-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:48.829-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:48.829-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:48.830-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:48.830-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:48.830-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:48.830-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:48.830-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:48.830-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:02:48.830-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000026d01ad0858@19ce7f68
2025-12-23T17:02:48.831-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:02:48.832-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:02:48.832-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:02:48.835-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:48.837-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:02:48.837-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:02:50.604-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:50.605-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:50.605-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:50.605-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:50.605-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:50.605-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:50.605-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:50.605-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:50.605-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=TBbrOF06gegmNj72PsL9_hJsAW99rXJl4IwKVibg-wI&code_challenge_method=S256
2025-12-23T17:02:50.605-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T17:02:50.606-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T17:02:50.606-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T17:02:50.606-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T17:02:50.606-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T17:02:50.606-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T17:02:50.606-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T17:02:50.606-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@331886ac]]]
2025-12-23T17:02:50.606-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T17:02:50.606-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T17:02:50.606-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T17:02:50.607-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T17:02:50.607-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T17:02:50.607-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@18b10a6b] from SPRING_SECURITY_CONTEXT
2025-12-23T17:02:50.607-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-23T17:02:50.615-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-23T17:02:50.615-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-23T17:02:50.622-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-12-23T17:02:50.622-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Saved authorization
2025-12-23T17:02:50.622-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-12-23T17:02:50.623-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.core.session.SessionRegistryImpl   : Registering session D9732B9214F8CD234D99441A8AD13DA0, for principal Usuario(id=ef8a0519-3f66-453f-9542-4a97a91a0363, login=gerente, senha=$2a$10$6YtOpXqcRgzC3arsw7emo.Sd.ZikCSk5BHpGAtGt1B.yv5M3bRYXO, email=gerente@universidade.br, roles=[GERENTE], telefone=null)
2025-12-23T17:02:50.623-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.core.session.SessionRegistryImpl   : Sessions used by 'Usuario(id=ef8a0519-3f66-453f-9542-4a97a91a0363, login=gerente, senha=$2a$10$6YtOpXqcRgzC3arsw7emo.Sd.ZikCSk5BHpGAtGt1B.yv5M3bRYXO, email=gerente@universidade.br, roles=[GERENTE], telefone=null)' : [D9732B9214F8CD234D99441A8AD13DA0]
2025-12-23T17:02:50.623-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/authorized?code=Y44l05bPoAAZpDaGQyHJ2H3eLOa04onTjm7N7lf4ZoPDQcT0lZcycMwn93kWMvO2foVLYhI5shW0mUTKhwU-wt4qdLMYgN3RbXzg3uAHYx31xJDm2SJk8gN0IiX3IwEw
2025-12-23T17:02:50.623-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:50.846-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:50.847-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:50.847-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:50.847-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:50.847-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:50.847-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:50.847-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:50.847-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:50.848-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-12-23T17:02:50.848-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T17:02:50.848-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T17:02:50.848-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T17:02:50.848-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T17:02:50.850-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T17:02:50.850-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T17:02:50.852-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T17:02:50.853-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@331886ac]]]
2025-12-23T17:02:50.853-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T17:02:50.853-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T17:02:50.853-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T17:02:50.853-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T17:02:50.854-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T17:02:50.854-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (12/27)
2025-12-23T17:02:50.854-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (13/27)
2025-12-23T17:02:50.854-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (14/27)
2025-12-23T17:02:50.854-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (15/27)
2025-12-23T17:02:50.856-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-12-23T17:02:50.857-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-12-23T17:02:50.857-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-12-23T17:02:50.857-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with PublicClientAuthenticationProvider (4/20)
2025-12-23T17:02:50.870-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.PublicClientAuthenticationProvider : Retrieved registered client
2025-12-23T17:02:50.870-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.PublicClientAuthenticationProvider : Validated client authentication parameters
2025-12-23T17:02:50.871-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-12-23T17:02:50.871-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Validated code verifier parameters
2025-12-23T17:02:50.871-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Authenticated code verifier
2025-12-23T17:02:50.872-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.PublicClientAuthenticationProvider : Authenticated public client
2025-12-23T17:02:50.872-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-12-23T17:02:50.872-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (16/27)
2025-12-23T17:02:50.873-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:50.873-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (17/27)
2025-12-23T17:02:50.873-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:02:50.873-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (18/27)
2025-12-23T17:02:50.873-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:50.873-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (19/27)
2025-12-23T17:02:50.873-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (20/27)
2025-12-23T17:02:50.873-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (21/27)
2025-12-23T17:02:50.873-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (22/27)
2025-12-23T17:02:50.873-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-12-23T17:02:50.873-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@433eebec
2025-12-23T17:02:50.874-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=client-frontend, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-12-23T17:02:50.874-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (23/27)
2025-12-23T17:02:50.877-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-12-23T17:02:50.880-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-12-23T17:02:50.880-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-12-23T17:02:50.880-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-12-23T17:02:50.959-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-12-23T17:02:50.980-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Generated id token
2025-12-23T17:02:50.983-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-12-23T17:02:50.985-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-12-23T17:02:50.990-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:51.054-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:51.054-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:51.054-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:51.054-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:51.054-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:51.054-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:51.054-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:51.054-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:51.054-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:51.054-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros
2025-12-23T17:02:51.054-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:51.054-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:51.056-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:51.056-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:51.056-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:51.057-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:51.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:02:51.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:02:51.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:02:51.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:02:51.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:02:51.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:02:51.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:02:51.063-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:02:51.063-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:02:51.063-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /livros
2025-12-23T17:02:51.063-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:02:51.063-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:02:51.063-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:02:51.063-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:02:51.063-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:02:51.064-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:02:51.064-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:02:51.064-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:02:51.064-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:02:51.064-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:02:51.064-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:02:51.064-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:02:51.064-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:02:51.064-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:02:51.072-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:02:51.072-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:02:51.072-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:02:51.072-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:02:51.083-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:02:51.084-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:02:51.084-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:02:51.084-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:02:51.084-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:02:51.084-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:02:51.084-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:02:51.084-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:02:51.085-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros
2025-12-23T17:02:51.085-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:02:51.085-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@3c1f466b
2025-12-23T17:02:51.086-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /livros
2025-12-23T17:02:51.086-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/livros", parameters={}
2025-12-23T17:02:51.087-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:02:51.113-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:02:51.136-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:02:51.270-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:02:51.270-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:02:51.292-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:02:51.294-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:06:28.581-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:06:28.581-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:06:28.581-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:06:28.581-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:06:28.581-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:06:28.583-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:06:28.583-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:06:28.583-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:06:28.583-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:06:28.583-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros
2025-12-23T17:06:28.583-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:06:28.584-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:06:28.584-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:06:28.584-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:06:28.585-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:06:28.587-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:06:28.597-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:06:28.598-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:06:28.598-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:06:28.598-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:06:28.598-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:06:28.598-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:06:28.598-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:06:28.598-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:06:28.598-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:06:28.599-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /livros
2025-12-23T17:06:28.599-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:06:28.599-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:06:28.599-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:06:28.600-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:06:28.600-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:06:28.601-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:06:28.604-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:06:28.604-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:06:28.605-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:06:28.605-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:06:28.605-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:06:28.606-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:06:28.606-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:06:28.607-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:06:28.610-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:06:28.610-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:06:28.611-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:06:28.611-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:06:28.632-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:06:28.632-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:06:28.632-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:06:28.633-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:06:28.633-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:06:28.633-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:06:28.633-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:06:28.633-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:06:28.635-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros
2025-12-23T17:06:28.635-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:06:28.635-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@698652ff
2025-12-23T17:06:28.636-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /livros
2025-12-23T17:06:28.636-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/livros", parameters={}
2025-12-23T17:06:28.637-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:06:28.640-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:06:28.642-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:06:28.707-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:06:28.707-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:06:28.708-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:06:28.710-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:07:28.832-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:07:28.832-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:07:28.833-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:07:28.833-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:07:28.833-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:07:28.833-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:07:28.833-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:07:28.833-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:07:28.833-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:07:28.833-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:07:28.833-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:07:28.833-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:07:28.835-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:07:28.835-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:07:28.835-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:07:28.837-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:07:28.843-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:07:28.845-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:07:28.845-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:07:28.845-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:07:28.845-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:07:28.845-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:07:28.845-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:07:28.845-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:07:28.846-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:07:28.846-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:07:28.846-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:07:28.849-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:07:28.849-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:07:28.849-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:07:28.849-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:07:28.850-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:07:28.851-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:07:28.851-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:07:28.851-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:07:28.851-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:07:28.851-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:07:28.851-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:07:28.852-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:07:28.852-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:07:28.855-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:07:28.855-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:07:28.855-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:07:28.855-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:07:28.870-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:07:28.870-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:07:28.870-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:07:28.871-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:07:28.871-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:07:28.871-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:07:28.871-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:07:28.871-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:07:28.871-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:07:28.871-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:07:28.872-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@2f5805a2
2025-12-23T17:07:28.872-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:07:28.872-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:07:28.873-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:07:28.875-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:07:28.875-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:07:28.929-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:07:28.929-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:07:28.930-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:07:28.932-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:09:48.788-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:09:48.789-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:09:48.790-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:09:48.790-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:09:48.790-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:09:48.790-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:09:48.790-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:09:48.790-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:09:48.790-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:09:48.790-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:09:48.790-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:09:48.791-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:09:48.791-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:09:48.791-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:09:48.791-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:09:48.793-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:09:48.806-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:09:48.807-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:09:48.807-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:09:48.807-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:09:48.807-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:09:48.807-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:09:48.807-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:09:48.807-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:09:48.807-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:09:48.807-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:09:48.807-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:09:48.807-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:09:48.809-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:09:48.809-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:09:48.809-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:09:48.810-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:09:48.810-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:09:48.810-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:09:48.810-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:09:48.811-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:09:48.811-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:09:48.811-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:09:48.811-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:09:48.811-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:09:48.814-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:09:48.814-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:09:48.814-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:09:48.815-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:09:48.833-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:09:48.834-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:09:48.834-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:09:48.835-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:09:48.836-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:09:48.836-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:09:48.836-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:09:48.836-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:09:48.837-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:09:48.839-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:09:48.840-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5546db29
2025-12-23T17:09:48.841-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:09:48.843-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:09:48.844-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:09:48.847-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:09:48.849-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:09:48.897-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:09:48.898-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:09:48.899-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:09:48.900-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:11:04.992-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:11:04.992-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:11:04.992-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:11:04.992-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:11:04.992-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:11:04.992-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:11:04.992-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:11:04.992-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:11:04.992-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:11:04.992-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:11:04.992-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:11:04.995-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:11:04.995-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:11:04.995-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:11:04.995-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:11:04.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:11:05.005-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:11:05.005-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:11:05.005-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:11:05.005-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:11:05.006-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:11:05.006-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:11:05.006-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:11:05.006-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:11:05.006-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:11:05.006-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:11:05.006-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:11:05.007-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:11:05.007-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:11:05.007-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:11:05.007-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:11:05.008-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:11:05.008-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:11:05.008-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:11:05.009-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:11:05.009-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:11:05.009-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:11:05.009-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:11:05.009-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:11:05.010-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:11:05.012-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:11:05.012-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:11:05.013-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:11:05.013-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:11:05.030-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:11:05.030-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:11:05.030-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:11:05.031-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:11:05.031-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:11:05.031-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:11:05.031-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:11:05.031-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:11:05.032-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:11:05.032-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:11:05.032-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@7c1d9620
2025-12-23T17:11:05.033-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:11:05.033-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:11:05.035-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:11:05.037-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:11:05.038-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:11:05.090-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:11:05.091-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:11:05.092-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:11:05.093-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:11:06.746-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:11:06.746-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:11:06.747-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:11:06.747-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:11:06.747-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:11:06.747-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:11:06.747-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:11:06.747-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:11:06.747-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:11:06.748-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:11:06.748-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:11:06.748-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:11:06.748-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:11:06.748-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:11:06.748-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:11:06.749-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:11:06.750-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:11:06.750-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:11:06.750-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:11:06.751-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:11:06.751-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:11:06.751-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:11:06.751-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:11:06.752-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:11:06.755-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:11:06.755-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:11:06.756-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:11:06.756-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:11:06.782-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:11:06.783-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:11:06.784-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:11:06.784-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:11:06.785-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:11:06.785-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:11:06.785-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:11:06.785-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:11:06.786-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:11:06.786-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:11:06.786-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@34a00bd
2025-12-23T17:11:06.787-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:11:06.788-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:11:06.788-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:11:06.791-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:11:06.793-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:11:06.835-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:11:06.835-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:11:06.836-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:11:06.839-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:11:32.980-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:11:32.981-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:11:32.981-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:11:32.981-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:11:32.981-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:11:32.981-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:11:32.981-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:11:32.982-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:11:32.982-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:11:32.982-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:11:32.982-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:11:32.983-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:11:32.983-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:11:32.983-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:11:32.983-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:11:32.984-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:11:32.990-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:11:32.991-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:11:32.991-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:11:32.991-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:11:32.991-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:11:32.991-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:11:32.991-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:11:32.991-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:11:32.991-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:11:32.991-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:11:32.992-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:11:32.992-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:11:32.992-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:11:32.992-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:11:32.992-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:11:32.994-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:11:32.994-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:11:32.994-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:11:32.994-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:11:32.994-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:11:32.994-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:11:32.994-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:11:32.995-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:11:32.996-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:11:32.998-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:11:32.998-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:11:33.000-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:11:33.000-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:11:33.015-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:11:33.016-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:11:33.016-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:11:33.016-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:11:33.016-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:11:33.016-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:11:33.016-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:11:33.017-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:11:33.017-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:11:33.018-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:11:33.018-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@6598625d
2025-12-23T17:11:33.019-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:11:33.020-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:11:33.025-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:11:33.026-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:11:33.027-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:11:33.072-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:11:33.072-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:11:33.073-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:11:33.075-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:13:10.379-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:13:10.379-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:13:10.379-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:13:10.379-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:13:10.379-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:13:10.380-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:13:10.380-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:13:10.380-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:13:10.380-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:13:10.380-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:13:10.380-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:13:10.380-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:13:10.380-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:13:10.381-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:13:10.381-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:13:10.381-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:13:10.395-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:13:10.396-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:13:10.396-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:13:10.396-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:13:10.396-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:13:10.396-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:13:10.396-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:13:10.396-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:13:10.396-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:13:10.396-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:13:10.397-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:13:10.397-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:13:10.397-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:13:10.397-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:13:10.397-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:13:10.398-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:13:10.398-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:13:10.398-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:13:10.398-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:13:10.398-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:13:10.398-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:13:10.399-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:13:10.399-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:13:10.399-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:13:10.402-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:13:10.402-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:13:10.403-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:13:10.403-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:13:10.414-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:13:10.414-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:13:10.414-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:13:10.414-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:13:10.414-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:13:10.415-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:13:10.415-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:13:10.415-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:13:10.415-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:13:10.415-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:13:10.415-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@3bb76a55
2025-12-23T17:13:10.415-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:13:10.415-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:13:10.416-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:13:10.416-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:13:10.417-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:13:10.456-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:13:10.457-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:13:10.458-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:13:10.460-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:13:23.061-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:13:23.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:13:23.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:13:23.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:13:23.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:13:23.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:13:23.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:13:23.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:13:23.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:13:23.062-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:13:23.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:13:23.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:13:23.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:13:23.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:13:23.062-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:13:23.063-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:13:23.079-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:13:23.079-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:13:23.079-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:13:23.079-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:13:23.079-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:13:23.079-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:13:23.079-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:13:23.079-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:13:23.079-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:13:23.080-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:13:23.080-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:13:23.080-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:13:23.080-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:13:23.080-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:13:23.080-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:13:23.081-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:13:23.082-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:13:23.082-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:13:23.082-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:13:23.082-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:13:23.082-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:13:23.082-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:13:23.082-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:13:23.083-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:13:23.085-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:13:23.085-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:13:23.086-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:13:23.086-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:13:23.103-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:13:23.103-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:13:23.103-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:13:23.104-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:13:23.104-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:13:23.104-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:13:23.104-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:13:23.104-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:13:23.104-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:13:23.104-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:13:23.104-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@1d2d4677
2025-12-23T17:13:23.105-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:13:23.105-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:13:23.106-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:13:23.108-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:13:23.108-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:13:23.139-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:13:23.139-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:13:23.140-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:13:23.141-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:14:36.130-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:14:36.131-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:14:36.131-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:14:36.131-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:14:36.131-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:14:36.131-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:14:36.131-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:14:36.131-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:14:36.131-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:14:36.131-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:14:36.131-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:14:36.131-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:14:36.132-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:14:36.132-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:14:36.132-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:14:36.132-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:14:36.147-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:14:36.148-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:14:36.148-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:14:36.148-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:14:36.148-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:14:36.148-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:14:36.148-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:14:36.148-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:14:36.148-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:14:36.148-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:14:36.148-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:14:36.149-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:14:36.149-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:14:36.149-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:14:36.150-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:14:36.151-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:14:36.151-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:14:36.151-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:14:36.151-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:14:36.151-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:14:36.151-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:14:36.151-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:14:36.151-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:14:36.152-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:14:36.154-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:14:36.154-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:14:36.156-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:14:36.156-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:14:36.178-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:14:36.179-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:14:36.179-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:14:36.179-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:14:36.182-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:14:36.182-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:14:36.182-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:14:36.182-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:14:36.183-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:14:36.183-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:14:36.183-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@4c888ae6
2025-12-23T17:14:36.184-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:14:36.184-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:14:36.185-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:14:36.187-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:14:36.188-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:14:36.272-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:14:36.272-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:14:36.274-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:14:36.276-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:14:52.102-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:14:52.103-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:14:52.103-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:14:52.103-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:14:52.103-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:14:52.103-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:14:52.103-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:14:52.103-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:14:52.103-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:14:52.103-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:14:52.103-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:14:52.105-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:14:52.105-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:14:52.106-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:14:52.106-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:14:52.108-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:14:52.128-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:14:52.129-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:14:52.129-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:14:52.129-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:14:52.129-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:14:52.129-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:14:52.129-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:14:52.130-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:14:52.130-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:14:52.130-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:14:52.130-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:14:52.130-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:14:52.132-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:14:52.132-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:14:52.132-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:14:52.133-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:14:52.134-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:14:52.134-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:14:52.134-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:14:52.134-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:14:52.134-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:14:52.134-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:14:52.134-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:14:52.135-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:14:52.139-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:14:52.139-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:14:52.140-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:14:52.140-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:14:52.159-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:14:52.159-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:14:52.159-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:14:52.160-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:14:52.160-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:14:52.160-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:14:52.161-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:14:52.162-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:14:52.162-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:14:52.163-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:14:52.164-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@6fa5b5c2
2025-12-23T17:14:52.165-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:14:52.165-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:14:52.166-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:14:52.168-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:14:52.170-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:14:52.231-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:14:52.232-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:14:52.234-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:14:52.237-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:14:57.132-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:14:57.132-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:14:57.132-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:14:57.132-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:14:57.133-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:14:57.133-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:14:57.133-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:14:57.133-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:14:57.133-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:14:57.133-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:14:57.133-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:14:57.134-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:14:57.134-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:14:57.134-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:14:57.134-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:14:57.135-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:14:57.161-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:14:57.161-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:14:57.162-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:14:57.162-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:14:57.163-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:14:57.163-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:14:57.163-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:14:57.163-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:14:57.164-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:14:57.165-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:14:57.166-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:14:57.167-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:14:57.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:14:57.168-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:14:57.169-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:14:57.170-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:14:57.170-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:14:57.171-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:14:57.171-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:14:57.171-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:14:57.171-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:14:57.171-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:14:57.171-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:14:57.172-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:14:57.174-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:14:57.175-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:14:57.175-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:14:57.175-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:14:57.185-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:14:57.185-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:14:57.185-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:14:57.185-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:14:57.185-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:14:57.185-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:14:57.186-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:14:57.186-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:14:57.186-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:14:57.186-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:14:57.186-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@3cc089a2
2025-12-23T17:14:57.187-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:14:57.188-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:14:57.188-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:14:57.189-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:14:57.190-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:14:57.225-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:14:57.226-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:14:57.227-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:14:57.229-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:17:23.473-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:17:23.474-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:17:23.474-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:17:23.474-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:17:23.474-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:17:23.474-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:17:23.474-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:17:23.475-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:17:23.475-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:17:23.476-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:17:23.476-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:17:23.479-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:17:23.479-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:17:23.480-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:17:23.481-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:17:23.484-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:17:23.494-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:17:23.494-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:17:23.494-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:17:23.494-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:17:23.494-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:17:23.494-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:17:23.494-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:17:23.494-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:17:23.495-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:17:23.495-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:17:23.495-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:17:23.495-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:17:23.495-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:17:23.495-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:17:23.495-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:17:23.496-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:17:23.497-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:17:23.497-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:17:23.498-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:17:23.499-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:17:23.499-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:17:23.499-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:17:23.501-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:17:23.502-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:17:23.506-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:17:23.506-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:17:23.507-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:17:23.508-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:17:23.521-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:17:23.521-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:17:23.522-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:17:23.522-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:17:23.522-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:17:23.523-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:17:23.523-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:17:23.523-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:17:23.523-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:17:23.523-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:17:23.523-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@36b0f795
2025-12-23T17:17:23.524-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:17:23.525-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:17:23.525-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:17:23.529-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:17:23.532-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:17:23.589-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:17:23.590-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:17:23.592-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:17:23.594-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:17:27.059-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:17:27.060-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:17:27.060-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:17:27.060-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:17:27.060-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:17:27.060-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:17:27.060-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:17:27.060-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:17:27.060-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:17:27.061-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:17:27.061-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:17:27.061-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:17:27.061-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:17:27.061-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:17:27.061-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:17:27.063-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:17:27.063-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:17:27.063-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:17:27.063-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:17:27.065-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:17:27.065-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:17:27.065-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:17:27.065-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:17:27.066-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:17:27.067-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:17:27.069-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:17:27.069-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:17:27.069-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:17:27.081-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:17:27.082-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:17:27.082-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:17:27.082-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:17:27.082-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:17:27.082-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:17:27.082-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:17:27.082-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:17:27.083-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:17:27.083-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:17:27.083-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@754221cb
2025-12-23T17:17:27.083-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:17:27.084-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:17:27.085-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:17:27.086-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:17:27.087-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:17:27.124-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:17:27.125-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:17:27.126-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:17:27.128-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:17:27.801-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:17:27.802-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:17:27.802-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:17:27.802-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:17:27.802-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:17:27.802-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:17:27.802-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:17:27.802-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:17:27.803-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:17:27.804-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:17:27.804-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:17:27.804-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:17:27.804-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:17:27.804-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:17:27.805-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:17:27.806-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:17:27.806-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:17:27.806-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:17:27.806-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:17:27.806-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:17:27.806-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:17:27.806-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:17:27.806-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:17:27.808-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:17:27.810-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:17:27.811-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:17:27.812-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:17:27.812-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:17:27.827-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:17:27.828-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:17:27.828-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:17:27.828-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:17:27.828-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:17:27.829-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:17:27.829-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:17:27.829-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:17:27.829-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:17:27.829-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:17:27.829-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@359935eb
2025-12-23T17:17:27.829-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:17:27.830-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:17:27.831-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:17:27.832-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:17:27.834-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:17:27.868-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:17:27.869-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:17:27.870-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:17:27.871-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:21:08.565-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:21:08.565-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:21:08.565-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:21:08.565-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:21:08.565-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:21:08.565-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:21:08.565-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:21:08.566-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:21:08.566-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:21:08.566-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:21:08.566-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:21:08.566-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:21:08.566-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:21:08.566-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:21:08.566-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:21:08.568-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:21:08.600-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:21:08.601-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:21:08.601-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:21:08.601-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:21:08.601-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:21:08.601-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:21:08.601-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:21:08.601-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:21:08.602-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:21:08.602-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:21:08.602-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:21:08.602-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:21:08.603-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:21:08.603-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:21:08.603-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:21:08.603-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:21:08.604-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:21:08.604-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:21:08.604-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:21:08.604-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:21:08.604-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:21:08.604-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:21:08.604-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:21:08.605-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:21:08.607-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:21:08.607-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:21:08.608-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:21:08.608-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:21:08.620-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:21:08.620-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:21:08.620-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:21:08.620-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:21:08.620-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:21:08.620-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:21:08.620-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:21:08.620-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:21:08.621-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:21:08.621-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:21:08.621-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@7bee89a7
2025-12-23T17:21:08.621-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:21:08.622-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:21:08.622-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:21:08.624-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:21:08.625-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:21:08.667-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:21:08.667-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:21:08.668-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:21:08.669-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:21:15.381-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:21:15.382-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:21:15.382-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:21:15.382-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:21:15.382-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:21:15.382-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:21:15.382-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:21:15.382-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:21:15.382-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:21:15.382-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:21:15.382-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:21:15.382-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:21:15.382-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:21:15.383-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:21:15.383-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:21:15.384-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:21:15.394-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:21:15.394-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:21:15.394-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:21:15.394-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:21:15.394-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:21:15.394-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:21:15.394-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:21:15.395-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026d01ad0220@190a5f74, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63c6673, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42adda0b, org.springframework.security.web.context.SecurityContextHolderFilter@28446b06, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3b48ffe8, org.springframework.security.web.header.HeaderWriterFilter@65e4ee59, org.springframework.web.filter.CorsFilter@2af647bc, org.springframework.security.web.csrf.CsrfFilter@3a1dc432, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@573e38c, org.springframework.security.web.authentication.logout.LogoutFilter@3e6b8b27, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2e9f8c8f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@b0ff869, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@78ae9b9c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@62765e11, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@8dba70a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3ee39a1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4de5d46c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e147821, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@404bca88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6865ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a14110, org.springframework.security.web.access.ExceptionTranslationFilter@24a696c0, org.springframework.security.web.access.intercept.AuthorizationFilter@12c66345, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61774805, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4e1fd34b, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@28322fd3]] (8/9)
2025-12-23T17:21:15.395-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7ccbb3a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@509a43b9, org.springframework.security.web.context.SecurityContextHolderFilter@631ff7a2, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@48c925b1, org.springframework.security.web.authentication.logout.LogoutFilter@776e4088, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5b12157b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51989b17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7d994c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5bf41334, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@198c97d0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54353bb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a837f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b735479, org.springframework.security.web.access.ExceptionTranslationFilter@262e2c8c, org.springframework.security.web.access.intercept.AuthorizationFilter@33bd3549]] (9/9)
2025-12-23T17:21:15.395-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:21:15.395-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:21:15.395-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:21:15.396-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:21:15.396-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:21:15.396-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:21:15.396-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:21:15.396-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:21:15.396-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:21:15.396-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:21:15.399-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:21:15.399-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:21:15.399-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:21:15.399-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:21:15.400-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:21:15.403-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:21:15.403-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:21:15.403-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a64b9441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:21:15.403-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:21:15.419-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:21:15.420-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:21:15.420-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:21:15.420-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:21:15.420-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:21:15.421-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:21:15.421-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:21:15.421-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:21:15.422-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:21:15.422-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@728d1e77
2025-12-23T17:21:15.422-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@49bdb401
2025-12-23T17:21:15.423-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:21:15.424-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:21:15.424-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:21:15.426-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:21:15.428-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:21:15.462-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:21:15.463-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:21:15.464-03:00 TRACE 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:21:15.464-03:00 DEBUG 7904 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:27:20.298-03:00  INFO 21784 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 21784 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-23T17:27:20.300-03:00 DEBUG 21784 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-23T17:27:20.301-03:00  INFO 21784 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-23T17:27:25.984-03:00 DEBUG 21784 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-23T17:27:25.986-03:00 DEBUG 21784 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-23T17:27:26.444-03:00  WARN 21784 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23T17:27:26.479-03:00 TRACE 21784 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@6ccf06f1, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@1507bc3}
2025-12-23T17:27:26.482-03:00  INFO 21784 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-23T17:27:26.651-03:00 DEBUG 21784 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-23T17:27:26.677-03:00 DEBUG 21784 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-23T17:27:26.721-03:00 DEBUG 21784 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-23T17:27:28.437-03:00 DEBUG 21784 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-23T17:27:28.552-03:00 DEBUG 21784 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-23T17:27:28.568-03:00  WARN 21784 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:27:28.568-03:00 DEBUG 21784 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-23T17:27:28.569-03:00  WARN 21784 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:27:28.569-03:00 DEBUG 21784 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-23T17:27:28.569-03:00  WARN 21784 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:27:28.569-03:00 DEBUG 21784 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-23T17:27:28.569-03:00  WARN 21784 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:27:28.569-03:00 DEBUG 21784 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-23T17:27:28.569-03:00  WARN 21784 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:27:28.570-03:00 DEBUG 21784 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-23T17:27:28.570-03:00  WARN 21784 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:27:28.570-03:00 DEBUG 21784 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-23T17:27:28.570-03:00  WARN 21784 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:27:28.570-03:00 DEBUG 21784 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-23T17:27:28.663-03:00 DEBUG 21784 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-23T17:27:28.742-03:00 DEBUG 21784 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-23T17:27:29.911-03:00 DEBUG 21784 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-23T17:27:29.913-03:00 DEBUG 21784 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-23T17:27:29.918-03:00 DEBUG 21784 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-23T17:27:29.927-03:00 DEBUG 21784 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-23T17:27:29.947-03:00  INFO 21784 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 10.398 seconds (process running for 11.395)
2025-12-23T17:27:30.282-03:00  INFO 21784 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-23T17:27:30.282-03:00 DEBUG 21784 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-23T17:27:30.282-03:00 DEBUG 21784 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-23T17:27:30.282-03:00 DEBUG 21784 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-23T17:27:30.286-03:00 DEBUG 21784 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7ba821ef
2025-12-23T17:27:30.287-03:00 DEBUG 21784 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@39482f2b
2025-12-23T17:27:30.287-03:00 DEBUG 21784 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-23T17:27:30.287-03:00  INFO 21784 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-12-23T17:27:32.663-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:32.664-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:32.664-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:32.666-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:32.666-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:32.666-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:32.666-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:32.666-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:32.667-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:32.668-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:27:32.674-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:32.681-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:32.683-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:32.687-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:32.690-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:32.719-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:32.730-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:32.731-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:32.731-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:32.731-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:32.731-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:32.731-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:32.732-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:32.732-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:32.732-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:32.733-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:27:32.733-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:32.734-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:32.735-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:32.736-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:32.736-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:32.739-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:32.740-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:32.740-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:32.740-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:32.740-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:32.740-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:32.741-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:32.741-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:32.743-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:27:32.791-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.oauth2.jwt.NimbusJwtDecoder        : Failed to process JWT

com.nimbusds.jose.proc.BadJOSEException: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:357) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:158) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:138) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:27:32.797-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Failed to authenticate since the JWT was invalid
2025-12-23T17:27:32.800-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Failed to process authentication request

org.springframework.security.oauth2.server.resource.InvalidBearerTokenException: An error occurred while attempting to decode the Jwt: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:103) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.springframework.security.oauth2.jwt.BadJwtException: An error occurred while attempting to decode the Jwt: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:184) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:138) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	... 92 common frames omitted
Caused by: com.nimbusds.jose.proc.BadJOSEException: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:357) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:158) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	... 94 common frames omitted

2025-12-23T17:27:32.803-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:32.841-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:32.842-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:32.842-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:32.842-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:32.842-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:32.842-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:32.842-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:32.842-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:32.842-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=sZKh6VOci41vYdVo75fEdvGtHfukwtwvaJZOP6LRzpM&code_challenge_method=S256
2025-12-23T17:27:32.843-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T17:27:32.843-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T17:27:32.843-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T17:27:32.843-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T17:27:32.845-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T17:27:32.845-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T17:27:32.845-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T17:27:32.847-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@23f4aaeb]]]
2025-12-23T17:27:32.847-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T17:27:32.847-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T17:27:32.848-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T17:27:32.848-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T17:27:32.848-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T17:27:32.850-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:27:32.850-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:32.850-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:32.852-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-23T17:27:33.166-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-23T17:27:33.168-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-23T17:27:33.169-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-12-23T17:27:33.169-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (12/27)
2025-12-23T17:27:33.169-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (13/27)
2025-12-23T17:27:33.169-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (14/27)
2025-12-23T17:27:33.170-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (15/27)
2025-12-23T17:27:33.170-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (16/27)
2025-12-23T17:27:33.170-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:33.170-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (17/27)
2025-12-23T17:27:33.170-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:33.170-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (18/27)
2025-12-23T17:27:33.170-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:33.170-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (19/27)
2025-12-23T17:27:33.172-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (20/27)
2025-12-23T17:27:33.173-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (21/27)
2025-12-23T17:27:33.174-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (22/27)
2025-12-23T17:27:33.177-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=sZKh6VOci41vYdVo75fEdvGtHfukwtwvaJZOP6LRzpM&code_challenge_method=S256
2025-12-23T17:27:33.178-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=sZKh6VOci41vYdVo75fEdvGtHfukwtwvaJZOP6LRzpM&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4b7fcacf
2025-12-23T17:27:33.179-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:33.184-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:27:33.210-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=sZKh6VOci41vYdVo75fEdvGtHfukwtwvaJZOP6LRzpM&code_challenge_method=S256&continue to session
2025-12-23T17:27:33.211-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-12-23T17:27:33.214-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@23f4aaeb, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T17:27:33.216-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:27:33.216-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@5b6b5888
2025-12-23T17:27:33.218-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T17:27:33.219-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:33.226-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:33.227-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:33.227-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:33.227-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:33.227-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:33.227-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:33.227-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:33.228-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:33.229-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:33.229-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:27:33.230-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:33.230-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:33.230-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:33.230-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:33.230-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:33.230-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:33.230-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 88CBE87BE27C4941479761A87215B04A using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:33.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:33.232-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:33.232-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:33.232-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:33.232-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:27:33.232-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001d60dacdc68@7c673881
2025-12-23T17:27:33.234-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:27:33.236-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:27:33.238-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:27:33.504-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:33.506-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:27:33.506-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88CBE87BE27C4941479761A87215B04A], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:33.543-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:33.544-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:33.544-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:33.544-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:33.544-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:33.544-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:33.544-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:33.545-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:33.546-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:33.546-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:27:33.546-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:33.547-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:33.547-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:33.547-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:33.547-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:33.547-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:33.547-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:33.547-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:33.547-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:33.547-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:33.547-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:33.548-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:33.548-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:33.548-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:33.548-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:33.548-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 88CBE87BE27C4941479761A87215B04A using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:27:33.548-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:33.548-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:33.548-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:33.548-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:33.548-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:33.549-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:33.549-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:33.549-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:33.549-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:33.549-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:33.550-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:27:33.550-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:27:33.550-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88CBE87BE27C4941479761A87215B04A], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:33.551-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88CBE87BE27C4941479761A87215B04A], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:27:33.554-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json?continue to session
2025-12-23T17:27:33.554-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:27:33.554-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T17:27:33.554-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@4485ca30
2025-12-23T17:27:33.554-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-23T17:27:33.554-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@3967a02b
2025-12-23T17:27:33.556-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:33.563-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:33.563-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:33.563-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:33.563-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:33.563-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:33.563-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:33.563-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:33.563-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:33.564-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:33.564-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T17:27:33.564-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:33.564-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:33.565-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:33.565-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:33.565-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:33.565-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:33.565-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:33.565-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:33.565-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:33.565-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:33.565-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:33.565-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:33.565-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:33.565-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:33.566-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:33.566-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:33.566-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:33.566-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:33.566-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:33.566-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:33.566-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:33.566-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T17:27:33.566-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:27:33.566-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 88CBE87BE27C4941479761A87215B04A using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:27:33.566-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:33.566-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:33.567-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88CBE87BE27C4941479761A87215B04A], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:33.567-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88CBE87BE27C4941479761A87215B04A], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:27:33.570-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-12-23T17:27:33.570-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:27:33.570-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T17:27:33.570-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@4485ca30
2025-12-23T17:27:33.570-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-23T17:27:33.571-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@3967a02b
2025-12-23T17:27:37.958-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:37.959-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:37.959-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:37.959-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:37.960-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:37.960-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:37.960-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:37.960-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:37.961-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:37.962-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:27:37.962-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:37.963-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:37.963-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:37.963-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:37.963-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:37.964-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:37.965-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:37.965-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:37.965-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:37.965-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:37.965-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:37.966-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:37.966-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:37.966-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:37.966-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:37.966-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:27:37.966-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:37.966-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:37.966-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:37.966-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:37.967-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:37.967-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:37.967-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:37.967-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:37.967-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:37.967-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:37.968-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:27:37.969-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:27:37.969-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:37.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:27:37.976-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-12-23T17:27:37.977-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:27:37.978-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@546ab02b
2025-12-23T17:27:37.979-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T17:27:37.980-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:38.033-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:38.034-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:38.034-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:38.034-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:38.034-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:38.035-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:38.035-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:38.035-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:38.035-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:38.036-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:27:38.036-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:38.037-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:38.037-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:38.038-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:38.038-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:38.039-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:38.039-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:38.039-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:38.039-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:38.040-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:38.040-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:38.040-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:38.040-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:38.040-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:38.040-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:38.040-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:27:38.040-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:38.040-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:38.040-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:38.041-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:38.041-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:38.041-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:38.041-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:38.041-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:38.041-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:38.041-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:38.042-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:27:38.042-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001d60dacdc68@7c673881
2025-12-23T17:27:38.043-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:27:38.044-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:27:38.044-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:27:38.047-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:38.049-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:27:38.049-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:40.160-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:40.160-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:40.160-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:40.161-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:40.161-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:40.161-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:40.161-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:40.161-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:40.161-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:40.161-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:27:40.162-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:40.162-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:40.162-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:40.162-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:40.162-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:40.164-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:40.164-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:40.165-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:40.165-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:40.165-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:40.165-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:40.166-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:40.166-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:40.167-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:40.167-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:40.168-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:27:40.177-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:40.177-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:40.177-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:40.178-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:40.178-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:40.178-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:40.179-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:40.179-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:40.179-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:40.180-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:40.181-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:27:40.181-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:27:40.182-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:40.182-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:27:40.185-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-12-23T17:27:40.185-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:27:40.186-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@546ab02b
2025-12-23T17:27:40.186-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T17:27:40.186-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:40.221-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:40.221-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:40.222-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:40.222-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:40.222-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:40.223-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:40.223-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:40.223-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:40.224-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:40.224-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:27:40.225-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:40.225-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:40.225-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:40.226-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:40.227-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:40.229-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:40.230-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:40.230-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:40.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:40.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:40.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:40.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:40.231-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:40.232-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:40.232-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:40.232-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:27:40.232-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:40.232-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:40.232-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:40.233-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:40.233-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:40.233-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:40.233-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:40.233-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:40.233-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:40.233-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:40.234-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:27:40.234-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001d60dacdc68@7c673881
2025-12-23T17:27:40.234-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:27:40.235-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:27:40.235-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:27:40.238-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:40.240-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:27:40.241-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:44.433-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:44.433-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:44.433-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:44.433-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:44.433-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:44.433-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:44.433-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:44.433-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:44.433-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=tiBr-1D-i3QY8Nuu-CKnqMrFoIZ5Ptm-n_tIqHXykVU&code_challenge_method=S256
2025-12-23T17:27:44.433-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T17:27:44.433-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T17:27:44.433-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T17:27:44.433-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T17:27:44.433-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T17:27:44.433-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T17:27:44.434-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T17:27:44.434-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@23f4aaeb]]]
2025-12-23T17:27:44.434-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T17:27:44.434-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T17:27:44.434-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T17:27:44.434-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T17:27:44.434-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T17:27:44.435-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 88CBE87BE27C4941479761A87215B04A using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:27:44.435-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:44.435-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:44.435-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-23T17:27:44.443-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-23T17:27:44.443-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-23T17:27:44.443-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-12-23T17:27:44.443-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (12/27)
2025-12-23T17:27:44.443-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (13/27)
2025-12-23T17:27:44.443-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (14/27)
2025-12-23T17:27:44.443-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (15/27)
2025-12-23T17:27:44.443-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (16/27)
2025-12-23T17:27:44.443-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:44.443-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (17/27)
2025-12-23T17:27:44.443-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:44.443-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (18/27)
2025-12-23T17:27:44.444-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:44.444-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (19/27)
2025-12-23T17:27:44.444-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (20/27)
2025-12-23T17:27:44.444-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (21/27)
2025-12-23T17:27:44.444-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (22/27)
2025-12-23T17:27:44.444-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=tiBr-1D-i3QY8Nuu-CKnqMrFoIZ5Ptm-n_tIqHXykVU&code_challenge_method=S256
2025-12-23T17:27:44.444-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=tiBr-1D-i3QY8Nuu-CKnqMrFoIZ5Ptm-n_tIqHXykVU&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4b7fcacf
2025-12-23T17:27:44.444-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88CBE87BE27C4941479761A87215B04A], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:44.444-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88CBE87BE27C4941479761A87215B04A], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:27:44.447-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=tiBr-1D-i3QY8Nuu-CKnqMrFoIZ5Ptm-n_tIqHXykVU&code_challenge_method=S256&continue to session
2025-12-23T17:27:44.447-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-12-23T17:27:44.447-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@23f4aaeb, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T17:27:44.447-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:27:44.447-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@5b6b5888
2025-12-23T17:27:44.447-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T17:27:44.447-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:44.452-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 88CBE87BE27C4941479761A87215B04A using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:44.452-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:44.453-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:27:44.453-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001d60dacdc68@7c673881
2025-12-23T17:27:44.453-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:27:44.453-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:27:44.453-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:27:44.454-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:44.455-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:27:44.455-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88CBE87BE27C4941479761A87215B04A], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:44.498-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:44.500-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:44.500-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:44.500-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:44.500-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:44.500-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:44.500-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:44.500-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:44.500-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:44.500-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:27:44.500-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:44.500-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:44.500-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:44.500-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:44.500-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 88CBE87BE27C4941479761A87215B04A using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:44.502-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:44.503-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:27:44.503-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:27:44.503-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88CBE87BE27C4941479761A87215B04A], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:44.503-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88CBE87BE27C4941479761A87215B04A], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:27:44.504-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json?continue to session
2025-12-23T17:27:44.504-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:27:44.504-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T17:27:44.504-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@4485ca30
2025-12-23T17:27:44.504-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-23T17:27:44.504-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@3967a02b
2025-12-23T17:27:44.504-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:44.506-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:44.506-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:44.506-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:44.506-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:44.506-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:44.506-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:44.506-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:44.507-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:44.507-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:44.507-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T17:27:44.507-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:44.507-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:44.507-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:44.507-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:44.507-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:44.507-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 88CBE87BE27C4941479761A87215B04A using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:27:44.508-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:44.509-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:44.509-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88CBE87BE27C4941479761A87215B04A], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:44.509-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=88CBE87BE27C4941479761A87215B04A], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:27:44.510-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-12-23T17:27:44.511-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:27:44.511-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T17:27:44.511-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@4485ca30
2025-12-23T17:27:44.511-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-23T17:27:44.511-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@3967a02b
2025-12-23T17:27:49.551-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:49.552-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:49.552-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:49.552-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:49.552-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:49.552-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:49.552-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:49.552-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:49.552-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:49.552-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-23T17:27:49.552-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:49.552-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:49.552-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:49.552-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:49.552-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:49.553-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:49.553-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:49.553-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:49.553-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:49.553-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:49.553-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:49.553-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-23T17:27:49.637-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-23T17:27:49.637-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 88CBE87BE27C4941479761A87215B04A
2025-12-23T17:27:49.641-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4866268a] to HttpSession [org.apache.catalina.session.StandardSessionFacade@5dadbde0]
2025-12-23T17:27:49.641-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@4866268a
2025-12-23T17:27:49.641-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/error?continue
2025-12-23T17:27:49.641-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:49.647-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:49.647-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:49.647-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:49.648-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?continue
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:49.648-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:49.649-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4866268a] from SPRING_SECURITY_CONTEXT
2025-12-23T17:27:49.649-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:49.649-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:49.649-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:49.649-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Removing DefaultSavedRequest from session if present
2025-12-23T17:27:49.649-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/error?continue
2025-12-23T17:27:49.650-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:49.650-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:49.650-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:49.650-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:49.650-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?continue
2025-12-23T17:27:49.650-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:27:49.651-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@4866268a
2025-12-23T17:27:49.651-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?continue
2025-12-23T17:27:49.651-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/error?continue", parameters={masked}
2025-12-23T17:27:49.652-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-23T17:27:49.666-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-23T17:27:49.666-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Dec 23 17:27:49 BRT 2025, status=999, error=None}]
2025-12-23T17:27:49.677-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:49.678-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-23T17:27:49.720-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:49.720-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:49.720-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:49.720-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:49.720-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:49.720-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:49.720-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:49.720-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:49.720-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:49.720-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4866268a] from SPRING_SECURITY_CONTEXT
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:49.721-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:49.722-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:27:49.722-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:27:49.722-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@4866268a
2025-12-23T17:27:49.722-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:27:49.722-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-23T17:27:49.723-03:00  WARN 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:27:49.725-03:00  WARN 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-12-23T17:27:49.725-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:49.725-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-12-23T17:27:49.726-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:49.728-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:49.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:49.729-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:49.729-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:49.729-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:49.729-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:49.729-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:49.730-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T17:27:49.730-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:27:49.730-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4866268a] from SPRING_SECURITY_CONTEXT
2025-12-23T17:27:49.730-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@4866268a
2025-12-23T17:27:49.730-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-23T17:27:49.731-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-23T17:27:49.731-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-23T17:27:49.732-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-23T17:27:49.732-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Dec 23 17:27:49 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-23T17:27:49.736-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:51.171-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4866268a] from SPRING_SECURITY_CONTEXT
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001d60dacdc68@7c673881
2025-12-23T17:27:51.171-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:27:51.171-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:27:51.171-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:51.171-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:27:51.171-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@4866268a
2025-12-23T17:27:51.214-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:51.214-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:51.214-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:51.214-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:51.214-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:51.214-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:51.214-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:51.214-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:51.214-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:51.214-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:27:51.214-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:51.215-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:51.215-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:51.215-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:51.215-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:51.215-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:51.215-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:51.215-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:51.215-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:51.215-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:51.215-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:51.215-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:51.215-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:51.215-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:51.216-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:51.216-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4866268a] from SPRING_SECURITY_CONTEXT
2025-12-23T17:27:51.216-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:51.216-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:51.216-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:51.216-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:51.216-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:51.216-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:51.216-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:51.216-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:51.217-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:27:51.217-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:27:51.217-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@4866268a
2025-12-23T17:27:51.217-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:27:51.217-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-23T17:27:51.218-03:00  WARN 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:27:51.219-03:00  WARN 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-12-23T17:27:51.219-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:51.220-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-12-23T17:27:51.220-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-23T17:27:51.221-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:51.221-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:51.221-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:51.221-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:51.221-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:51.221-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:51.221-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:51.222-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:51.222-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:51.222-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T17:27:51.222-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:51.222-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:51.222-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:51.222-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:51.223-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:51.223-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:51.223-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:51.223-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:51.223-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:51.223-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:51.223-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:51.223-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:51.223-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:51.224-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:51.224-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:51.224-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:51.224-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:51.224-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:51.224-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:51.224-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:51.224-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:51.224-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T17:27:51.224-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:27:51.224-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4866268a] from SPRING_SECURITY_CONTEXT
2025-12-23T17:27:51.224-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@4866268a
2025-12-23T17:27:51.225-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-23T17:27:51.225-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-23T17:27:51.225-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-23T17:27:51.227-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-23T17:27:51.227-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Dec 23 17:27:51 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-23T17:27:51.228-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-23T17:27:51.904-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:51.904-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:51.905-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:51.905-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:51.905-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:51.905-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:51.905-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:51.905-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:51.905-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:51.906-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:27:51.906-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:51.907-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:51.907-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:51.907-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:51.907-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:51.908-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:51.908-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:51.908-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:51.908-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:51.908-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:51.908-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:51.908-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:51.908-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:51.908-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:51.908-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:51.910-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:27:51.910-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:51.910-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:51.910-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:51.910-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:51.910-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:51.910-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:51.911-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:51.911-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:51.911-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:51.911-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:51.912-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:27:51.912-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:27:51.913-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:51.914-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:27:51.917-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-12-23T17:27:51.917-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:27:51.919-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@546ab02b
2025-12-23T17:27:51.919-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T17:27:51.919-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:51.968-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:51.969-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:51.969-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:51.969-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:51.969-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:51.969-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:51.969-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:51.969-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:51.969-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:51.969-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:27:51.969-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:51.969-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:51.969-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:51.969-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:51.969-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:51.970-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:51.970-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:51.970-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:51.971-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:51.972-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:27:51.972-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001d60dacdc68@7c673881
2025-12-23T17:27:51.972-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:27:51.972-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:27:51.973-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:27:51.974-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:51.976-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:27:51.976-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:53.691-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:53.691-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:53.691-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:53.692-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:53.692-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:53.692-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:53.692-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:53.692-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:53.692-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:53.692-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:27:53.693-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:53.693-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:53.693-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:53.693-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:53.693-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:53.694-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:53.694-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:53.694-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:53.694-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:53.694-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:53.694-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:53.694-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:53.695-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:53.695-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:53.695-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:53.695-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:27:53.695-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:53.695-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:53.695-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:53.695-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:53.695-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:53.695-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:53.695-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:53.695-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:53.695-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:53.695-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:53.696-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:27:53.696-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:27:53.696-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:53.698-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:27:53.700-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-12-23T17:27:53.701-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:27:53.701-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@546ab02b
2025-12-23T17:27:53.701-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T17:27:53.701-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:53.726-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:53.727-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:53.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:53.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:53.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:53.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:53.728-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:53.729-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:53.729-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:53.729-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:27:53.729-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:53.730-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:53.730-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:53.730-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:53.730-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:53.731-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:53.732-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:53.732-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:53.732-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:53.732-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:53.732-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:53.732-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:53.732-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:53.732-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:53.732-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:53.733-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:27:53.733-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:53.733-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:53.733-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:53.733-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:53.733-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:53.733-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:53.733-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:53.733-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:53.733-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:53.733-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:53.734-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:27:53.734-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001d60dacdc68@7c673881
2025-12-23T17:27:53.734-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:27:53.735-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:27:53.735-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:27:53.738-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:53.739-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:27:53.740-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:54.884-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:54.884-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:54.884-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:54.884-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:54.884-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:54.884-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:54.884-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:54.884-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:54.885-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:54.885-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:27:54.885-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:54.885-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:54.885-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:54.885-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:54.885-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:54.887-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:54.887-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:54.887-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:54.888-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:54.888-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:54.888-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:54.888-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:54.888-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:54.888-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:54.888-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:54.888-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:27:54.888-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:54.889-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:54.889-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:54.889-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:54.889-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:54.889-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:54.889-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:54.889-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:54.889-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:54.889-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:54.890-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:27:54.890-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:27:54.890-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:54.891-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:27:54.895-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-12-23T17:27:54.895-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@37edb7fa, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:27:54.896-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@546ab02b
2025-12-23T17:27:54.897-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T17:27:54.897-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:54.942-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:54.942-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:54.943-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:54.943-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:54.943-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:54.943-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:54.943-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:54.943-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:54.943-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:54.943-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:27:54.944-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:54.944-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:54.944-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:54.944-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:54.944-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:54.945-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:54.946-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:54.946-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:54.946-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:54.946-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:54.946-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:54.946-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:54.946-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:54.946-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:54.946-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:54.946-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:27:54.946-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:54.947-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:27:54.947-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:54.947-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:54.947-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:54.947-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:54.947-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:54.947-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:54.947-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:54.947-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:54.947-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:27:54.947-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001d60dacdc68@7c673881
2025-12-23T17:27:54.948-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:27:54.949-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:27:54.949-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:27:54.952-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:54.954-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:27:54.955-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:27:55.577-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:55.578-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:55.578-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:55.578-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:55.578-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:55.578-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:55.578-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:55.578-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:55.578-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=-A4JjqczsDbAXKTTqPKrQKB6dqB35vci6pp6L-9JjjE&code_challenge_method=S256
2025-12-23T17:27:55.578-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T17:27:55.579-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T17:27:55.579-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T17:27:55.579-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T17:27:55.579-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T17:27:55.579-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T17:27:55.579-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T17:27:55.579-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@23f4aaeb]]]
2025-12-23T17:27:55.579-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T17:27:55.579-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T17:27:55.579-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T17:27:55.579-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T17:27:55.579-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T17:27:55.579-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4866268a] from SPRING_SECURITY_CONTEXT
2025-12-23T17:27:55.580-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-23T17:27:55.587-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-23T17:27:55.587-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-23T17:27:55.594-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-12-23T17:27:55.595-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Saved authorization
2025-12-23T17:27:55.595-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-12-23T17:27:55.595-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.core.session.SessionRegistryImpl   : Registering session 5B67E36293127468535F33808E863A8E, for principal Usuario(id=ef8a0519-3f66-453f-9542-4a97a91a0363, login=gerente, senha=$2a$10$6YtOpXqcRgzC3arsw7emo.Sd.ZikCSk5BHpGAtGt1B.yv5M3bRYXO, email=gerente@universidade.br, roles=[GERENTE], telefone=null)
2025-12-23T17:27:55.596-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.core.session.SessionRegistryImpl   : Sessions used by 'Usuario(id=ef8a0519-3f66-453f-9542-4a97a91a0363, login=gerente, senha=$2a$10$6YtOpXqcRgzC3arsw7emo.Sd.ZikCSk5BHpGAtGt1B.yv5M3bRYXO, email=gerente@universidade.br, roles=[GERENTE], telefone=null)' : [5B67E36293127468535F33808E863A8E]
2025-12-23T17:27:55.596-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/authorized?code=PSnz_Ri5LiSLdvcprJ1tlbNoO8_rHAq-9ohNOUxGB3cMOoEyHmxDT0Junq8Zp6ZF0j1tHOkhLiGfpmJ3BBeQSGhg-_sdtZd6dcY5ULcjSD9OxU0sHmFGsTGYKePeUkTo
2025-12-23T17:27:55.596-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:55.775-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:55.775-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:55.775-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:55.775-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:55.775-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:55.775-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:55.775-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:55.775-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:55.776-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-12-23T17:27:55.776-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T17:27:55.776-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T17:27:55.776-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T17:27:55.776-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T17:27:55.776-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T17:27:55.776-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T17:27:55.777-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T17:27:55.778-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@23f4aaeb]]]
2025-12-23T17:27:55.778-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T17:27:55.778-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T17:27:55.779-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T17:27:55.779-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T17:27:55.779-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T17:27:55.779-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (12/27)
2025-12-23T17:27:55.779-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (13/27)
2025-12-23T17:27:55.779-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (14/27)
2025-12-23T17:27:55.779-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (15/27)
2025-12-23T17:27:55.781-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-12-23T17:27:55.781-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-12-23T17:27:55.781-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-12-23T17:27:55.781-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with PublicClientAuthenticationProvider (4/20)
2025-12-23T17:27:55.793-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] s.a.a.PublicClientAuthenticationProvider : Retrieved registered client
2025-12-23T17:27:55.793-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] s.a.a.PublicClientAuthenticationProvider : Validated client authentication parameters
2025-12-23T17:27:55.793-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-12-23T17:27:55.793-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Validated code verifier parameters
2025-12-23T17:27:55.794-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Authenticated code verifier
2025-12-23T17:27:55.794-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] s.a.a.PublicClientAuthenticationProvider : Authenticated public client
2025-12-23T17:27:55.795-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-12-23T17:27:55.796-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (16/27)
2025-12-23T17:27:55.796-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:55.796-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (17/27)
2025-12-23T17:27:55.796-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:27:55.796-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (18/27)
2025-12-23T17:27:55.796-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:55.796-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (19/27)
2025-12-23T17:27:55.796-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (20/27)
2025-12-23T17:27:55.796-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (21/27)
2025-12-23T17:27:55.796-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (22/27)
2025-12-23T17:27:55.796-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-12-23T17:27:55.797-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4b7fcacf
2025-12-23T17:27:55.797-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=client-frontend, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-12-23T17:27:55.798-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (23/27)
2025-12-23T17:27:55.803-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-12-23T17:27:55.805-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-12-23T17:27:55.806-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-12-23T17:27:55.806-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-12-23T17:27:55.865-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-12-23T17:27:55.880-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] 2AuthorizationCodeAuthenticationProvider : Generated id token
2025-12-23T17:27:55.881-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-12-23T17:27:55.882-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-12-23T17:27:55.885-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:55.923-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:55.924-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:55.924-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:55.924-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:55.924-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:55.924-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:55.924-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:55.924-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:55.924-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:55.925-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:27:55.925-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:55.925-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:55.925-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:55.925-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:55.925-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:55.926-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:55.933-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:27:55.934-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:27:55.934-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:27:55.934-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:27:55.934-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:27:55.934-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:27:55.934-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:27:55.934-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:27:55.934-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:27:55.934-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:27:55.934-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:27:55.934-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:27:55.934-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:27:55.934-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:27:55.934-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:27:55.935-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:27:55.935-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:27:55.935-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:27:55.935-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:27:55.935-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:27:55.935-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:27:55.935-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:27:55.935-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:27:55.935-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:27:55.942-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:27:55.942-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:27:55.943-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@c5f4a6ea, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:27:55.943-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:27:55.948-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:27:55.948-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:27:55.948-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:27:55.948-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:27:55.949-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:27:55.949-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:27:55.949-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:27:55.949-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:27:55.949-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:27:55.949-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:27:55.949-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@3147e3ac
2025-12-23T17:27:55.950-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:27:55.950-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:27:55.950-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:27:55.972-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:27:56.000-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:27:56.124-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:27:56.125-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:27:56.145-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:27:56.146-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:28:08.235-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:28:08.235-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:28:08.236-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:28:08.236-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:28:08.236-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:28:08.236-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:28:08.236-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:28:08.236-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:28:08.236-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:28:08.236-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:28:08.236-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:28:08.237-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:28:08.237-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:28:08.237-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:28:08.237-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:28:08.239-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:28:08.254-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:28:08.255-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:28:08.255-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:28:08.255-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:28:08.255-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:28:08.255-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:28:08.255-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:28:08.255-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d60dacd630@352b4cf, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1154d68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aba5f4b, org.springframework.security.web.context.SecurityContextHolderFilter@ecd3a9b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5afb0a4f, org.springframework.security.web.header.HeaderWriterFilter@310045fc, org.springframework.web.filter.CorsFilter@4c2a81a1, org.springframework.security.web.csrf.CsrfFilter@76b49d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3a3740a5, org.springframework.security.web.authentication.logout.LogoutFilter@2092b072, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5b7f9eaa, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1cf38112, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@647dcc5e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@48d44acf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d5822bc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@efa6a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@354d5692, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9b8c23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f80e, org.springframework.security.web.access.ExceptionTranslationFilter@323dd422, org.springframework.security.web.access.intercept.AuthorizationFilter@78fb4f7f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@34612ba9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@350a3df3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1643e817, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75be3cdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1a9b9095]] (8/9)
2025-12-23T17:28:08.255-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1ab28d47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ead95d, org.springframework.security.web.context.SecurityContextHolderFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.web.filter.CorsFilter@1ad56728, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ff48cdc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33bd3549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d56b7f1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2e90a3de, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5545c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147c5bf4, org.springframework.security.web.access.ExceptionTranslationFilter@20f1c8ed, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]] (9/9)
2025-12-23T17:28:08.255-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:28:08.255-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:28:08.255-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:28:08.255-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:28:08.255-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:28:08.255-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:28:08.257-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:28:08.257-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:28:08.257-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:28:08.257-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:28:08.257-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:28:08.257-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:28:08.257-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:28:08.257-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:28:08.258-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:28:08.261-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:28:08.262-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:28:08.263-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@c5f4a6ea, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:28:08.263-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:28:08.278-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:28:08.278-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:28:08.278-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:28:08.279-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:28:08.279-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:28:08.279-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:28:08.279-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:28:08.279-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:28:08.280-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:28:08.280-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@785aaa10
2025-12-23T17:28:08.281-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@2be20b55
2025-12-23T17:28:08.281-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:28:08.281-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:28:08.283-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:28:08.285-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:28:08.286-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:28:08.323-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:28:08.323-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:28:08.324-03:00 TRACE 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:28:08.326-03:00 DEBUG 21784 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:31:45.940-03:00  INFO 21224 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 21224 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-23T17:31:45.943-03:00 DEBUG 21224 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-23T17:31:45.945-03:00  INFO 21224 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-23T17:31:51.300-03:00 DEBUG 21224 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-23T17:31:51.302-03:00 DEBUG 21224 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-23T17:31:51.752-03:00  WARN 21224 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23T17:31:51.782-03:00 TRACE 21224 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@1b7c1c6f, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@18dda2e1}
2025-12-23T17:31:51.787-03:00  INFO 21224 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-23T17:31:51.941-03:00 DEBUG 21224 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-23T17:31:51.967-03:00 DEBUG 21224 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-23T17:31:52.018-03:00 DEBUG 21224 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-23T17:31:52.911-03:00 DEBUG 21224 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-23T17:31:53.015-03:00 DEBUG 21224 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-23T17:31:53.031-03:00  WARN 21224 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:31:53.032-03:00 DEBUG 21224 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-23T17:31:53.032-03:00  WARN 21224 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:31:53.032-03:00 DEBUG 21224 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-23T17:31:53.032-03:00  WARN 21224 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:31:53.032-03:00 DEBUG 21224 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-23T17:31:53.032-03:00  WARN 21224 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:31:53.032-03:00 DEBUG 21224 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-23T17:31:53.032-03:00  WARN 21224 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:31:53.032-03:00 DEBUG 21224 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-23T17:31:53.032-03:00  WARN 21224 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:31:53.033-03:00 DEBUG 21224 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-23T17:31:53.033-03:00  WARN 21224 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:31:53.033-03:00 DEBUG 21224 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-23T17:31:53.125-03:00 DEBUG 21224 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-23T17:31:53.174-03:00 DEBUG 21224 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-23T17:31:54.254-03:00 DEBUG 21224 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-23T17:31:54.255-03:00 DEBUG 21224 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-23T17:31:54.260-03:00 DEBUG 21224 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-23T17:31:54.270-03:00 DEBUG 21224 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-23T17:31:54.291-03:00  INFO 21224 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 9.131 seconds (process running for 10.418)
2025-12-23T17:31:54.457-03:00  INFO 21224 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-23T17:31:54.458-03:00 DEBUG 21224 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-23T17:31:54.458-03:00 DEBUG 21224 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-23T17:31:54.458-03:00 DEBUG 21224 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-23T17:31:54.461-03:00 DEBUG 21224 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@56c72fff
2025-12-23T17:31:54.462-03:00 DEBUG 21224 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@376aaeec
2025-12-23T17:31:54.462-03:00 DEBUG 21224 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-23T17:31:54.462-03:00  INFO 21224 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-12-23T17:31:58.566-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:31:58.567-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:31:58.568-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:31:58.568-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:31:58.568-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:31:58.568-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:31:58.568-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:31:58.568-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:31:58.569-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:31:58.569-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /logout
2025-12-23T17:31:58.572-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:31:58.576-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:31:58.578-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:31:58.580-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:31:58.581-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:31:58.583-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:31:58.583-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:31:58.583-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:31:58.583-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:31:58.583-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-12-23T17:31:58.588-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/
2025-12-23T17:31:58.588-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:31:58.783-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:31:58.786-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:31:58.787-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:31:58.788-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:31:58.789-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:31:58.789-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:31:58.791-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:31:58.792-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:31:58.793-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:31:58.793-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:31:58.794-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:31:58.795-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:31:58.796-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:31:58.797-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:31:58.798-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:31:58.844-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:31:58.846-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:31:58.847-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:31:58.848-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:31:58.850-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:31:58.850-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:31:58.851-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:31:58.852-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:31:58.854-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:31:58.855-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:31:58.856-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:31:58.857-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:31:58.857-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:31:58.858-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:31:58.858-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:31:58.858-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:31:58.864-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:31:58.865-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:31:58.870-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:31:58.873-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:31:58.874-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:31:58.880-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:31:58.882-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2f163d
2025-12-23T17:31:58.886-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:31:58.901-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:31:58.928-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-12-23T17:31:58.929-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:31:58.931-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@7e34570
2025-12-23T17:31:58.935-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T17:31:58.936-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:31:58.949-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:31:58.950-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:31:58.951-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:31:58.951-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:31:58.951-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:31:58.952-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:31:58.952-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:31:58.953-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:31:58.953-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:31:58.954-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:31:58.954-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:31:58.955-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:31:58.955-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:31:58.956-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:31:58.957-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:31:58.959-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:31:58.960-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:31:58.961-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:31:58.961-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:31:58.962-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:31:58.963-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:31:58.963-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:31:58.964-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:31:58.965-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:31:58.965-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:31:58.966-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:31:58.967-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:31:58.967-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:31:58.967-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:31:58.967-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:31:58.967-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:31:58.967-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:31:58.967-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:31:58.967-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:31:58.967-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:31:58.968-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:31:58.968-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:31:58.968-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020c84afebb8@75e1d9df
2025-12-23T17:31:58.972-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:31:58.980-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:31:58.980-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:31:59.562-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:31:59.564-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:31:59.564-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:32:01.180-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:01.181-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:01.181-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:01.182-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:01.182-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:01.182-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:01.182-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:01.182-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:01.182-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=I0AGdUrtmHQXIpUmsGx5Km9fJm3ie7i996al7K17R1I&code_challenge_method=S256
2025-12-23T17:32:01.182-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T17:32:01.183-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T17:32:01.183-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T17:32:01.183-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T17:32:01.184-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T17:32:01.185-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T17:32:01.185-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T17:32:01.187-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@60e83cb9]]]
2025-12-23T17:32:01.187-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T17:32:01.187-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T17:32:01.187-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T17:32:01.187-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T17:32:01.187-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T17:32:01.189-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:32:01.189-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:32:01.189-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:32:01.191-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-23T17:32:01.359-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-23T17:32:01.360-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-23T17:32:01.360-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-12-23T17:32:01.360-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (12/27)
2025-12-23T17:32:01.361-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (13/27)
2025-12-23T17:32:01.361-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (14/27)
2025-12-23T17:32:01.361-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (15/27)
2025-12-23T17:32:01.361-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (16/27)
2025-12-23T17:32:01.361-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:32:01.361-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (17/27)
2025-12-23T17:32:01.361-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:32:01.361-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (18/27)
2025-12-23T17:32:01.361-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:32:01.361-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (19/27)
2025-12-23T17:32:01.361-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (20/27)
2025-12-23T17:32:01.362-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (21/27)
2025-12-23T17:32:01.362-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (22/27)
2025-12-23T17:32:01.362-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=I0AGdUrtmHQXIpUmsGx5Km9fJm3ie7i996al7K17R1I&code_challenge_method=S256
2025-12-23T17:32:01.362-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=I0AGdUrtmHQXIpUmsGx5Km9fJm3ie7i996al7K17R1I&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3fc2b1f8
2025-12-23T17:32:01.362-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:32:01.362-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:32:01.381-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=I0AGdUrtmHQXIpUmsGx5Km9fJm3ie7i996al7K17R1I&code_challenge_method=S256&continue to session
2025-12-23T17:32:01.381-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-12-23T17:32:01.381-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@60e83cb9, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T17:32:01.381-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:32:01.382-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@6bac199f
2025-12-23T17:32:01.382-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T17:32:01.382-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:32:01.390-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:01.390-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:01.390-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:01.390-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:01.390-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:01.390-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:01.390-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:01.390-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:01.391-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:32:01.391-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:32:01.391-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:32:01.391-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:32:01.391-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:32:01.391-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:32:01.391-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:32:01.392-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:32:01.392-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:32:01.392-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:32:01.392-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:32:01.392-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:32:01.392-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:32:01.392-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:32:01.392-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:32:01.392-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:32:01.392-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:32:01.392-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 84CCF718F74C6C61D2921710B3907EC7 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:32:01.392-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:32:01.392-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:32:01.393-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:32:01.393-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:32:01.393-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:32:01.393-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:32:01.393-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:32:01.393-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:32:01.393-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:32:01.393-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:32:01.393-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:32:01.394-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020c84afebb8@75e1d9df
2025-12-23T17:32:01.394-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:32:01.394-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:32:01.394-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:32:01.396-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:32:01.397-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:32:01.397-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=84CCF718F74C6C61D2921710B3907EC7], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:32:01.443-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:01.443-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:01.443-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:01.443-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:01.443-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:01.444-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:01.444-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:01.444-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:01.444-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:32:01.445-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:32:01.445-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:32:01.445-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:32:01.446-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:32:01.447-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:32:01.447-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:32:01.448-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:32:01.448-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:32:01.448-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:32:01.448-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:32:01.448-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:32:01.448-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:32:01.448-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:32:01.449-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:32:01.449-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:32:01.449-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:32:01.449-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 84CCF718F74C6C61D2921710B3907EC7 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:32:01.449-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:32:01.449-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:32:01.449-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:32:01.449-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:32:01.449-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:32:01.449-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:32:01.449-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:32:01.449-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:32:01.449-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:32:01.449-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:32:01.450-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:32:01.450-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2f163d
2025-12-23T17:32:01.451-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=84CCF718F74C6C61D2921710B3907EC7], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:32:01.451-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=84CCF718F74C6C61D2921710B3907EC7], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:32:01.454-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json?continue to session
2025-12-23T17:32:01.454-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:32:01.454-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T17:32:01.454-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@975f349
2025-12-23T17:32:01.454-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-23T17:32:01.454-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@1000ee30
2025-12-23T17:32:01.455-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:32:01.471-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:01.471-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:01.471-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:01.471-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:01.471-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:01.471-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:01.471-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:01.472-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:01.472-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:32:01.472-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T17:32:01.472-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:32:01.473-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:32:01.473-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:32:01.473-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:32:01.473-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:32:01.473-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:32:01.473-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:32:01.473-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:32:01.473-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:32:01.473-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:32:01.474-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:32:01.474-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:32:01.474-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:32:01.474-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:32:01.474-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:32:01.474-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:32:01.474-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:32:01.474-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:32:01.475-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:32:01.475-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:32:01.476-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:32:01.477-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T17:32:01.477-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2f163d
2025-12-23T17:32:01.477-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 84CCF718F74C6C61D2921710B3907EC7 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:32:01.477-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:32:01.478-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:32:01.478-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=84CCF718F74C6C61D2921710B3907EC7], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:32:01.481-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=84CCF718F74C6C61D2921710B3907EC7], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:32:01.485-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-12-23T17:32:01.485-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:32:01.486-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T17:32:01.486-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@975f349
2025-12-23T17:32:01.486-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-23T17:32:01.486-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@1000ee30
2025-12-23T17:32:06.197-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:06.197-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:06.197-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:06.197-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:06.197-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:06.197-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:06.197-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:06.197-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:06.197-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:32:06.197-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:32:06.197-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:32:06.198-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:32:06.198-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:32:06.198-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:32:06.198-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:32:06.198-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:32:06.198-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:32:06.198-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:32:06.198-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:32:06.199-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:32:06.199-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:32:06.199-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:32:06.199-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:32:06.199-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:32:06.199-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:32:06.199-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 84CCF718F74C6C61D2921710B3907EC7 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:32:06.199-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:32:06.199-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:32:06.199-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:32:06.200-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'gerente' in Basic Authorization header
2025-12-23T17:32:06.201-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-23T17:32:06.290-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@722b6618
2025-12-23T17:32:06.290-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:32:06.290-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:32:06.290-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:32:06.290-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:32:06.290-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:32:06.291-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:32:06.291-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:32:06.291-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2f163d
2025-12-23T17:32:06.291-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@722b6618
2025-12-23T17:32:06.292-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:32:06.293-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-23T17:32:06.295-03:00  WARN 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:32:06.303-03:00  WARN 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-12-23T17:32:06.306-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:32:06.308-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-12-23T17:32:06.309-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-23T17:32:06.310-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:06.310-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:06.311-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:06.311-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:06.311-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:06.311-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:06.311-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:06.311-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:06.311-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:32:06.311-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T17:32:06.311-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:32:06.312-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:32:06.313-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:32:06.313-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:32:06.313-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T17:32:06.313-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2f163d
2025-12-23T17:32:06.313-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 84CCF718F74C6C61D2921710B3907EC7 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:32:06.313-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:32:06.313-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@722b6618
2025-12-23T17:32:06.314-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-23T17:32:06.314-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-23T17:32:06.314-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-23T17:32:06.330-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-23T17:32:06.331-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Dec 23 17:32:06 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-23T17:32:06.343-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-23T17:32:13.033-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:13.033-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:13.033-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:13.033-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:13.033-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:13.033-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:13.033-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:13.034-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:13.034-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:32:13.034-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-23T17:32:13.034-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:32:13.034-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:32:13.034-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:32:13.034-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:32:13.034-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:32:13.035-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:32:13.035-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:32:13.035-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:32:13.035-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:32:13.035-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:32:13.035-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:32:13.035-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-23T17:32:13.109-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-23T17:32:13.109-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 84CCF718F74C6C61D2921710B3907EC7
2025-12-23T17:32:13.110-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@ac00a55] to HttpSession [org.apache.catalina.session.StandardSessionFacade@16db5bd3]
2025-12-23T17:32:13.110-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@ac00a55
2025-12-23T17:32:13.110-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/error?continue
2025-12-23T17:32:13.110-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:32:13.117-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:13.117-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:13.117-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:13.117-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:13.117-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:13.117-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:13.117-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:13.117-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:13.117-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:32:13.118-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error?continue
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@ac00a55] from SPRING_SECURITY_CONTEXT
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:32:13.118-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:32:13.119-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : Removing DefaultSavedRequest from session if present
2025-12-23T17:32:13.119-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/error?continue
2025-12-23T17:32:13.120-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:32:13.120-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:32:13.120-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:32:13.120-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:32:13.120-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?continue
2025-12-23T17:32:13.120-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2f163d
2025-12-23T17:32:13.120-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@ac00a55
2025-12-23T17:32:13.120-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error?continue
2025-12-23T17:32:13.121-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/error?continue", parameters={masked}
2025-12-23T17:32:13.121-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-23T17:32:13.122-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-23T17:32:13.122-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Dec 23 17:32:13 BRT 2025, status=999, error=None}]
2025-12-23T17:32:13.123-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:32:13.124-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:32:13.169-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:32:13.169-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:32:13.170-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:32:13.170-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:32:13.170-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@ac00a55] from SPRING_SECURITY_CONTEXT
2025-12-23T17:32:13.170-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:32:13.170-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'gerente' in Basic Authorization header
2025-12-23T17:32:13.170-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:32:13.170-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:32:13.170-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:32:13.170-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:32:13.170-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:32:13.170-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:32:13.170-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:32:13.170-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2f163d
2025-12-23T17:32:13.170-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@ac00a55
2025-12-23T17:32:13.171-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:32:13.171-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-23T17:32:13.171-03:00  WARN 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.PageNotFound             : No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:32:13.172-03:00  WARN 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.PageNotFound             : No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-12-23T17:32:13.172-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:32:13.172-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-12-23T17:32:13.172-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-23T17:32:13.173-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:13.173-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:13.173-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:13.173-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:13.173-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:13.173-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:13.173-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:13.173-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:13.173-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:32:13.173-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T17:32:13.173-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:32:13.174-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:32:13.175-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T17:32:13.175-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2f163d
2025-12-23T17:32:13.175-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@ac00a55] from SPRING_SECURITY_CONTEXT
2025-12-23T17:32:13.175-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@ac00a55
2025-12-23T17:32:13.175-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-23T17:32:13.175-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-23T17:32:13.176-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-23T17:32:13.176-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-23T17:32:13.177-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Dec 23 17:32:13 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-23T17:32:13.178-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-23T17:32:19.018-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:19.018-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:19.018-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:19.018-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:19.018-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:19.018-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:19.019-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:19.019-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:19.019-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:32:19.019-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:32:19.019-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:32:19.019-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:32:19.019-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:32:19.019-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:32:19.019-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:32:19.021-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:32:19.021-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:32:19.021-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:32:19.021-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:32:19.021-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:32:19.022-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:32:19.022-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:32:19.022-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:32:19.022-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:32:19.022-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:32:19.022-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:32:19.022-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:32:19.022-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:32:19.022-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:32:19.023-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:32:19.023-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:32:19.023-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:32:19.023-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:32:19.023-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:32:19.023-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:32:19.024-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:32:19.024-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:32:19.024-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2f163d
2025-12-23T17:32:19.024-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:32:19.025-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:32:19.028-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-12-23T17:32:19.029-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:32:19.029-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@7e34570
2025-12-23T17:32:19.029-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T17:32:19.029-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:32:19.077-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:19.077-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:19.077-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:19.078-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:19.078-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:19.078-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:19.078-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:19.078-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:19.078-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:32:19.079-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:32:19.079-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:32:19.079-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:32:19.079-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:32:19.079-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:32:19.079-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:32:19.081-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:32:19.081-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:32:19.081-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:32:19.081-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:32:19.081-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:32:19.081-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:32:19.081-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:32:19.081-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:32:19.081-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:32:19.081-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:32:19.081-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:32:19.082-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:32:19.082-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:32:19.082-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:32:19.082-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:32:19.082-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:32:19.082-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:32:19.082-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:32:19.082-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:32:19.082-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:32:19.082-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:32:19.083-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:32:19.083-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020c84afebb8@75e1d9df
2025-12-23T17:32:19.083-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:32:19.083-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:32:19.084-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:32:19.085-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:32:19.087-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:32:19.087-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:32:20.633-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:20.633-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:20.633-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:20.633-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:20.634-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:20.634-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:20.634-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:20.634-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:20.634-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=bv-gLeCkgTUlD-Qlx8mR7zsGOCtj-lMFkGaqH-VIAWI&code_challenge_method=S256
2025-12-23T17:32:20.634-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T17:32:20.634-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T17:32:20.634-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T17:32:20.634-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T17:32:20.634-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T17:32:20.634-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T17:32:20.634-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T17:32:20.635-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@60e83cb9]]]
2025-12-23T17:32:20.635-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T17:32:20.635-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T17:32:20.635-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T17:32:20.635-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T17:32:20.635-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T17:32:20.635-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@ac00a55] from SPRING_SECURITY_CONTEXT
2025-12-23T17:32:20.635-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-23T17:32:20.641-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-23T17:32:20.641-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-23T17:32:20.648-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-12-23T17:32:20.649-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Saved authorization
2025-12-23T17:32:20.649-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-12-23T17:32:20.649-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.core.session.SessionRegistryImpl   : Registering session 81560EA8A744F15ED89262947FF1217A, for principal Usuario(id=ef8a0519-3f66-453f-9542-4a97a91a0363, login=gerente, senha=$2a$10$6YtOpXqcRgzC3arsw7emo.Sd.ZikCSk5BHpGAtGt1B.yv5M3bRYXO, email=gerente@universidade.br, roles=[GERENTE], telefone=null)
2025-12-23T17:32:20.650-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.core.session.SessionRegistryImpl   : Sessions used by 'Usuario(id=ef8a0519-3f66-453f-9542-4a97a91a0363, login=gerente, senha=$2a$10$6YtOpXqcRgzC3arsw7emo.Sd.ZikCSk5BHpGAtGt1B.yv5M3bRYXO, email=gerente@universidade.br, roles=[GERENTE], telefone=null)' : [81560EA8A744F15ED89262947FF1217A]
2025-12-23T17:32:20.650-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/authorized?code=rxXrzMm7RZdYDx8n1NBDUQC2-PIHEVXPUyQn35pxcZ8YiicAw0_fJJdaa4hBKo7Mzt0LM_Sh20YuFYS1zMgjf0w0l9a9kUOCYGR2nUV9yf2gej5s3ylD_EKI9F5vtN2G
2025-12-23T17:32:20.650-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:32:20.840-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:20.840-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:20.841-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:20.841-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:20.841-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:20.841-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:20.841-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:20.841-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:20.841-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-12-23T17:32:20.842-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T17:32:20.842-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T17:32:20.843-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T17:32:20.843-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T17:32:20.843-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T17:32:20.843-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T17:32:20.845-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T17:32:20.846-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@60e83cb9]]]
2025-12-23T17:32:20.846-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T17:32:20.846-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T17:32:20.846-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T17:32:20.847-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T17:32:20.847-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T17:32:20.847-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (12/27)
2025-12-23T17:32:20.847-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (13/27)
2025-12-23T17:32:20.847-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (14/27)
2025-12-23T17:32:20.847-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (15/27)
2025-12-23T17:32:20.851-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-12-23T17:32:20.851-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-12-23T17:32:20.852-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-12-23T17:32:20.852-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with PublicClientAuthenticationProvider (4/20)
2025-12-23T17:32:20.865-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] s.a.a.PublicClientAuthenticationProvider : Retrieved registered client
2025-12-23T17:32:20.866-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] s.a.a.PublicClientAuthenticationProvider : Validated client authentication parameters
2025-12-23T17:32:20.867-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-12-23T17:32:20.867-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Validated code verifier parameters
2025-12-23T17:32:20.868-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Authenticated code verifier
2025-12-23T17:32:20.868-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] s.a.a.PublicClientAuthenticationProvider : Authenticated public client
2025-12-23T17:32:20.869-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-12-23T17:32:20.870-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (16/27)
2025-12-23T17:32:20.870-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:32:20.871-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (17/27)
2025-12-23T17:32:20.871-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:32:20.871-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (18/27)
2025-12-23T17:32:20.872-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:32:20.872-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (19/27)
2025-12-23T17:32:20.872-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (20/27)
2025-12-23T17:32:20.872-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (21/27)
2025-12-23T17:32:20.872-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (22/27)
2025-12-23T17:32:20.873-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-12-23T17:32:20.873-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3fc2b1f8
2025-12-23T17:32:20.873-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=client-frontend, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-12-23T17:32:20.874-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (23/27)
2025-12-23T17:32:20.880-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-12-23T17:32:20.884-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-12-23T17:32:20.884-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-12-23T17:32:20.885-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-12-23T17:32:21.115-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-12-23T17:32:21.132-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] 2AuthorizationCodeAuthenticationProvider : Generated id token
2025-12-23T17:32:21.133-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-12-23T17:32:21.133-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-12-23T17:32:21.136-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:32:21.175-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:21.175-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:21.175-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:21.175-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:21.176-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:21.176-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:21.176-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:21.176-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:21.176-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:32:21.176-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:32:21.177-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:32:21.177-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:32:21.177-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:32:21.177-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:32:21.177-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:32:21.179-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:32:21.188-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:32:21.189-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:32:21.189-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:32:21.189-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:32:21.189-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:32:21.189-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:32:21.189-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:32:21.189-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020c84afe580@395065af, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@26e9c65c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd4810, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2395c168, org.springframework.security.web.header.HeaderWriterFilter@22aaa811, org.springframework.web.filter.CorsFilter@7f5082dc, org.springframework.security.web.csrf.CsrfFilter@1f9b8c23, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@2acf3108, org.springframework.security.web.authentication.logout.LogoutFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@9cabd07, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@59929512, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@348523f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@21fbfdd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119b837, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ce5ea69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fb4f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28446b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@693ec77c, org.springframework.security.web.access.ExceptionTranslationFilter@1acd660d, org.springframework.security.web.access.intercept.AuthorizationFilter@500341c4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c887ca, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@22bf2a0d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@632d8166]] (8/9)
2025-12-23T17:32:21.189-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10d3721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b12d8, org.springframework.security.web.context.SecurityContextHolderFilter@1184b542, org.springframework.security.web.header.HeaderWriterFilter@5bb1c104, org.springframework.web.filter.CorsFilter@11a63b25, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fa73db5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cda8d3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a837f7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@73760b13, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@2f19ab6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@776e4088, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5ca02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4758f533, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e3c0b4a, org.springframework.security.web.access.ExceptionTranslationFilter@563f53d8, org.springframework.security.web.access.intercept.AuthorizationFilter@3518882c]] (9/9)
2025-12-23T17:32:21.191-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:32:21.191-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:32:21.191-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:32:21.191-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:32:21.192-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:32:21.192-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:32:21.192-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:32:21.193-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:32:21.193-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:32:21.193-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:32:21.194-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:32:21.194-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:32:21.194-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:32:21.194-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:32:21.196-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:32:21.223-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:32:21.224-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:32:21.225-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6690e067, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:32:21.225-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:32:21.231-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:32:21.232-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:32:21.232-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:32:21.232-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:32:21.232-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:32:21.232-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:32:21.233-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:32:21.233-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:32:21.233-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:32:21.233-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2f163d
2025-12-23T17:32:21.233-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@176d8110
2025-12-23T17:32:21.233-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:32:21.234-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:32:21.234-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:32:21.249-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:32:21.258-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:32:21.358-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:32:21.359-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:32:21.382-03:00 TRACE 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:32:21.384-03:00 DEBUG 21224 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:32:59.142-03:00  INFO 25860 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 25860 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-23T17:32:59.144-03:00 DEBUG 25860 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-23T17:32:59.145-03:00  INFO 25860 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-23T17:33:05.035-03:00 DEBUG 25860 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-23T17:33:05.035-03:00 DEBUG 25860 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-23T17:33:05.543-03:00  WARN 25860 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23T17:33:05.580-03:00 TRACE 25860 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@69ca71b3, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@68abf2ad}
2025-12-23T17:33:05.583-03:00  INFO 25860 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-23T17:33:05.792-03:00 DEBUG 25860 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-23T17:33:05.815-03:00 DEBUG 25860 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-23T17:33:05.974-03:00 DEBUG 25860 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-23T17:33:07.377-03:00 DEBUG 25860 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-23T17:33:07.475-03:00 DEBUG 25860 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-23T17:33:07.491-03:00  WARN 25860 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:33:07.491-03:00 DEBUG 25860 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-23T17:33:07.492-03:00  WARN 25860 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:33:07.492-03:00 DEBUG 25860 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-23T17:33:07.492-03:00  WARN 25860 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:33:07.492-03:00 DEBUG 25860 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-23T17:33:07.492-03:00  WARN 25860 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:33:07.492-03:00 DEBUG 25860 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-23T17:33:07.492-03:00  WARN 25860 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:33:07.492-03:00 DEBUG 25860 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-23T17:33:07.492-03:00  WARN 25860 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:33:07.492-03:00 DEBUG 25860 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-23T17:33:07.492-03:00  WARN 25860 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T17:33:07.492-03:00 DEBUG 25860 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-23T17:33:07.669-03:00 DEBUG 25860 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-23T17:33:07.752-03:00 DEBUG 25860 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-23T17:33:08.561-03:00 DEBUG 25860 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-23T17:33:08.563-03:00 DEBUG 25860 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-23T17:33:08.569-03:00 DEBUG 25860 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-23T17:33:08.579-03:00 DEBUG 25860 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-23T17:33:08.599-03:00  INFO 25860 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 10.104 seconds (process running for 10.952)
2025-12-23T17:33:09.162-03:00  INFO 25860 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-23T17:33:09.162-03:00 DEBUG 25860 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-23T17:33:09.162-03:00 DEBUG 25860 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-23T17:33:09.162-03:00 DEBUG 25860 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-23T17:33:09.165-03:00 DEBUG 25860 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@349a8977
2025-12-23T17:33:09.166-03:00 DEBUG 25860 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3167c0d
2025-12-23T17:33:09.166-03:00 DEBUG 25860 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-23T17:33:09.166-03:00  INFO 25860 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-12-23T17:33:12.648-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:33:12.649-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:33:12.650-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:33:12.651-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:33:12.651-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:33:12.651-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:33:12.653-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:33:12.655-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:33:12.657-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:33:12.660-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:33:12.668-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:33:12.675-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:33:12.681-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:33:12.684-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:33:12.686-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:33:12.712-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:33:12.721-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:33:12.722-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:33:12.722-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:33:12.722-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:33:12.722-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:33:12.722-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:33:12.722-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:33:12.722-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:33:12.722-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:33:12.723-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:33:12.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:33:12.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:33:12.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:33:12.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:33:12.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:33:12.725-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:33:12.725-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:33:12.726-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:33:12.726-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:33:12.726-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:33:12.726-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:33:12.726-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:33:12.726-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:33:12.729-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:33:12.779-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.oauth2.jwt.NimbusJwtDecoder        : Failed to process JWT

com.nimbusds.jose.proc.BadJOSEException: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:357) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:158) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:138) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:33:12.784-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Failed to authenticate since the JWT was invalid
2025-12-23T17:33:12.786-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Failed to process authentication request

org.springframework.security.oauth2.server.resource.InvalidBearerTokenException: An error occurred while attempting to decode the Jwt: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:103) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.springframework.security.oauth2.jwt.BadJwtException: An error occurred while attempting to decode the Jwt: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:184) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:138) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	... 100 common frames omitted
Caused by: com.nimbusds.jose.proc.BadJOSEException: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:357) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:158) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	... 102 common frames omitted

2025-12-23T17:33:12.790-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:33:12.832-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:33:12.833-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:33:12.833-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:33:12.833-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:33:12.833-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:33:12.833-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:33:12.833-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:33:12.833-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:33:12.833-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=WRdjMh2hIzSgzuMNl-X-8aTm4PT0ckmoyZLiXQgsPKk&code_challenge_method=S256
2025-12-23T17:33:12.833-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T17:33:12.833-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T17:33:12.833-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T17:33:12.834-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T17:33:12.835-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T17:33:12.836-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T17:33:12.836-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T17:33:12.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@136dc728]]]
2025-12-23T17:33:12.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T17:33:12.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T17:33:12.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T17:33:12.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T17:33:12.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T17:33:12.844-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T17:33:12.844-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:33:12.844-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:33:12.845-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-23T17:33:13.039-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-23T17:33:13.041-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-23T17:33:13.041-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-12-23T17:33:13.041-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (12/27)
2025-12-23T17:33:13.041-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (13/27)
2025-12-23T17:33:13.042-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (14/27)
2025-12-23T17:33:13.042-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (15/27)
2025-12-23T17:33:13.042-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (16/27)
2025-12-23T17:33:13.042-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:33:13.043-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (17/27)
2025-12-23T17:33:13.043-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:33:13.043-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (18/27)
2025-12-23T17:33:13.043-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:33:13.043-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (19/27)
2025-12-23T17:33:13.045-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (20/27)
2025-12-23T17:33:13.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (21/27)
2025-12-23T17:33:13.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (22/27)
2025-12-23T17:33:13.049-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=WRdjMh2hIzSgzuMNl-X-8aTm4PT0ckmoyZLiXQgsPKk&code_challenge_method=S256
2025-12-23T17:33:13.049-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=WRdjMh2hIzSgzuMNl-X-8aTm4PT0ckmoyZLiXQgsPKk&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@156efaec
2025-12-23T17:33:13.050-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:33:13.053-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T17:33:13.072-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=WRdjMh2hIzSgzuMNl-X-8aTm4PT0ckmoyZLiXQgsPKk&code_challenge_method=S256&continue to session
2025-12-23T17:33:13.073-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-12-23T17:33:13.074-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@136dc728, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@1ba00c0c, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@1ba00c0c, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@1ba00c0c, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T17:33:13.075-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@1ba00c0c, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T17:33:13.075-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@2b5a659f
2025-12-23T17:33:13.076-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T17:33:13.076-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:33:13.082-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:33:13.083-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:33:13.083-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:33:13.083-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:33:13.083-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:33:13.083-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:33:13.083-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:33:13.083-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:33:13.083-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:33:13.083-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T17:33:13.084-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:33:13.084-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:33:13.084-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:33:13.084-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:33:13.084-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:33:13.084-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:33:13.084-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:33:13.084-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:33:13.084-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:33:13.084-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 66AAF47E30038E2C9C1C54A48D1AF453 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:33:13.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:33:13.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T17:33:13.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000218a6b19f88@5b555f63
2025-12-23T17:33:13.088-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T17:33:13.090-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T17:33:13.091-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T17:33:13.113-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-12-23T17:33:13.384-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:33:13.386-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:33:13.387-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=66AAF47E30038E2C9C1C54A48D1AF453], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T17:33:13.419-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:33:13.420-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:33:13.420-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:33:13.420-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:33:13.420-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:33:13.420-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:33:13.420-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:33:13.420-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:33:13.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:33:13.421-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:33:13.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:33:13.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:33:13.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:33:13.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:33:13.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:33:13.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:33:13.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:33:13.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:33:13.423-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:33:13.423-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:33:13.423-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:33:13.423-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:33:13.423-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:33:13.423-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:33:13.423-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:33:13.424-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 66AAF47E30038E2C9C1C54A48D1AF453 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:33:13.424-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:33:13.424-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:33:13.424-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:33:13.425-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'gerente' in Basic Authorization header
2025-12-23T17:33:13.425-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-23T17:33:13.530-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@4ccf877b
2025-12-23T17:33:13.530-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:33:13.530-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:33:13.531-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:33:13.531-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:33:13.531-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:33:13.531-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:33:13.531-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:33:13.531-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:33:13.531-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@4ccf877b
2025-12-23T17:33:13.532-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T17:33:13.532-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-23T17:33:13.533-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-23T17:33:13.535-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-12-23T17:33:13.537-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:33:13.537-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-12-23T17:33:13.537-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-23T17:33:13.543-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:33:13.543-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:33:13.543-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:33:13.544-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:33:13.544-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:33:13.544-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:33:13.544-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:33:13.544-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:33:13.544-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:33:13.544-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T17:33:13.544-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:33:13.545-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:33:13.545-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:33:13.545-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:33:13.545-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:33:13.545-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:33:13.545-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:33:13.545-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:33:13.546-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:33:13.546-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:33:13.546-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:33:13.546-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:33:13.546-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:33:13.546-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:33:13.546-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:33:13.546-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:33:13.546-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:33:13.546-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:33:13.546-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:33:13.546-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:33:13.546-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:33:13.546-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T17:33:13.547-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:33:13.547-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 66AAF47E30038E2C9C1C54A48D1AF453 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T17:33:13.547-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T17:33:13.547-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@4ccf877b
2025-12-23T17:33:13.547-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-23T17:33:13.548-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-23T17:33:13.548-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-23T17:33:13.567-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-23T17:33:13.568-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Dec 23 17:33:13 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-23T17:33:13.581-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-23T17:33:17.792-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:33:17.793-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:33:17.793-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:33:17.793-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:33:17.793-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:33:17.793-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:33:17.793-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:33:17.793-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:33:17.793-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:33:17.793-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-23T17:33:17.793-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:33:17.794-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:33:17.794-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:33:17.794-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:33:17.794-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:33:17.794-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:33:17.794-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:33:17.794-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:33:17.794-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:33:17.794-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:33:17.794-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:33:17.795-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-23T17:33:17.870-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-23T17:33:17.870-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 66AAF47E30038E2C9C1C54A48D1AF453
2025-12-23T17:33:17.871-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@38376960] to HttpSession [org.apache.catalina.session.StandardSessionFacade@47e9bfda]
2025-12-23T17:33:17.871-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@38376960
2025-12-23T17:33:17.871-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=WRdjMh2hIzSgzuMNl-X-8aTm4PT0ckmoyZLiXQgsPKk&code_challenge_method=S256&continue
2025-12-23T17:33:17.871-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:33:17.877-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:33:17.877-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:33:17.877-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:33:17.877-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:33:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:33:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:33:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:33:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:33:17.878-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=WRdjMh2hIzSgzuMNl-X-8aTm4PT0ckmoyZLiXQgsPKk&code_challenge_method=S256&continue
2025-12-23T17:33:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T17:33:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T17:33:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T17:33:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T17:33:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T17:33:17.879-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T17:33:17.879-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T17:33:17.879-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@136dc728]]]
2025-12-23T17:33:17.879-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T17:33:17.879-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T17:33:17.879-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T17:33:17.879-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T17:33:17.879-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T17:33:17.879-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@38376960] from SPRING_SECURITY_CONTEXT
2025-12-23T17:33:17.880-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-23T17:33:17.890-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-23T17:33:17.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-23T17:33:17.907-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-12-23T17:33:17.907-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] izationCodeRequestAuthenticationProvider : Saved authorization
2025-12-23T17:33:17.907-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-12-23T17:33:17.908-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.core.session.SessionRegistryImpl   : Registering session 5E44916F6EB15A9ABD0A0289BC095DE4, for principal Usuario(id=ef8a0519-3f66-453f-9542-4a97a91a0363, login=gerente, senha=$2a$10$6YtOpXqcRgzC3arsw7emo.Sd.ZikCSk5BHpGAtGt1B.yv5M3bRYXO, email=gerente@universidade.br, roles=[GERENTE], telefone=null)
2025-12-23T17:33:17.908-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.core.session.SessionRegistryImpl   : Sessions used by 'Usuario(id=ef8a0519-3f66-453f-9542-4a97a91a0363, login=gerente, senha=$2a$10$6YtOpXqcRgzC3arsw7emo.Sd.ZikCSk5BHpGAtGt1B.yv5M3bRYXO, email=gerente@universidade.br, roles=[GERENTE], telefone=null)' : [5E44916F6EB15A9ABD0A0289BC095DE4]
2025-12-23T17:33:17.909-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/authorized?code=dc5Y3TbIO5s9ZuhyMkrj10_g6KzWRK1AtBRAT1qhb6S4Nto9v5bBqu_uPAyGZxOjfe7eeG7pkt4GvbKvZzG62wzJgTR1Eqmatgv2kADudZ-MYq3AfvgZgiGYBwdUlypx
2025-12-23T17:33:17.909-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:33:18.157-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:33:18.158-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:33:18.159-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:33:18.162-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:33:18.163-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:33:18.164-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:33:18.164-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:33:18.165-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:33:18.167-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-12-23T17:33:18.167-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T17:33:18.169-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T17:33:18.169-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T17:33:18.170-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T17:33:18.171-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T17:33:18.171-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T17:33:18.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T17:33:18.175-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@136dc728]]]
2025-12-23T17:33:18.175-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T17:33:18.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T17:33:18.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T17:33:18.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T17:33:18.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T17:33:18.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (12/27)
2025-12-23T17:33:18.177-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (13/27)
2025-12-23T17:33:18.177-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (14/27)
2025-12-23T17:33:18.177-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (15/27)
2025-12-23T17:33:18.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-12-23T17:33:18.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-12-23T17:33:18.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-12-23T17:33:18.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with PublicClientAuthenticationProvider (4/20)
2025-12-23T17:33:18.193-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] s.a.a.PublicClientAuthenticationProvider : Retrieved registered client
2025-12-23T17:33:18.193-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] s.a.a.PublicClientAuthenticationProvider : Validated client authentication parameters
2025-12-23T17:33:18.194-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-12-23T17:33:18.194-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Validated code verifier parameters
2025-12-23T17:33:18.195-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Authenticated code verifier
2025-12-23T17:33:18.195-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] s.a.a.PublicClientAuthenticationProvider : Authenticated public client
2025-12-23T17:33:18.196-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-12-23T17:33:18.196-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (16/27)
2025-12-23T17:33:18.197-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:33:18.197-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (17/27)
2025-12-23T17:33:18.198-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T17:33:18.198-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (18/27)
2025-12-23T17:33:18.199-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:33:18.199-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (19/27)
2025-12-23T17:33:18.199-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (20/27)
2025-12-23T17:33:18.199-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (21/27)
2025-12-23T17:33:18.199-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (22/27)
2025-12-23T17:33:18.199-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-12-23T17:33:18.200-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@156efaec
2025-12-23T17:33:18.200-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=client-frontend, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-12-23T17:33:18.201-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (23/27)
2025-12-23T17:33:18.206-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-12-23T17:33:18.208-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-12-23T17:33:18.209-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-12-23T17:33:18.209-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-12-23T17:33:18.269-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-12-23T17:33:18.289-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] 2AuthorizationCodeAuthenticationProvider : Generated id token
2025-12-23T17:33:18.292-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-12-23T17:33:18.293-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-12-23T17:33:18.298-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:33:18.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:33:18.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:33:18.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:33:18.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:33:18.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:33:18.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:33:18.338-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:33:18.338-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:33:18.338-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:33:18.338-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:33:18.338-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:33:18.339-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:33:18.340-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:33:18.340-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:33:18.340-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:33:18.341-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:33:18.348-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:33:18.348-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:33:18.348-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:33:18.348-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:33:18.348-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:33:18.348-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:33:18.348-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:33:18.348-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:33:18.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:33:18.349-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:33:18.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:33:18.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:33:18.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:33:18.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:33:18.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:33:18.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:33:18.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:33:18.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:33:18.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:33:18.350-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:33:18.350-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:33:18.350-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:33:18.350-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:33:18.350-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:33:18.355-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:33:18.355-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:33:18.356-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:33:18.356-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:33:18.360-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:33:18.360-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:33:18.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:33:18.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:33:18.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:33:18.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:33:18.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:33:18.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:33:18.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:33:18.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:33:18.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@151b7d51
2025-12-23T17:33:18.362-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:33:18.362-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:33:18.362-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:33:18.381-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:33:18.407-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:33:18.522-03:00  WARN 25860 --- [libraryapi] [http-nio-8080-exec-5] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-12-23T17:33:18.525-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:33:18.526-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:33:18.540-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:33:18.542-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:34:58.449-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:34:58.449-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:34:58.450-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:34:58.450-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:34:58.450-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:34:58.450-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:34:58.450-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:34:58.450-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:34:58.450-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:34:58.450-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:34:58.450-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:34:58.451-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:34:58.451-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:34:58.451-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:34:58.451-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:34:58.453-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:34:58.460-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:34:58.460-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:34:58.460-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:34:58.460-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:34:58.460-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:34:58.460-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:34:58.460-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:34:58.460-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:34:58.461-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:34:58.461-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:34:58.461-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:34:58.461-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:34:58.461-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:34:58.461-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:34:58.461-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:34:58.463-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:34:58.463-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:34:58.464-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:34:58.465-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:34:58.465-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:34:58.466-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:34:58.466-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:34:58.466-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:34:58.468-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:34:58.473-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:34:58.473-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:34:58.474-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:34:58.474-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:34:58.489-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:34:58.490-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:34:58.490-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:34:58.490-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:34:58.490-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:34:58.490-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:34:58.490-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:34:58.490-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:34:58.490-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:34:58.490-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:34:58.490-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@599e259a
2025-12-23T17:34:58.492-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:34:58.492-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:34:58.493-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:34:58.496-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:34:58.497-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:34:58.551-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:34:58.551-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:34:58.552-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:34:58.553-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:36:07.124-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:36:07.125-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:36:07.125-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:36:07.125-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:36:07.126-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:36:07.126-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:36:07.126-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:36:07.126-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:36:07.126-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:36:07.128-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:36:07.128-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:36:07.129-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:36:07.129-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:36:07.130-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:36:07.130-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:36:07.132-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:36:07.151-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:36:07.151-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:36:07.152-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:36:07.152-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:36:07.152-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:36:07.152-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:36:07.152-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:36:07.152-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:36:07.152-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:36:07.153-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:36:07.153-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:36:07.154-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:36:07.154-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:36:07.154-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:36:07.155-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:36:07.156-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:36:07.158-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:36:07.158-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:36:07.159-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:36:07.160-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:36:07.160-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:36:07.160-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:36:07.160-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:36:07.161-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:36:07.164-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:36:07.164-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:36:07.165-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:36:07.165-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:36:07.183-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:36:07.184-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:36:07.184-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:36:07.184-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:36:07.184-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:36:07.184-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:36:07.184-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:36:07.184-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:36:07.185-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:36:07.185-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:36:07.185-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@7fbd9941
2025-12-23T17:36:07.186-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:36:07.187-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:36:07.188-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:36:07.191-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:36:07.193-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:36:07.248-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:36:07.249-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:36:07.250-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:36:07.252-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:38:25.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:38:25.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:38:25.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:38:25.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:38:25.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:38:25.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:38:25.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:38:25.418-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:38:25.418-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:38:25.418-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:38:25.419-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:38:25.419-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:38:25.420-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:38:25.420-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:38:25.420-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:38:25.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:38:25.426-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:38:25.427-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:38:25.428-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:38:25.428-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:38:25.428-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:38:25.428-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:38:25.428-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:38:25.428-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:38:25.429-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:38:25.429-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:38:25.429-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:38:25.430-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:38:25.430-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:38:25.430-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:38:25.430-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:38:25.431-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:38:25.432-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:38:25.432-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:38:25.433-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:38:25.433-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:38:25.433-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:38:25.433-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:38:25.433-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:38:25.434-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:38:25.436-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:38:25.437-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:38:25.437-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:38:25.437-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:38:25.453-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:38:25.480-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:38:25.480-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:38:25.480-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:38:25.481-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:38:25.481-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:38:25.481-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:38:25.481-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:38:25.482-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:38:25.483-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:38:25.483-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@75c55242
2025-12-23T17:38:25.484-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:38:25.484-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:38:25.485-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:38:25.487-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:38:25.488-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:38:25.541-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:38:25.542-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:38:25.543-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:38:25.545-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:38:40.524-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:38:40.524-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:38:40.524-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:38:40.526-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:38:40.526-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:38:40.526-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:38:40.526-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:38:40.526-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:38:40.526-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:38:40.526-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:38:40.526-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:38:40.527-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:38:40.527-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:38:40.527-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:38:40.527-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:38:40.528-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:38:40.540-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:38:40.540-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:38:40.541-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:38:40.542-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:38:40.543-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:38:40.543-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:38:40.543-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:38:40.543-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:38:40.544-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:38:40.544-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:38:40.544-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:38:40.545-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:38:40.545-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:38:40.545-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:38:40.545-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:38:40.548-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:38:40.549-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:38:40.549-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:38:40.549-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:38:40.549-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:38:40.549-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:38:40.549-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:38:40.549-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:38:40.550-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:38:40.555-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:38:40.555-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:38:40.556-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:38:40.556-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:38:40.567-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:38:40.567-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:38:40.567-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:38:40.567-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:38:40.567-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:38:40.567-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:38:40.567-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:38:40.568-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:38:40.568-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:38:40.569-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:38:40.569-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@156c05cc
2025-12-23T17:38:40.569-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:38:40.570-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:38:40.572-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:38:40.574-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:38:40.575-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:38:40.624-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:38:40.625-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:38:40.626-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:38:40.628-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:40:05.899-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:40:05.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:40:05.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:40:05.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:40:05.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:40:05.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:40:05.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:40:05.901-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:40:05.901-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:40:05.901-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:40:05.901-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:40:05.902-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:40:05.902-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:40:05.902-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:40:05.902-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:40:05.904-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:40:05.914-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:40:05.915-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:40:05.915-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:40:05.915-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:40:05.915-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:40:05.915-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:40:05.915-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:40:05.916-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:40:05.916-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:40:05.916-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:40:05.916-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:40:05.916-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:40:05.916-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:40:05.917-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:40:05.917-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:40:05.918-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:40:05.918-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:40:05.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:40:05.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:40:05.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:40:05.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:40:05.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:40:05.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:40:05.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:40:05.923-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:40:05.923-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:40:05.924-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:40:05.924-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:40:05.942-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:40:05.943-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:40:05.943-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:40:05.944-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:40:05.944-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:40:05.944-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:40:05.944-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:40:05.944-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:40:05.944-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:40:05.944-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:40:05.944-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@bc79500
2025-12-23T17:40:05.946-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:40:05.946-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:40:05.946-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:40:05.948-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:40:05.950-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:40:05.995-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:40:05.996-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:40:05.998-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:40:05.999-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:42:51.759-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:42:51.759-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:42:51.759-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:42:51.759-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:42:51.759-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:42:51.759-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:42:51.759-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:42:51.759-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:42:51.759-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:42:51.761-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:42:51.761-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:42:51.762-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:42:51.762-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:42:51.762-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:42:51.762-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:42:51.764-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:42:51.771-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:42:51.771-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:42:51.771-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:42:51.771-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:42:51.771-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:42:51.771-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:42:51.771-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:42:51.771-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:42:51.772-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:42:51.772-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:42:51.772-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:42:51.773-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:42:51.773-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:42:51.774-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:42:51.774-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:42:51.775-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:42:51.775-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:42:51.776-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:42:51.776-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:42:51.777-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:42:51.777-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:42:51.778-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:42:51.778-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:42:51.779-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:42:51.785-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:42:51.786-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:42:51.787-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:42:51.788-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:42:51.809-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:42:51.809-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:42:51.809-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:42:51.811-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:42:51.811-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:42:51.811-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:42:51.811-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:42:51.811-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:42:51.812-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:42:51.812-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:42:51.812-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@79544392
2025-12-23T17:42:51.813-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:42:51.815-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:42:51.815-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:42:51.819-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:42:51.822-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:42:51.861-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:42:51.861-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:42:51.863-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:42:51.864-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:43:51.794-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:43:51.795-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:43:51.795-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:43:51.795-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:43:51.795-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:43:51.795-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:43:51.795-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:43:51.795-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:43:51.795-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:43:51.796-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:43:51.796-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:43:51.796-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:43:51.796-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:43:51.796-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:43:51.796-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:43:51.797-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:43:51.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:43:51.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:43:51.805-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:43:51.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:43:51.809-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:43:51.811-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:43:51.812-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:43:51.812-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:43:51.812-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:43:51.827-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:43:51.827-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:43:51.827-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:43:51.827-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:43:51.827-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:43:51.827-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:43:51.827-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:43:51.827-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:43:51.828-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:43:51.828-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:43:51.828-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@44f50e31
2025-12-23T17:43:51.829-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:43:51.829-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:43:51.829-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:43:51.830-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:43:51.831-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:43:51.873-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:43:51.874-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:43:51.874-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:43:51.875-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:43:54.117-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:43:54.117-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:43:54.117-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:43:54.117-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:43:54.117-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:43:54.117-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:43:54.117-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:43:54.117-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:43:54.117-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:43:54.118-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:43:54.118-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:43:54.118-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:43:54.118-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:43:54.118-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:43:54.118-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:43:54.119-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:43:54.119-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:43:54.119-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:43:54.119-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:43:54.119-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:43:54.119-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:43:54.119-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:43:54.119-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:43:54.120-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:43:54.121-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:43:54.122-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:43:54.122-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:43:54.122-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:43:54.132-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:43:54.133-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:43:54.133-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:43:54.133-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:43:54.133-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:43:54.134-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:43:54.134-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:43:54.134-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:43:54.135-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:43:54.135-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:43:54.135-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@48a2be8a
2025-12-23T17:43:54.136-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:43:54.137-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:43:54.137-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:43:54.138-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:43:54.139-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:43:54.160-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:43:54.160-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:43:54.160-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:43:54.161-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:44:01.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:44:01.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:44:01.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:44:01.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:44:01.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:44:01.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:44:01.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:44:01.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:44:01.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:44:01.181-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&titulo=Fulano
2025-12-23T17:44:01.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:44:01.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:44:01.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:44:01.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:44:01.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:44:01.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:44:01.185-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:44:01.185-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:44:01.185-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:44:01.185-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:44:01.185-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:44:01.185-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:44:01.185-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:44:01.185-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:44:01.185-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:44:01.185-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&titulo=Fulano
2025-12-23T17:44:01.185-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:44:01.186-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:44:01.186-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:44:01.186-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:44:01.186-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:44:01.186-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:44:01.186-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:44:01.186-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:44:01.186-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:44:01.186-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:44:01.186-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:44:01.186-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:44:01.186-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:44:01.186-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:44:01.187-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:44:01.188-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:44:01.188-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:44:01.188-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:44:01.196-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:44:01.196-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:44:01.196-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:44:01.197-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:44:01.197-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:44:01.197-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:44:01.197-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:44:01.197-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:44:01.197-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&titulo=Fulano
2025-12-23T17:44:01.197-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&titulo=Fulano using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:44:01.197-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@60589120
2025-12-23T17:44:01.197-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&titulo=Fulano
2025-12-23T17:44:01.198-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&titulo=Fulano", parameters={masked}
2025-12-23T17:44:01.198-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:44:01.204-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:44:01.205-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:44:01.249-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:44:01.249-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 0 containing UNKNOWN instances]
2025-12-23T17:44:01.250-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:44:01.251-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:44:10.080-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:44:10.081-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:44:10.081-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:44:10.081-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:44:10.081-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:44:10.081-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:44:10.081-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:44:10.081-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:44:10.081-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:44:10.081-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&titulo=Game%20o
2025-12-23T17:44:10.081-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:44:10.081-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:44:10.081-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:44:10.081-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:44:10.081-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:44:10.082-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:44:10.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:44:10.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:44:10.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:44:10.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:44:10.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:44:10.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:44:10.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:44:10.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:44:10.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:44:10.085-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&titulo=Game%20o
2025-12-23T17:44:10.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:44:10.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:44:10.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:44:10.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:44:10.085-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:44:10.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:44:10.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:44:10.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:44:10.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:44:10.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:44:10.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:44:10.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:44:10.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:44:10.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:44:10.087-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:44:10.087-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:44:10.087-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:44:10.087-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:44:10.095-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:44:10.095-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:44:10.095-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:44:10.096-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:44:10.096-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:44:10.096-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:44:10.096-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:44:10.096-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:44:10.096-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&titulo=Game%20o
2025-12-23T17:44:10.096-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&titulo=Game%20o using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:44:10.096-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@41ec7a57
2025-12-23T17:44:10.096-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&titulo=Game%20o
2025-12-23T17:44:10.096-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&titulo=Game%20o", parameters={masked}
2025-12-23T17:44:10.097-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:44:10.097-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:44:10.098-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:44:10.123-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:44:10.124-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:44:10.124-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:44:10.125-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:44:38.070-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:44:38.071-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:44:38.071-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:44:38.071-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:44:38.071-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:44:38.072-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:44:38.072-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:44:38.072-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:44:38.072-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:44:38.073-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:44:38.073-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:44:38.073-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:44:38.073-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:44:38.073-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:44:38.073-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:44:38.076-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:44:38.099-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:44:38.100-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:44:38.101-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:44:38.101-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:44:38.101-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:44:38.101-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:44:38.101-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:44:38.101-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:44:38.101-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:44:38.101-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:44:38.102-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:44:38.102-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:44:38.102-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:44:38.102-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:44:38.102-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:44:38.104-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:44:38.104-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:44:38.104-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:44:38.105-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:44:38.105-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:44:38.105-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:44:38.105-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:44:38.105-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:44:38.106-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:44:38.110-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:44:38.111-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:44:38.112-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:44:38.112-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:44:38.128-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:44:38.129-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:44:38.129-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:44:38.129-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:44:38.129-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:44:38.129-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:44:38.129-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:44:38.129-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:44:38.130-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:44:38.131-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:44:38.131-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@18409016
2025-12-23T17:44:38.131-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:44:38.132-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:44:38.133-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:44:38.135-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:44:38.137-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:44:38.177-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:44:38.177-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:44:38.179-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:44:38.180-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:46:00.374-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:46:00.374-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:46:00.374-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:46:00.374-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:46:00.374-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:46:00.374-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:46:00.374-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:46:00.374-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:46:00.374-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:46:00.375-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:46:00.375-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:46:00.375-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:46:00.375-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:46:00.375-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:46:00.376-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:46:00.377-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:46:00.386-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:46:00.386-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:46:00.386-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:46:00.386-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:46:00.387-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:46:00.387-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:46:00.387-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:46:00.387-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:46:00.387-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:46:00.389-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:46:00.389-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:46:00.390-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:46:00.390-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:46:00.390-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:46:00.390-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:46:00.391-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:46:00.392-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:46:00.392-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:46:00.392-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:46:00.392-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:46:00.392-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:46:00.392-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:46:00.392-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:46:00.393-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:46:00.395-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:46:00.395-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:46:00.396-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:46:00.397-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:46:00.411-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:46:00.412-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:46:00.412-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:46:00.412-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:46:00.412-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:46:00.413-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:46:00.413-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:46:00.413-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:46:00.413-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:46:00.413-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:46:00.413-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@31afb534
2025-12-23T17:46:00.413-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:46:00.413-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:46:00.414-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:46:00.416-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:46:00.417-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:46:00.450-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:46:00.451-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:46:00.451-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:46:00.452-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:46:45.147-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:46:45.148-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:46:45.148-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:46:45.148-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:46:45.148-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:46:45.148-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:46:45.148-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:46:45.148-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:46:45.148-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:46:45.148-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:46:45.148-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:46:45.148-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:46:45.151-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:46:45.151-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:46:45.151-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:46:45.151-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:46:45.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:46:45.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:46:45.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:46:45.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:46:45.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:46:45.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:46:45.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:46:45.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:46:45.175-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:46:45.175-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:46:45.175-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:46:45.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:46:45.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:46:45.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:46:45.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:46:45.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:46:45.179-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:46:45.179-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:46:45.179-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:46:45.179-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:46:45.179-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:46:45.179-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:46:45.179-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:46:45.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:46:45.182-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:46:45.183-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:46:45.183-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:46:45.183-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:46:45.209-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:46:45.210-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:46:45.210-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:46:45.210-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:46:45.210-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:46:45.210-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:46:45.210-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:46:45.210-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:46:45.210-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:46:45.211-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:46:45.212-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@7d11e6fb
2025-12-23T17:46:45.212-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:46:45.213-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:46:45.213-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:46:45.215-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:46:45.216-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:46:45.255-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:46:45.256-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:46:45.257-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:46:45.257-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:46:59.122-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:46:59.123-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:46:59.123-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:46:59.124-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:46:59.124-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:46:59.124-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:46:59.124-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:46:59.124-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:46:59.124-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:46:59.124-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:46:59.125-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:46:59.125-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:46:59.126-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:46:59.126-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:46:59.126-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:46:59.127-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:46:59.139-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:46:59.140-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:46:59.140-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:46:59.140-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:46:59.141-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:46:59.141-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:46:59.141-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:46:59.141-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:46:59.141-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:46:59.141-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:46:59.141-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:46:59.142-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:46:59.142-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:46:59.142-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:46:59.142-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:46:59.143-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:46:59.143-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:46:59.144-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:46:59.144-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:46:59.144-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:46:59.144-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:46:59.144-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:46:59.144-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:46:59.147-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:46:59.151-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:46:59.151-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:46:59.152-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:46:59.153-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:46:59.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:46:59.169-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:46:59.169-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:46:59.170-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:46:59.170-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:46:59.170-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:46:59.170-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:46:59.170-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:46:59.170-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:46:59.170-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:46:59.170-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5dcbc284
2025-12-23T17:46:59.171-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:46:59.172-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:46:59.173-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:46:59.175-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:46:59.177-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:46:59.211-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:46:59.211-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:46:59.211-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:46:59.212-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:47:03.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:47:03.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:47:03.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:47:03.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:47:03.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:47:03.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:47:03.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:47:03.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:47:03.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:47:03.417-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&titulo=Clash
2025-12-23T17:47:03.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:47:03.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:47:03.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:47:03.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:47:03.417-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:47:03.418-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:47:03.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:47:03.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:47:03.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:47:03.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:47:03.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:47:03.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:47:03.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:47:03.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:47:03.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:47:03.421-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&titulo=Clash
2025-12-23T17:47:03.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:47:03.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:47:03.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:47:03.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:47:03.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:47:03.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:47:03.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:47:03.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:47:03.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:47:03.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:47:03.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:47:03.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:47:03.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:47:03.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:47:03.423-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:47:03.423-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:47:03.424-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:47:03.424-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:47:03.429-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:47:03.429-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:47:03.430-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:47:03.430-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:47:03.430-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:47:03.430-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:47:03.430-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:47:03.430-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:47:03.430-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&titulo=Clash
2025-12-23T17:47:03.430-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&titulo=Clash using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:47:03.430-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5989d936
2025-12-23T17:47:03.430-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&titulo=Clash
2025-12-23T17:47:03.430-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&titulo=Clash", parameters={masked}
2025-12-23T17:47:03.430-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:47:03.431-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:47:03.432-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:47:03.443-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:47:03.443-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:47:03.444-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:47:03.444-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:47:05.167-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:47:05.167-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:47:05.167-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:47:05.168-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&titulo=Clash
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:47:05.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:47:05.169-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:47:05.169-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:47:05.169-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:47:05.170-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:47:05.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:47:05.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:47:05.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:47:05.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:47:05.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:47:05.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:47:05.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:47:05.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:47:05.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&titulo=Clash
2025-12-23T17:47:05.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&titulo=Clash using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:47:05.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@6bfb3c1
2025-12-23T17:47:05.176-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&titulo=Clash
2025-12-23T17:47:05.176-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&titulo=Clash", parameters={masked}
2025-12-23T17:47:05.177-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:47:05.177-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:47:05.177-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:47:05.189-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:47:05.189-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:47:05.190-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:47:05.190-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:47:27.153-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:47:27.154-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:47:27.154-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:47:27.154-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:47:27.154-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:47:27.154-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:47:27.154-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:47:27.154-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:47:27.154-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:47:27.155-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:47:27.155-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:47:27.156-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:47:27.156-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:47:27.156-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:47:27.156-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:47:27.157-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:47:27.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:47:27.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:47:27.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:47:27.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:47:27.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:47:27.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:47:27.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:47:27.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:47:27.175-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:47:27.175-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:47:27.175-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:47:27.176-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:47:27.177-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:47:27.177-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:47:27.177-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:47:27.178-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:47:27.178-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:47:27.178-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:47:27.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:47:27.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:47:27.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:47:27.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:47:27.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:47:27.180-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:47:27.183-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:47:27.183-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:47:27.184-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:47:27.184-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:47:27.201-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:47:27.202-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:47:27.202-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:47:27.202-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:47:27.203-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:47:27.203-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:47:27.203-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:47:27.203-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:47:27.204-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:47:27.205-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:47:27.205-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5b7c886e
2025-12-23T17:47:27.206-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:47:27.207-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:47:27.207-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:47:27.209-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:47:27.210-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:47:27.278-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:47:27.279-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:47:27.280-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:47:27.282-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:47:29.813-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:47:29.813-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:47:29.813-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:47:29.813-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:47:29.813-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:47:29.813-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:47:29.813-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:47:29.813-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:47:29.814-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:47:29.814-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&titulo=Clash
2025-12-23T17:47:29.815-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:47:29.815-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:47:29.815-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:47:29.815-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:47:29.815-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:47:29.816-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:47:29.821-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:47:29.821-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:47:29.821-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:47:29.821-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:47:29.821-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:47:29.821-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:47:29.821-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:47:29.821-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:47:29.821-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:47:29.821-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&titulo=Clash
2025-12-23T17:47:29.821-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:47:29.821-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:47:29.821-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:47:29.821-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:47:29.821-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:47:29.822-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:47:29.822-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:47:29.822-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:47:29.822-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:47:29.822-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:47:29.822-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:47:29.822-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:47:29.822-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:47:29.822-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:47:29.823-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:47:29.823-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:47:29.823-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:47:29.823-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:47:29.829-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:47:29.829-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:47:29.829-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:47:29.829-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:47:29.830-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:47:29.830-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:47:29.830-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:47:29.830-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:47:29.830-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&titulo=Clash
2025-12-23T17:47:29.830-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&titulo=Clash using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:47:29.830-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@7f8cd85f
2025-12-23T17:47:29.831-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&titulo=Clash
2025-12-23T17:47:29.831-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&titulo=Clash", parameters={masked}
2025-12-23T17:47:29.831-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:47:29.832-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:47:29.833-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:47:29.846-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:47:29.846-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:47:29.846-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:47:29.847-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:47:32.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:47:32.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:47:32.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:47:32.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:47:32.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:47:32.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:47:32.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:47:32.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:47:32.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:47:32.632-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&titulo=Game
2025-12-23T17:47:32.632-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:47:32.632-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:47:32.632-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:47:32.632-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:47:32.632-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:47:32.632-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:47:32.636-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:47:32.636-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:47:32.637-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&titulo=Game
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:47:32.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:47:32.639-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:47:32.640-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:47:32.640-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:47:32.640-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:47:32.640-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:47:32.644-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:47:32.644-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:47:32.644-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:47:32.644-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:47:32.644-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:47:32.644-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:47:32.644-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:47:32.644-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:47:32.645-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&titulo=Game
2025-12-23T17:47:32.645-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&titulo=Game using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:47:32.645-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@6698c937
2025-12-23T17:47:32.645-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&titulo=Game
2025-12-23T17:47:32.645-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&titulo=Game", parameters={masked}
2025-12-23T17:47:32.645-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:47:32.645-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:47:32.646-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:47:32.657-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:47:32.657-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:47:32.657-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:47:32.658-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:47:35.053-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:47:35.053-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:47:35.053-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:47:35.053-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:47:35.053-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:47:35.053-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:47:35.054-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:47:35.054-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:47:35.054-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:47:35.054-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:47:35.054-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:47:35.054-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:47:35.054-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:47:35.054-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:47:35.054-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:47:35.054-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:47:35.057-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:47:35.057-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:47:35.057-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:47:35.057-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:47:35.057-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:47:35.057-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:47:35.057-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:47:35.057-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:47:35.057-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:47:35.057-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:47:35.058-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:47:35.058-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:47:35.058-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:47:35.058-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:47:35.058-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:47:35.058-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:47:35.058-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:47:35.058-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:47:35.058-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:47:35.058-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:47:35.058-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:47:35.058-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:47:35.058-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:47:35.058-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:47:35.059-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:47:35.059-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:47:35.059-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:47:35.059-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:47:35.065-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:47:35.065-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:47:35.065-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:47:35.065-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:47:35.065-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:47:35.065-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:47:35.065-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:47:35.065-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:47:35.065-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:47:35.065-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:47:35.065-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@44802f4
2025-12-23T17:47:35.065-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:47:35.065-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:47:35.066-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:47:35.066-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:47:35.066-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:47:35.082-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:47:35.082-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:47:35.083-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:47:35.083-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:47:47.902-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:47:47.902-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:47:47.902-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:47:47.902-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:47:47.902-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:47:47.902-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:47:47.902-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:47:47.903-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:47:47.904-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:47:47.904-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:47:47.904-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:47:47.905-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:47:47.905-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:47:47.905-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:47:47.905-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:47:47.907-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:47:47.917-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:47:47.918-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:47:47.918-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:47:47.918-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:47:47.918-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:47:47.918-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:47:47.918-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:47:47.918-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:47:47.918-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:47:47.919-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:47:47.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:47:47.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:47:47.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:47:47.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:47:47.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:47:47.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:47:47.921-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:47:47.921-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:47:47.921-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:47:47.921-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:47:47.921-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:47:47.921-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:47:47.921-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:47:47.921-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:47:47.923-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:47:47.923-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:47:47.924-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:47:47.924-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:47:47.942-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:47:47.942-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:47:47.943-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:47:47.943-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:47:47.943-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:47:47.944-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:47:47.944-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:47:47.944-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:47:47.944-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:47:47.944-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:47:47.944-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5ea81eca
2025-12-23T17:47:47.945-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:47:47.946-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:47:47.947-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:47:47.949-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:47:47.950-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:47:47.990-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:47:47.991-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:47:47.993-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:47:47.995-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:51:24.446-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:51:24.447-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:51:24.447-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:51:24.447-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:51:24.447-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:51:24.447-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:51:24.447-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:51:24.447-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:51:24.447-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:51:24.447-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:51:24.448-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:51:24.449-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:51:24.450-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:51:24.451-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:51:24.451-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:51:24.453-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:51:24.461-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:51:24.461-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:51:24.461-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:51:24.461-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:51:24.461-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:51:24.461-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:51:24.461-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:51:24.462-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:51:24.462-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:51:24.462-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:51:24.462-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:51:24.463-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:51:24.463-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:51:24.463-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:51:24.463-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:51:24.464-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:51:24.464-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:51:24.464-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:51:24.464-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:51:24.464-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:51:24.464-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:51:24.465-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:51:24.465-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:51:24.466-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:51:24.468-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:51:24.468-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:51:24.469-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:51:24.469-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:51:24.486-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:51:24.487-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:51:24.487-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:51:24.488-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:51:24.488-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:51:24.488-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:51:24.488-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:51:24.488-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:51:24.488-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:51:24.488-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:51:24.488-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@555b8f5c
2025-12-23T17:51:24.489-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:51:24.489-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:51:24.490-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:51:24.493-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:51:24.494-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:51:24.543-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:51:24.543-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:51:24.544-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:51:24.546-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:51:30.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:51:30.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:51:30.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:51:30.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:51:30.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:51:30.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:51:30.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:51:30.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:51:30.879-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:51:30.880-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:51:30.880-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:51:30.880-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:51:30.880-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:51:30.880-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:51:30.881-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:51:30.882-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:51:30.895-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:51:30.895-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:51:30.895-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:51:30.895-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:51:30.896-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:51:30.896-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:51:30.896-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:51:30.896-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:51:30.896-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:51:30.896-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:51:30.896-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:51:30.896-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:51:30.896-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:51:30.896-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:51:30.896-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:51:30.898-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:51:30.899-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:51:30.899-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:51:30.899-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:51:30.899-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:51:30.899-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:51:30.899-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:51:30.899-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:51:30.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:51:30.902-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:51:30.902-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:51:30.902-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:51:30.903-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:51:30.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:51:30.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:51:30.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:51:30.922-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:51:30.922-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:51:30.922-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:51:30.922-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:51:30.922-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:51:30.923-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:51:30.924-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:51:30.924-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@75568fb3
2025-12-23T17:51:30.925-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:51:30.926-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:51:30.926-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:51:30.929-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:51:30.930-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:51:30.974-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:51:30.974-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:51:30.975-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:51:30.977-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:51:33.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:51:33.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:51:33.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:51:33.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:51:33.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:51:33.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:51:33.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:51:33.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:51:33.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:51:33.723-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&genero=TECNOLOGIA
2025-12-23T17:51:33.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:51:33.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:51:33.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:51:33.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:51:33.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:51:33.724-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:51:33.727-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:51:33.727-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:51:33.727-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:51:33.728-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&genero=TECNOLOGIA
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:51:33.728-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:51:33.729-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:51:33.729-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:51:33.729-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:51:33.729-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:51:33.730-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:51:33.730-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:51:33.730-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:51:33.730-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:51:33.735-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:51:33.735-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:51:33.735-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:51:33.735-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:51:33.735-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:51:33.736-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:51:33.736-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:51:33.736-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:51:33.736-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&genero=TECNOLOGIA
2025-12-23T17:51:33.736-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&genero=TECNOLOGIA using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:51:33.736-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@47171455
2025-12-23T17:51:33.736-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&genero=TECNOLOGIA
2025-12-23T17:51:33.737-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&genero=TECNOLOGIA", parameters={masked}
2025-12-23T17:51:33.737-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:51:33.743-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.method.HandlerMethod             : Could not resolve parameter [3] in public org.springframework.http.ResponseEntity<org.springframework.data.domain.Page<teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO>> teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer): Failed to convert value of type 'java.lang.String' to required type 'teste.estudos.libraryapi.model.GeneroLivro'; Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam teste.estudos.libraryapi.model.GeneroLivro] for value [TECNOLOGIA]
2025-12-23T17:51:33.744-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler teste.estudos.libraryapi.controller.common.GlobalExceptionHandler#handleErrosNaoTratados(RuntimeException)
2025-12-23T17:51:33.744-03:00 ERROR 25860 --- [libraryapi] [http-nio-8080-exec-7] t.e.l.c.common.GlobalExceptionHandler    : Erro Interno: {}

org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'teste.estudos.libraryapi.model.GeneroLivro'; Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam teste.estudos.libraryapi.model.GeneroLivro] for value [TECNOLOGIA]
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:302) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:137) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:224) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:178) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.30.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.30.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam teste.estudos.libraryapi.model.GeneroLivro] for value [TECNOLOGIA]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47) ~[spring-core-6.1.13.jar:6.1.13]
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182) ~[spring-core-6.1.13.jar:6.1.13]
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:131) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:80) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:860) ~[spring-context-6.1.13.jar:6.1.13]
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:294) ~[spring-web-6.1.13.jar:6.1.13]
	... 155 common frames omitted
Caused by: java.lang.IllegalArgumentException: No enum constant teste.estudos.libraryapi.model.GeneroLivro.TECNOLOGIA
	at java.base/java.lang.Enum.valueOf(Enum.java:293) ~[na:na]
	at org.springframework.core.convert.support.StringToEnumConverterFactory$StringToEnum.convert(StringToEnumConverterFactory.java:54) ~[spring-core-6.1.13.jar:6.1.13]
	at org.springframework.core.convert.support.StringToEnumConverterFactory$StringToEnum.convert(StringToEnumConverterFactory.java:39) ~[spring-core-6.1.13.jar:6.1.13]
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409) ~[spring-core-6.1.13.jar:6.1.13]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41) ~[spring-core-6.1.13.jar:6.1.13]
	... 161 common frames omitted

2025-12-23T17:51:33.747-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:51:33.747-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ErroResposta[status=500, mensagem=Ocorreu um erro inesperado, entre em contato com o suporte., erros (truncated)...]
2025-12-23T17:51:33.747-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:51:33.747-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'teste.estudos.libraryapi.model.GeneroLivro'; Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam teste.estudos.libraryapi.model.GeneroLivro] for value [TECNOLOGIA]]
2025-12-23T17:51:33.747-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-23T17:53:07.974-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:07.975-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:07.975-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:07.975-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:07.975-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:07.975-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:07.975-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:07.975-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:07.975-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:07.975-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:53:07.976-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:07.977-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:07.977-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:07.977-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:07.978-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:07.979-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:07.991-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:07.991-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:07.991-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:07.991-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:07.991-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:07.991-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:07.991-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:07.992-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:07.992-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:07.992-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:53:07.992-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:07.993-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:07.993-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:07.993-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:07.993-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:07.994-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:53:07.994-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:53:07.994-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:53:07.994-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:53:07.994-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:53:07.994-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:53:07.994-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:53:07.994-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:53:07.995-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:53:07.998-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:53:07.999-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:53:08.000-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:53:08.000-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:53:08.017-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:53:08.018-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:53:08.018-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:53:08.018-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:53:08.018-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:53:08.018-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:53:08.019-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:53:08.019-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:53:08.019-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:53:08.019-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:53:08.019-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@3e73a664
2025-12-23T17:53:08.020-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:53:08.020-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:53:08.022-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:53:08.023-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:08.025-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:08.078-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:53:08.079-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:53:08.080-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:08.082-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:53:10.977-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:10.978-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:10.978-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:10.978-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:10.978-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:10.978-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:10.978-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:10.978-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:10.978-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:10.978-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&genero=FANTASIA
2025-12-23T17:53:10.978-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:10.978-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:10.978-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:10.978-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:10.978-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:10.979-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:10.982-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:10.982-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:10.982-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:10.982-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:10.982-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:10.982-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:10.982-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:10.982-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:10.982-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:10.982-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&genero=FANTASIA
2025-12-23T17:53:10.982-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:10.982-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:10.982-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:10.982-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:10.982-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:10.983-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:53:10.983-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:53:10.983-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:53:10.983-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:53:10.983-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:53:10.983-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:53:10.983-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:53:10.983-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:53:10.983-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:53:10.984-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:53:10.984-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:53:10.984-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:53:10.984-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:53:10.990-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:53:10.990-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:53:10.990-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:53:10.990-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:53:10.990-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:53:10.990-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:53:10.990-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:53:10.990-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:53:10.991-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&genero=FANTASIA
2025-12-23T17:53:10.991-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&genero=FANTASIA using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:53:10.991-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@1246c2fa
2025-12-23T17:53:10.991-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&genero=FANTASIA
2025-12-23T17:53:10.991-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&genero=FANTASIA", parameters={masked}
2025-12-23T17:53:10.991-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:53:10.992-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:10.992-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:11.007-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:53:11.008-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:53:11.008-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:11.009-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:53:15.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:15.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:15.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:15.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:15.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:15.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:15.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:15.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:15.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:15.168-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&genero=FICCAO
2025-12-23T17:53:15.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:15.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:15.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:15.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:15.168-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:15.169-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:15.172-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:15.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:15.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:15.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:15.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:15.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:15.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:15.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:15.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:15.173-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&genero=FICCAO
2025-12-23T17:53:15.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:15.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:15.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:15.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:15.173-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:15.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:53:15.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:53:15.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:53:15.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:53:15.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:53:15.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:53:15.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:53:15.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:53:15.174-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:53:15.175-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:53:15.175-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:53:15.175-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:53:15.175-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:53:15.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:53:15.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:53:15.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:53:15.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:53:15.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:53:15.181-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:53:15.182-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:53:15.182-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:53:15.182-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&genero=FICCAO
2025-12-23T17:53:15.182-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&genero=FICCAO using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:53:15.182-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@453979e7
2025-12-23T17:53:15.182-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&genero=FICCAO
2025-12-23T17:53:15.182-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&genero=FICCAO", parameters={masked}
2025-12-23T17:53:15.182-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:53:15.182-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:15.183-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:15.189-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:53:15.189-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 0 containing UNKNOWN instances]
2025-12-23T17:53:15.189-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:15.190-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:53:17.877-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:17.877-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:17.877-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:17.877-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:17.877-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:17.877-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:17.878-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&genero=FICCAO&genero=MISTERIO
2025-12-23T17:53:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:17.878-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:17.879-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:17.883-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:17.883-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:17.883-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:17.883-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:17.883-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:17.883-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:17.883-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:17.883-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:17.883-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:17.883-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&genero=FICCAO&genero=MISTERIO
2025-12-23T17:53:17.883-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:17.884-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:17.884-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:17.884-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:17.884-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:17.884-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:53:17.884-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:53:17.884-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:53:17.884-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:53:17.884-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:53:17.884-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:53:17.884-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:53:17.884-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:53:17.884-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:53:17.885-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:53:17.885-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:53:17.885-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:53:17.885-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:53:17.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:53:17.892-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:53:17.892-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:53:17.892-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:53:17.892-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:53:17.892-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:53:17.892-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:53:17.892-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:53:17.892-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&genero=FICCAO&genero=MISTERIO
2025-12-23T17:53:17.892-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&genero=FICCAO&genero=MISTERIO using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:53:17.892-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5d6ccca6
2025-12-23T17:53:17.892-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&genero=FICCAO&genero=MISTERIO
2025-12-23T17:53:17.892-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&genero=FICCAO&genero=MISTERIO", parameters={masked}
2025-12-23T17:53:17.892-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:53:17.893-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:17.893-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:17.899-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:53:17.899-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 0 containing UNKNOWN instances]
2025-12-23T17:53:17.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:17.900-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:53:20.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:20.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:20.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:20.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:20.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:20.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:20.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:20.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:20.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:20.086-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&genero=FICCAO&genero=MISTERIO&genero=FANTASIA
2025-12-23T17:53:20.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:20.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:20.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:20.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:20.086-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:20.087-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:20.091-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:20.091-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:20.091-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:20.091-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:20.091-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:20.091-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:20.091-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:20.091-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:20.091-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:20.091-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&genero=FICCAO&genero=MISTERIO&genero=FANTASIA
2025-12-23T17:53:20.091-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:20.091-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:20.091-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:20.091-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:20.091-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:20.092-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:53:20.092-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:53:20.092-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:53:20.092-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:53:20.092-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:53:20.092-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:53:20.092-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:53:20.092-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:53:20.092-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:53:20.093-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:53:20.093-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:53:20.093-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:53:20.093-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:53:20.099-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:53:20.099-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:53:20.099-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:53:20.099-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:53:20.099-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:53:20.099-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:53:20.099-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:53:20.099-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:53:20.099-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&genero=FICCAO&genero=MISTERIO&genero=FANTASIA
2025-12-23T17:53:20.099-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&genero=FICCAO&genero=MISTERIO&genero=FANTASIA using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:53:20.099-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@6a90eb97
2025-12-23T17:53:20.099-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&genero=FICCAO&genero=MISTERIO&genero=FANTASIA
2025-12-23T17:53:20.099-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&genero=FICCAO&genero=MISTERIO&genero=FANTASIA", parameters={masked}
2025-12-23T17:53:20.100-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:53:20.101-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:20.101-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:20.112-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:53:20.112-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 0 containing UNKNOWN instances]
2025-12-23T17:53:20.112-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:20.113-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:53:22.835-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:22.835-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:22.835-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:22.835-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:22.835-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:22.835-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:22.835-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:22.835-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:22.835-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:22.835-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&genero=FANTASIA
2025-12-23T17:53:22.835-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:22.835-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:22.835-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:22.835-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:22.835-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:22.836-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:22.839-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:22.839-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:22.839-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:22.839-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:22.839-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:22.839-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:22.839-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:22.839-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:22.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:22.840-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&genero=FANTASIA
2025-12-23T17:53:22.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:22.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:22.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:22.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:22.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:22.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:53:22.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:53:22.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:53:22.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:53:22.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:53:22.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:53:22.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:53:22.840-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:53:22.841-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:53:22.842-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:53:22.842-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:53:22.842-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:53:22.842-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:53:22.849-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:53:22.849-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:53:22.849-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:53:22.849-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:53:22.849-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:53:22.850-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:53:22.850-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:53:22.850-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:53:22.850-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&genero=FANTASIA
2025-12-23T17:53:22.850-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&genero=FANTASIA using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:53:22.850-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@22c4843a
2025-12-23T17:53:22.850-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&genero=FANTASIA
2025-12-23T17:53:22.850-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&genero=FANTASIA", parameters={masked}
2025-12-23T17:53:22.851-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:53:22.851-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:22.852-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:22.866-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:53:22.867-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:53:22.867-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:22.868-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:28.980-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:28.980-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:53:28.980-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:53:28.980-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:53:28.987-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:53:28.987-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:53:28.992-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:53:28.992-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:53:28.992-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:53:28.992-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:53:28.992-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:53:28.992-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:53:28.992-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:53:28.992-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:53:28.992-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:53:28.992-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:53:28.992-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@57c5bf0
2025-12-23T17:53:28.993-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:53:28.993-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:53:28.993-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:53:28.993-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:28.993-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:29.009-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:53:29.009-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:53:29.010-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:29.010-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:53:41.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:41.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:41.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:41.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:41.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:41.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:41.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:41.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:41.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:41.349-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&genero=ROMANCE
2025-12-23T17:53:41.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:41.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:41.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:41.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:41.349-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:41.350-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:41.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:41.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:41.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:41.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:41.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:41.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:41.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:41.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:41.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:41.353-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&genero=ROMANCE
2025-12-23T17:53:41.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:41.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:41.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:41.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:41.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:41.354-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:53:41.354-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:53:41.354-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:53:41.354-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:53:41.354-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:53:41.354-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:53:41.354-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:53:41.354-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:53:41.354-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:53:41.355-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:53:41.355-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:53:41.355-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:53:41.355-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:53:41.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:53:41.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:53:41.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:53:41.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:53:41.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:53:41.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:53:41.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:53:41.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:53:41.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&genero=ROMANCE
2025-12-23T17:53:41.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&genero=ROMANCE using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:53:41.361-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@4d28cf3b
2025-12-23T17:53:41.362-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&genero=ROMANCE
2025-12-23T17:53:41.362-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&genero=ROMANCE", parameters={masked}
2025-12-23T17:53:41.362-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:53:41.363-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:41.363-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:41.373-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:53:41.374-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:53:41.374-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:41.374-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:53:42.886-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:42.886-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:42.886-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:42.886-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:42.886-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:42.886-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:42.886-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:42.886-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:42.886-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:42.887-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&genero=ROMANCE&genero=FANTASIA
2025-12-23T17:53:42.887-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:42.887-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:42.887-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:42.887-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:42.887-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:42.887-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:42.890-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:42.890-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:42.890-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:42.890-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:42.890-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:42.890-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:42.890-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:42.890-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:42.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:42.891-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&genero=ROMANCE&genero=FANTASIA
2025-12-23T17:53:42.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:42.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:42.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:42.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:42.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:42.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:53:42.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:53:42.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:53:42.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:53:42.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:53:42.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:53:42.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:53:42.891-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:53:42.892-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:53:42.892-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:53:42.892-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:53:42.893-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:53:42.893-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:53:42.899-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:53:42.899-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:53:42.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:53:42.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:53:42.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:53:42.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:53:42.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:53:42.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:53:42.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&genero=ROMANCE&genero=FANTASIA
2025-12-23T17:53:42.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&genero=ROMANCE&genero=FANTASIA using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:53:42.900-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@1c117157
2025-12-23T17:53:42.900-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&genero=ROMANCE&genero=FANTASIA
2025-12-23T17:53:42.900-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&genero=ROMANCE&genero=FANTASIA", parameters={masked}
2025-12-23T17:53:42.900-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:53:42.901-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:42.901-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:42.912-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:53:42.913-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:53:42.913-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:42.913-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:44.513-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&genero=ROMANCE&genero=FANTASIA
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:53:44.513-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:53:44.514-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:53:44.514-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:53:44.514-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:53:44.514-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:53:44.514-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:53:44.514-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:53:44.514-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:53:44.515-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:53:44.515-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:53:44.515-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:53:44.515-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:53:44.520-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:53:44.521-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:53:44.521-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:53:44.521-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:53:44.521-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:53:44.521-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:53:44.521-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:53:44.521-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:53:44.521-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&genero=ROMANCE&genero=FANTASIA
2025-12-23T17:53:44.521-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&genero=ROMANCE&genero=FANTASIA using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:53:44.521-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@34885176
2025-12-23T17:53:44.521-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&genero=ROMANCE&genero=FANTASIA
2025-12-23T17:53:44.521-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&genero=ROMANCE&genero=FANTASIA", parameters={masked}
2025-12-23T17:53:44.521-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:53:44.522-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:44.522-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:44.532-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:53:44.533-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:53:44.533-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:44.534-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:53:57.810-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:57.810-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:57.810-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:57.810-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:57.810-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:57.810-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:57.810-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:57.810-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:57.810-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:57.811-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:53:57.811-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:57.811-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:57.811-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:57.811-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:57.811-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:57.811-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:57.815-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:53:57.815-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:53:57.815-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:53:57.815-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:53:57.815-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:53:57.815-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:53:57.815-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:53:57.815-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:53:57.815-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:53:57.815-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:53:57.815-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:53:57.816-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:53:57.816-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:53:57.816-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:53:57.816-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:53:57.816-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:53:57.816-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:53:57.816-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:53:57.816-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:53:57.816-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:53:57.816-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:53:57.816-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:53:57.816-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:53:57.816-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:53:57.818-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:53:57.818-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:53:57.818-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:53:57.818-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:53:57.825-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:53:57.825-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:53:57.825-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:53:57.826-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:53:57.826-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:53:57.826-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:53:57.826-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:53:57.826-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:53:57.826-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:53:57.826-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:53:57.826-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@195987df
2025-12-23T17:53:57.826-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:53:57.826-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:53:57.826-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:53:57.827-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:57.827-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:53:57.848-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:53:57.848-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:53:57.849-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:53:57.850-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:54:21.385-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:21.385-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:21.385-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:21.385-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:21.385-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:21.386-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:21.386-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:21.386-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:21.386-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:21.386-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:54:21.386-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:21.387-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:21.387-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:21.387-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:21.387-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:21.388-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:21.397-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:21.397-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:21.397-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:21.397-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:21.397-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:21.397-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:21.397-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:21.397-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:21.397-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:21.398-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:54:21.398-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:21.398-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:21.398-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:21.398-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:21.398-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:21.399-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:54:21.400-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:54:21.400-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:54:21.400-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:54:21.400-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:54:21.400-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:54:21.400-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:54:21.400-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:54:21.401-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:54:21.403-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:54:21.404-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:54:21.405-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:54:21.405-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:54:21.419-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:54:21.420-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:54:21.420-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:54:21.420-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:54:21.420-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:54:21.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:54:21.421-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:54:21.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:54:21.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:54:21.422-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:54:21.423-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@6125ac74
2025-12-23T17:54:21.423-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:54:21.424-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:54:21.425-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:54:21.428-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:21.430-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:21.476-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:54:21.477-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:54:21.478-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:21.479-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:54:27.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:27.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:27.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:27.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:27.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:27.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:27.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:27.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:27.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:27.799-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&genero=ROMANCE
2025-12-23T17:54:27.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:27.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:27.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:27.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:27.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:27.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:27.804-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&genero=ROMANCE
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:54:27.804-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:54:27.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:54:27.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:54:27.805-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:54:27.805-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:54:27.806-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:54:27.806-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:54:27.812-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:54:27.812-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:54:27.812-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:54:27.812-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:54:27.812-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:54:27.812-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:54:27.812-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:54:27.812-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:54:27.812-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&genero=ROMANCE
2025-12-23T17:54:27.812-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&genero=ROMANCE using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:54:27.812-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@4638e868
2025-12-23T17:54:27.812-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&genero=ROMANCE
2025-12-23T17:54:27.812-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&genero=ROMANCE", parameters={masked}
2025-12-23T17:54:27.812-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:54:27.813-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:27.813-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:27.825-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:54:27.825-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:54:27.826-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:27.826-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:54:29.739-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:29.739-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:29.739-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:29.739-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:29.739-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:29.739-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:29.739-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:29.739-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:29.740-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:29.740-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:54:29.740-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:29.740-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:29.740-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:29.740-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:29.740-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:29.740-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:29.744-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:29.744-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:29.744-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:29.744-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:29.744-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:29.744-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:29.744-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:29.744-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:29.744-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:29.744-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:54:29.744-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:29.744-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:29.744-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:29.744-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:29.744-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:29.744-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:54:29.745-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:54:29.745-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:54:29.745-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:54:29.745-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:54:29.745-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:54:29.745-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:54:29.745-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:54:29.745-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:54:29.746-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:54:29.746-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:54:29.746-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:54:29.746-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:54:29.752-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:54:29.752-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:54:29.752-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:54:29.752-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:54:29.752-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:54:29.752-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:54:29.752-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:54:29.752-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:54:29.752-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:54:29.752-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:54:29.752-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@2696792a
2025-12-23T17:54:29.752-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:54:29.752-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:54:29.753-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:54:29.753-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:29.753-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:29.768-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:54:29.768-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:54:29.768-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:29.769-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:54:34.850-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:34.851-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:34.851-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:34.851-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:34.851-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:34.851-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:34.851-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:34.851-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:34.851-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:34.851-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&titulo=Dom&genero=ROMANCE
2025-12-23T17:54:34.852-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:34.852-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:34.852-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:34.852-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:34.852-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:34.853-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:34.856-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:34.856-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:34.856-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:34.856-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:34.856-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:34.856-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:34.856-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:34.856-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:34.856-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:34.856-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&titulo=Dom&genero=ROMANCE
2025-12-23T17:54:34.856-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:34.856-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:34.856-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:34.856-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:34.856-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:34.857-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:54:34.857-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:54:34.857-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:54:34.857-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:54:34.857-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:54:34.857-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:54:34.857-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:54:34.857-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:54:34.857-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:54:34.858-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:54:34.858-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:54:34.858-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:54:34.858-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:54:34.863-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:54:34.864-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:54:34.864-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:54:34.864-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:54:34.864-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:54:34.864-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:54:34.864-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:54:34.864-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:54:34.864-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&titulo=Dom&genero=ROMANCE
2025-12-23T17:54:34.864-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&titulo=Dom&genero=ROMANCE using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:54:34.864-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@26e5838d
2025-12-23T17:54:34.864-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&titulo=Dom&genero=ROMANCE
2025-12-23T17:54:34.865-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&titulo=Dom&genero=ROMANCE", parameters={masked}
2025-12-23T17:54:34.865-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:54:34.865-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:34.866-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:34.880-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:54:34.880-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:54:34.881-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:34.881-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:54:37.630-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:37.630-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:37.630-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:37.630-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:37.630-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:37.630-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:37.630-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:37.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:37.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:37.631-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:37.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:37.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:37.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:37.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:37.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:37.631-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:37.634-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:37.635-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:37.635-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:37.635-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:37.635-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:37.635-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:37.635-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:37.635-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:37.635-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:37.635-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:37.635-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:37.635-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:37.635-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:37.635-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:37.635-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:37.635-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:54:37.636-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:54:37.636-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:54:37.636-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:54:37.636-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:54:37.636-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:54:37.636-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:54:37.636-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:54:37.636-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:54:37.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:54:37.637-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:54:37.637-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:54:37.637-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:54:37.643-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:54:37.643-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:54:37.643-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:54:37.643-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:54:37.643-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:54:37.643-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:54:37.643-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:54:37.643-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:54:37.643-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:37.643-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&titulo=Dom using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:54:37.643-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@31b4c0e3
2025-12-23T17:54:37.644-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:37.644-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&titulo=Dom", parameters={masked}
2025-12-23T17:54:37.644-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:54:37.645-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:37.645-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:37.661-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:54:37.661-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:54:37.662-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:37.662-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:54:38.336-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:38.336-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:38.336-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:38.336-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:38.336-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:38.336-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:38.336-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:38.337-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:54:38.337-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:54:38.339-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:54:38.339-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:54:38.339-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:54:38.339-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:54:38.345-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:54:38.345-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:54:38.345-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:54:38.345-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:54:38.345-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:54:38.345-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:54:38.345-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:54:38.345-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:54:38.345-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:38.345-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&titulo=Dom using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:54:38.345-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@339af2ef
2025-12-23T17:54:38.345-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:38.345-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&titulo=Dom", parameters={masked}
2025-12-23T17:54:38.346-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:54:38.347-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:38.347-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:38.358-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:54:38.359-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:54:38.359-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:38.360-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:54:38.493-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:38.493-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:38.493-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:38.493-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:38.493-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:38.493-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:38.493-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:38.493-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:38.493-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:38.493-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:38.493-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:38.493-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:38.493-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:38.493-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:38.493-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:38.494-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:54:38.494-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:54:38.494-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:54:38.494-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:54:38.494-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:54:38.494-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:54:38.494-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:54:38.494-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:54:38.494-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:54:38.495-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:54:38.495-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:54:38.495-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:54:38.495-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:54:38.499-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:54:38.499-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:54:38.499-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:54:38.499-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:54:38.499-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:54:38.499-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:54:38.499-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:54:38.499-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:54:38.500-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:38.500-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&titulo=Dom using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:54:38.500-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@26cc61b6
2025-12-23T17:54:38.500-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:38.500-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&titulo=Dom", parameters={masked}
2025-12-23T17:54:38.500-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:54:38.500-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:38.501-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:38.511-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:54:38.512-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:54:38.512-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:38.513-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:54:39.600-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:39.600-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:39.600-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:39.600-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:39.600-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:39.600-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:39.600-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:39.600-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:39.601-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:39.601-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:39.601-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:39.601-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:39.601-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:39.601-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:39.601-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:39.601-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:54:39.601-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:54:39.601-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:54:39.601-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:54:39.601-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:54:39.601-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:54:39.601-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:54:39.601-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:54:39.601-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:54:39.602-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:54:39.602-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:54:39.602-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:54:39.602-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:54:39.608-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:54:39.609-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:54:39.609-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:54:39.609-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:54:39.609-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:54:39.609-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:54:39.609-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:54:39.609-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:54:39.609-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:39.609-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&titulo=Dom using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:54:39.609-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@7c0bfbf4
2025-12-23T17:54:39.609-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:39.609-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&titulo=Dom", parameters={masked}
2025-12-23T17:54:39.609-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:54:39.610-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:39.610-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:39.621-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:54:39.621-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:54:39.621-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:39.621-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:54:40.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:40.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:40.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:40.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:40.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:40.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:40.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:40.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:40.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:40.046-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:40.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:40.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:40.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:40.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:40.046-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:40.047-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:54:40.047-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:54:40.047-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:54:40.047-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:54:40.047-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:54:40.047-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:54:40.047-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:54:40.047-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:54:40.047-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:54:40.048-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:54:40.048-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:54:40.048-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:54:40.048-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:54:40.052-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:54:40.052-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:54:40.052-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:54:40.052-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:54:40.052-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:54:40.053-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:54:40.053-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:54:40.053-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:54:40.053-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:40.053-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&titulo=Dom using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:54:40.053-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@7267231e
2025-12-23T17:54:40.053-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:40.053-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&titulo=Dom", parameters={masked}
2025-12-23T17:54:40.053-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:54:40.054-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:40.055-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:40.065-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:54:40.065-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:54:40.065-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:40.065-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:54:40.703-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:40.703-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:40.703-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:40.703-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:40.703-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:40.703-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:40.703-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:40.703-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:40.703-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:40.703-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:40.704-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:40.704-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:40.704-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:40.704-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:40.704-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:40.704-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:54:40.704-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:54:40.704-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:54:40.704-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:54:40.704-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:54:40.704-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:54:40.704-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:54:40.704-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:54:40.704-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:54:40.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:54:40.706-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:54:40.706-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:54:40.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:54:40.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:54:40.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:54:40.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:54:40.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:54:40.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:54:40.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:54:40.712-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:54:40.712-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:54:40.712-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:40.712-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&titulo=Dom using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:54:40.712-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@1db90d4
2025-12-23T17:54:40.712-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&titulo=Dom
2025-12-23T17:54:40.712-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&titulo=Dom", parameters={masked}
2025-12-23T17:54:40.712-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:54:40.712-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:40.713-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:40.723-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:54:40.723-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:54:40.723-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:40.724-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:54:46.570-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:46.570-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:46.570-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:46.570-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:46.570-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:46.570-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:46.570-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:46.571-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:46.571-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:46.571-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:54:46.571-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:46.571-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:46.571-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:46.571-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:46.571-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:46.571-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:46.574-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:46.575-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:54:46.575-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:54:46.576-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:54:46.576-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:54:46.576-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:54:46.577-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:54:46.577-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:54:46.582-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:54:46.582-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:54:46.582-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:54:46.582-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:54:46.582-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:54:46.582-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:54:46.582-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:54:46.582-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:54:46.582-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:54:46.582-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:54:46.582-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@67d43768
2025-12-23T17:54:46.583-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:54:46.583-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:54:46.583-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:54:46.583-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:46.584-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:46.604-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:54:46.604-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:54:46.604-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:46.605-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:54:57.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:57.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:57.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:57.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:57.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:57.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:57.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:57.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:57.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:57.711-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:54:57.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:57.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:57.712-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:57.712-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:57.712-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:57.712-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:57.715-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:57.715-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:57.715-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:57.715-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:57.715-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:57.715-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:57.715-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:57.715-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:57.715-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:57.715-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:54:57.715-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:57.715-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:57.715-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:57.715-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:57.715-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:57.716-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:54:57.716-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:54:57.716-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:54:57.716-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:54:57.716-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:54:57.716-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:54:57.716-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:54:57.716-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:54:57.716-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:54:57.717-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:54:57.717-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:54:57.717-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:54:57.717-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:54:57.725-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:54:57.725-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:54:57.725-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:54:57.725-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:54:57.725-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:54:57.725-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:54:57.725-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:54:57.725-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:54:57.725-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:54:57.725-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:54:57.725-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@80faff
2025-12-23T17:54:57.726-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:54:57.726-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:54:57.726-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:54:57.726-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:57.727-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:57.749-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:54:57.750-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:54:57.751-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:57.752-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:54:59.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:59.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:59.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:59.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:59.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:59.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:59.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:59.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:59.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:59.706-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&titulo=DOm
2025-12-23T17:54:59.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:59.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:59.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:59.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:59.706-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:59.707-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:59.710-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:54:59.710-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:54:59.710-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:54:59.710-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:54:59.710-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:54:59.710-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:54:59.710-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:54:59.710-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:54:59.710-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:54:59.710-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&titulo=DOm
2025-12-23T17:54:59.710-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:54:59.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:54:59.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:54:59.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:54:59.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:54:59.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:54:59.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:54:59.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:54:59.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:54:59.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:54:59.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:54:59.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:54:59.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:54:59.711-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:54:59.712-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:54:59.712-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:54:59.712-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:54:59.712-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:54:59.718-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:54:59.718-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:54:59.718-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:54:59.718-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:54:59.719-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:54:59.719-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:54:59.719-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:54:59.719-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:54:59.719-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&titulo=DOm
2025-12-23T17:54:59.719-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&titulo=DOm using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:54:59.719-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@2f8d170
2025-12-23T17:54:59.719-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&titulo=DOm
2025-12-23T17:54:59.719-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&titulo=DOm", parameters={masked}
2025-12-23T17:54:59.720-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:54:59.720-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:59.721-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:54:59.732-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:54:59.732-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:54:59.732-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:54:59.734-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:55:01.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:55:01.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:55:01.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:55:01.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:55:01.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:55:01.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:55:01.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:55:01.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:55:01.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:55:01.919-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:55:01.919-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:55:01.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:55:01.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:55:01.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:55:01.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:55:01.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:55:01.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:55:01.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:55:01.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:55:01.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:55:01.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:55:01.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:55:01.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:55:01.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:55:01.920-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:55:01.922-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:55:01.922-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:55:01.922-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:55:01.927-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:55:01.928-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:55:01.928-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:55:01.928-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:55:01.928-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:55:01.928-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:55:01.928-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:55:01.928-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:55:01.928-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:55:01.928-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:55:01.928-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5daa573a
2025-12-23T17:55:01.928-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:55:01.928-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:55:01.928-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:55:01.929-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:55:01.929-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:55:01.959-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:55:01.959-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:55:01.960-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:55:01.961-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:55:43.318-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:55:43.318-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:55:43.318-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:55:43.318-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:55:43.318-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:55:43.318-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:55:43.318-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:55:43.318-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:55:43.318-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:55:43.318-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10&genero=ROMANCE
2025-12-23T17:55:43.318-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:55:43.318-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:55:43.318-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:55:43.318-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:55:43.318-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:55:43.319-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:55:43.322-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:55:43.322-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:55:43.322-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:55:43.322-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:55:43.323-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10&genero=ROMANCE
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:55:43.323-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:55:43.324-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:55:43.324-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:55:43.324-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:55:43.325-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:55:43.325-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:55:43.333-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:55:43.334-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:55:43.334-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:55:43.334-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:55:43.334-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:55:43.334-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:55:43.334-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:55:43.334-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:55:43.334-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10&genero=ROMANCE
2025-12-23T17:55:43.335-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10&genero=ROMANCE using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:55:43.335-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@67d4810c
2025-12-23T17:55:43.335-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10&genero=ROMANCE
2025-12-23T17:55:43.335-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10&genero=ROMANCE", parameters={masked}
2025-12-23T17:55:43.335-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:55:43.336-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:55:43.336-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:55:43.352-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:55:43.353-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:55:43.355-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:55:43.356-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T17:55:53.338-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:55:53.338-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:55:53.338-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:55:53.338-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:55:53.338-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:55:53.338-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:55:53.338-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:55:53.339-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:55:53.339-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:55:53.339-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T17:55:53.339-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:55:53.339-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:55:53.339-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:55:53.339-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:55:53.339-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:55:53.339-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:55:53.342-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T17:55:53.342-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T17:55:53.342-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T17:55:53.342-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T17:55:53.342-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T17:55:53.342-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T17:55:53.342-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T17:55:53.342-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T17:55:53.343-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T17:55:53.343-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T17:55:53.343-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T17:55:53.343-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T17:55:53.343-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T17:55:53.343-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T17:55:53.343-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T17:55:53.343-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T17:55:53.343-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T17:55:53.343-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T17:55:53.343-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T17:55:53.343-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T17:55:53.343-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T17:55:53.343-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T17:55:53.343-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T17:55:53.343-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T17:55:53.344-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T17:55:53.344-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T17:55:53.344-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a6b4be0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T17:55:53.344-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T17:55:53.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T17:55:53.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T17:55:53.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T17:55:53.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T17:55:53.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T17:55:53.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T17:55:53.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T17:55:53.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T17:55:53.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T17:55:53.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T17:55:53.353-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@349be081
2025-12-23T17:55:53.354-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T17:55:53.354-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T17:55:53.354-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T17:55:53.354-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:55:53.355-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T17:55:53.375-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T17:55:53.375-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T17:55:53.375-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T17:55:53.376-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T18:14:48.459-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:14:48.459-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:14:48.459-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:14:48.459-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:14:48.459-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:14:48.459-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:14:48.459-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:14:48.459-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T18:14:48.459-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T18:14:48.459-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /logout
2025-12-23T18:14:48.459-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:14:48.459-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:14:48.460-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:14:48.460-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:14:48.460-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:14:48.460-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:14:48.460-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T18:14:48.460-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:14:48.460-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:14:48.460-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-12-23T18:14:48.461-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/
2025-12-23T18:14:48.461-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:14:48.785-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:14:48.786-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:14:48.786-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:14:48.786-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:14:48.786-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:14:48.786-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:14:48.786-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:14:48.786-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T18:14:48.787-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T18:14:48.787-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T18:14:48.787-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:14:48.787-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:14:48.787-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:14:48.788-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:14:48.788-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:14:48.789-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:14:48.789-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:14:48.789-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:14:48.789-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:14:48.789-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:14:48.790-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:14:48.790-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:14:48.790-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:14:48.790-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T18:14:48.790-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:14:48.790-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T18:14:48.790-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:14:48.790-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:14:48.791-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:14:48.791-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T18:14:48.791-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:14:48.791-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:14:48.791-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:14:48.791-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:14:48.792-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:14:48.792-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:14:48.792-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T18:14:48.792-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6960b6df
2025-12-23T18:14:48.793-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T18:14:48.794-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T18:14:48.799-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@1ba00c0c, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@1ba00c0c, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@1ba00c0c, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-12-23T18:14:48.800-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@1ba00c0c, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T18:14:48.800-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@46791608
2025-12-23T18:14:48.801-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T18:14:48.801-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:14:48.871-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:14:48.871-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:14:48.871-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:14:48.871-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:14:48.872-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:14:48.872-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:14:48.872-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:14:48.872-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000218a6b19950@323a47fe, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@71e45ed5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e7b5cec, org.springframework.security.web.context.SecurityContextHolderFilter@605610e5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@38691f8d, org.springframework.security.web.header.HeaderWriterFilter@68628510, org.springframework.web.filter.CorsFilter@1ab18ee4, org.springframework.security.web.csrf.CsrfFilter@2bf83b29, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7b4185ea, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@524ba12b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@218289de, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@51bab787, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@9a3d0f4, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5bbda8aa, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7e93497d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@228ed68c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33742179, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1fb8fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f774d60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c107d47, org.springframework.security.web.access.ExceptionTranslationFilter@60e2b6e3, org.springframework.security.web.access.intercept.AuthorizationFilter@54353bb1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@52f9a620, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2bfe9344, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@283c6f00, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3ef85262]] (8/9)
2025-12-23T18:14:48.872-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f5190e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb933dc, org.springframework.security.web.context.SecurityContextHolderFilter@6d8dc329, org.springframework.security.web.header.HeaderWriterFilter@6f64c40c, org.springframework.web.filter.CorsFilter@7de956e1, org.springframework.security.web.authentication.logout.LogoutFilter@a9b5c85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2cde0397, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2114955c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@fcecc45, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@446b74b9, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a4f3df4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d1bb9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39c437e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32dcf65e, org.springframework.security.web.access.ExceptionTranslationFilter@297840d7, org.springframework.security.web.access.intercept.AuthorizationFilter@d594a5a]] (9/9)
2025-12-23T18:14:48.873-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T18:14:48.873-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:14:48.873-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:14:48.874-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:14:48.874-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:14:48.874-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:14:48.875-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:14:48.875-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:14:48.875-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:14:48.875-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:14:48.875-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:14:48.875-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:14:48.875-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:14:48.876-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:14:48.876-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T18:14:48.876-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:14:48.876-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T18:14:48.876-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:14:48.876-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:14:48.876-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:14:48.876-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T18:14:48.876-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:14:48.876-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:14:48.876-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:14:48.876-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:14:48.876-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:14:48.876-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:14:48.877-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T18:14:48.877-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000218a6b19f88@5b555f63
2025-12-23T18:14:48.877-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T18:14:48.878-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T18:14:48.878-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T18:14:48.899-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [application/json, text/plain, */*]
2025-12-23T18:14:48.901-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:14:48.903-03:00 DEBUG 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T18:14:48.903-03:00 TRACE 25860 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T18:15:40.858-03:00  INFO 25572 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 25572 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-23T18:15:40.859-03:00 DEBUG 25572 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-23T18:15:40.860-03:00  INFO 25572 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-23T18:15:46.351-03:00 DEBUG 25572 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-23T18:15:46.351-03:00 DEBUG 25572 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-23T18:15:46.877-03:00  WARN 25572 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23T18:15:46.913-03:00 TRACE 25572 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@512319dc, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@70376c6}
2025-12-23T18:15:46.916-03:00  INFO 25572 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-23T18:15:47.122-03:00 DEBUG 25572 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-23T18:15:47.145-03:00 DEBUG 25572 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-23T18:15:47.310-03:00 DEBUG 25572 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-23T18:15:48.931-03:00 DEBUG 25572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000023281b1a818@66e74d3 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-23T18:15:49.023-03:00 DEBUG 25572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-23T18:15:49.038-03:00  WARN 25572 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T18:15:49.038-03:00 DEBUG 25572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-23T18:15:49.039-03:00  WARN 25572 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T18:15:49.039-03:00 DEBUG 25572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-23T18:15:49.039-03:00  WARN 25572 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T18:15:49.039-03:00 DEBUG 25572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-23T18:15:49.039-03:00  WARN 25572 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T18:15:49.039-03:00 DEBUG 25572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-23T18:15:49.039-03:00  WARN 25572 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T18:15:49.039-03:00 DEBUG 25572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-23T18:15:49.039-03:00  WARN 25572 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T18:15:49.039-03:00 DEBUG 25572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-23T18:15:49.039-03:00  WARN 25572 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T18:15:49.040-03:00 DEBUG 25572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-23T18:15:49.206-03:00 DEBUG 25572 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-23T18:15:49.267-03:00 DEBUG 25572 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-23T18:15:50.046-03:00 DEBUG 25572 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-23T18:15:50.047-03:00 DEBUG 25572 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-23T18:15:50.053-03:00 DEBUG 25572 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-23T18:15:50.063-03:00 DEBUG 25572 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-23T18:15:50.085-03:00  INFO 25572 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 9.743 seconds (process running for 10.717)
2025-12-23T18:15:50.504-03:00  INFO 25572 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-23T18:15:50.504-03:00 DEBUG 25572 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-23T18:15:50.504-03:00 DEBUG 25572 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-23T18:15:50.504-03:00 DEBUG 25572 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-23T18:15:50.507-03:00 DEBUG 25572 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2dad6fc9
2025-12-23T18:15:50.508-03:00 DEBUG 25572 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4b0a6c53
2025-12-23T18:15:50.509-03:00 DEBUG 25572 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-23T18:15:50.509-03:00  INFO 25572 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-12-23T18:15:53.551-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:15:53.552-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:15:53.552-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:15:53.553-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:15:53.553-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:15:53.553-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:15:53.553-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:15:53.553-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000023281b1a818@66e74d3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4da88428, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@50405a3b, org.springframework.security.web.context.SecurityContextHolderFilter@12039ae0, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7b4185ea, org.springframework.security.web.header.HeaderWriterFilter@3fc261b7, org.springframework.web.filter.CorsFilter@56ef8cda, org.springframework.security.web.csrf.CsrfFilter@6434d49e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@4cf5db07, org.springframework.security.web.authentication.logout.LogoutFilter@1dc26de5, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@687313e1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@5af535ff, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@5d7807b0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@54ff871a, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2a6600ab, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@563f53d8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@79a7f553, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@70a9f6c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@25a2702c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a842e8a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6201876e, org.springframework.security.web.access.ExceptionTranslationFilter@2495a351, org.springframework.security.web.access.intercept.AuthorizationFilter@333ab718, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@1baf1268, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@d05d8c3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@192800d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1380a19b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@9a3d0f4]] (8/9)
2025-12-23T18:15:53.554-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6b81c6c2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39c2d80b, org.springframework.security.web.context.SecurityContextHolderFilter@530dd2d7, org.springframework.security.web.header.HeaderWriterFilter@3a9d6f5d, org.springframework.web.filter.CorsFilter@13611ab5, org.springframework.security.web.authentication.logout.LogoutFilter@f1a5005, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@34ef9879, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@f25176a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@23001753, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6a4f3df4, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@d88d9d7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7511e348, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e6f3ad5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46e05384, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d35c540, org.springframework.security.web.access.ExceptionTranslationFilter@257ba195, org.springframework.security.web.access.intercept.AuthorizationFilter@36dd68f1]] (9/9)
2025-12-23T18:15:53.554-03:00 DEBUG 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T18:15:53.558-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:15:53.567-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:15:53.573-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:15:53.577-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:15:53.579-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:15:53.605-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:15:53.606-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:15:53.606-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:15:53.607-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:15:53.607-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:15:53.607-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:15:53.607-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:15:53.607-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:15:53.608-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T18:15:53.608-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:15:53.609-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T18:15:53.609-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:15:53.609-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:15:53.609-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:15:53.609-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T18:15:53.609-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:15:53.611-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:15:53.611-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:15:53.614-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:15:53.615-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:15:53.616-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:15:53.617-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T18:15:53.618-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023281b1ae50@4d193d25
2025-12-23T18:15:53.622-03:00 DEBUG 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T18:15:53.624-03:00 DEBUG 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T18:15:53.626-03:00 DEBUG 25572 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T18:15:53.651-03:00 DEBUG 25572 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController]
2025-12-23T18:15:53.665-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T18:15:53.670-03:00 DEBUG 25572 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity teste.estudos.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,teste.estudos.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [teste.estudos.libraryapi.controller.LivroController] with authorization manager org.springframework.security.authorization.ObservationAuthorizationManager@306e2f3f and decision ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('OPERADOR', 'GERENTE')]
2025-12-23T18:15:53.672-03:00 DEBUG 25572 --- [libraryapi] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler teste.estudos.libraryapi.controller.common.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-12-23T18:15:53.682-03:00 DEBUG 25572 --- [libraryapi] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T18:15:53.685-03:00 DEBUG 25572 --- [libraryapi] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ErroResposta[status=403, mensagem=Acesso negado., erros=[]]]
2025-12-23T18:15:53.696-03:00 TRACE 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:15:53.698-03:00 DEBUG 25572 --- [libraryapi] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-23T18:15:53.699-03:00 DEBUG 25572 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
2025-12-23T18:16:28.980-03:00  INFO 6064 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 6064 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-23T18:16:28.982-03:00 DEBUG 6064 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-23T18:16:28.983-03:00  INFO 6064 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-23T18:16:33.899-03:00 DEBUG 6064 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-23T18:16:33.899-03:00 DEBUG 6064 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-23T18:16:34.379-03:00  WARN 6064 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23T18:16:34.415-03:00 TRACE 6064 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@22b00077, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@6f54d397}
2025-12-23T18:16:34.419-03:00  INFO 6064 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-23T18:16:34.619-03:00 DEBUG 6064 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-23T18:16:34.643-03:00 DEBUG 6064 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-23T18:16:34.796-03:00 DEBUG 6064 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-23T18:16:36.155-03:00 DEBUG 6064 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-23T18:16:36.249-03:00 DEBUG 6064 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-23T18:16:36.263-03:00  WARN 6064 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T18:16:36.264-03:00 DEBUG 6064 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-23T18:16:36.264-03:00  WARN 6064 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T18:16:36.264-03:00 DEBUG 6064 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-23T18:16:36.264-03:00  WARN 6064 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T18:16:36.264-03:00 DEBUG 6064 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-23T18:16:36.264-03:00  WARN 6064 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T18:16:36.264-03:00 DEBUG 6064 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-23T18:16:36.264-03:00  WARN 6064 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T18:16:36.265-03:00 DEBUG 6064 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-23T18:16:36.265-03:00  WARN 6064 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T18:16:36.265-03:00 DEBUG 6064 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-23T18:16:36.265-03:00  WARN 6064 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-23T18:16:36.265-03:00 DEBUG 6064 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-23T18:16:36.441-03:00 DEBUG 6064 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-23T18:16:36.497-03:00 DEBUG 6064 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-23T18:16:37.282-03:00 DEBUG 6064 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-23T18:16:37.283-03:00 DEBUG 6064 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-23T18:16:37.289-03:00 DEBUG 6064 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-23T18:16:37.299-03:00 DEBUG 6064 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-23T18:16:37.320-03:00  INFO 6064 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 8.836 seconds (process running for 9.643)
2025-12-23T18:16:37.767-03:00  INFO 6064 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-23T18:16:37.768-03:00 DEBUG 6064 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-23T18:16:37.768-03:00 DEBUG 6064 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-23T18:16:37.768-03:00 DEBUG 6064 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-23T18:16:37.771-03:00 DEBUG 6064 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6895b608
2025-12-23T18:16:37.772-03:00 DEBUG 6064 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1cbb6037
2025-12-23T18:16:37.773-03:00 DEBUG 6064 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-23T18:16:37.774-03:00  INFO 6064 --- [libraryapi] [RMI TCP Connection(3)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-12-23T18:16:50.293-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:16:50.295-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:16:50.296-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:16:50.296-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:16:50.297-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:16:50.297-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:16:50.297-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:16:50.297-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:16:50.298-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:16:50.300-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T18:16:50.305-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:16:50.313-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:16:50.317-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:16:50.321-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:16:50.326-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:16:50.356-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:16:50.356-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:16:50.356-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:16:50.357-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:16:50.357-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:16:50.357-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:16:50.358-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:16:50.358-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:16:50.361-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T18:16:50.361-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:16:50.361-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T18:16:50.362-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:16:50.362-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:16:50.362-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:16:50.362-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T18:16:50.362-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:16:50.364-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:16:50.364-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:16:50.368-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:16:50.369-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:16:50.370-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:16:50.374-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T18:16:50.376-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000027d02b14768@7e6c97f5
2025-12-23T18:16:50.382-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T18:16:50.385-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T18:16:50.387-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T18:16:50.644-03:00  WARN 6064 --- [libraryapi] [http-nio-8080-exec-1] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-12-23T18:16:50.648-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T18:16:50.649-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T18:16:50.669-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:16:50.672-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T18:16:50.674-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T18:36:47.721-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:36:47.722-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:36:47.723-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:36:47.724-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:36:47.725-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:36:47.726-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:36:47.727-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:36:47.728-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:36:47.729-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:36:47.741-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T18:36:47.741-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:36:47.742-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:36:47.743-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:36:47.744-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:36:47.745-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:36:47.748-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:36:47.749-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:36:47.749-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:36:47.750-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:36:47.750-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:36:47.751-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:36:47.752-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:36:47.752-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:36:47.753-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T18:36:47.755-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:36:47.756-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T18:36:47.757-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:36:47.758-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:36:47.759-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:36:47.760-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T18:36:47.760-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:36:47.761-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:36:47.762-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:36:47.762-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:36:47.763-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:36:47.764-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:36:47.765-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T18:36:47.766-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000027d02b14768@7e6c97f5
2025-12-23T18:36:47.768-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T18:36:47.770-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T18:36:47.771-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T18:36:47.837-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T18:36:47.838-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T18:36:47.840-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:36:47.843-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T18:36:47.844-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T18:37:23.072-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:37:23.073-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:37:23.075-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:37:23.077-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:37:23.079-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:37:23.080-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:37:23.081-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:37:23.083-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:37:23.085-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:37:23.085-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T18:37:23.085-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:37:23.086-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:37:23.087-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:37:23.088-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:37:23.088-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:37:23.090-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:37:23.091-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:37:23.092-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:37:23.093-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:37:23.094-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:37:23.095-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:37:23.096-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:37:23.097-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:37:23.098-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T18:37:23.099-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:37:23.099-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T18:37:23.100-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:37:23.101-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:37:23.101-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:37:23.102-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T18:37:23.103-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:37:23.108-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:37:23.113-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:37:23.114-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:37:23.115-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:37:23.116-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:37:23.117-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T18:37:23.121-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000027d02b14768@7e6c97f5
2025-12-23T18:37:23.124-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T18:37:23.125-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T18:37:23.126-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T18:37:23.202-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T18:37:23.203-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T18:37:23.205-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:37:23.207-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T18:37:23.208-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T18:37:24.029-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:37:24.046-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:37:24.048-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:37:24.050-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:37:24.053-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:37:24.055-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:37:24.056-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:37:24.062-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:37:24.062-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:37:24.063-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T18:37:24.063-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:37:24.066-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:37:24.066-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:37:24.067-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:37:24.068-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:37:24.071-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:37:24.072-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:37:24.073-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:37:24.076-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:37:24.079-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:37:24.082-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:37:24.082-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:37:24.083-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:37:24.084-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T18:37:24.085-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:37:24.086-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T18:37:24.087-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:37:24.088-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:37:24.088-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:37:24.089-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T18:37:24.089-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:37:24.091-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:37:24.092-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:37:24.093-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:37:24.094-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:37:24.096-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:37:24.097-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T18:37:24.098-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000027d02b14768@7e6c97f5
2025-12-23T18:37:24.099-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T18:37:24.100-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T18:37:24.101-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T18:37:24.174-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T18:37:24.175-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T18:37:24.179-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:37:24.184-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T18:37:24.184-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T18:40:09.236-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:40:09.238-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:40:09.238-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:40:09.239-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:40:09.239-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:40:09.240-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:40:09.240-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:40:09.240-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:40:09.240-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:40:09.241-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T18:40:09.241-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:40:09.241-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:40:09.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:40:09.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:40:09.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:40:09.243-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:40:09.243-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:40:09.244-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:40:09.244-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:40:09.244-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:40:09.245-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:40:09.245-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:40:09.245-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:40:09.246-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T18:40:09.246-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:40:09.246-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T18:40:09.246-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:40:09.246-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:40:09.246-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:40:09.247-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T18:40:09.247-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:40:09.250-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:40:09.251-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:40:09.252-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:40:09.253-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:40:09.254-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:40:09.254-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T18:40:09.254-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000027d02b14768@7e6c97f5
2025-12-23T18:40:09.255-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T18:40:09.255-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T18:40:09.256-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T18:40:09.309-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T18:40:09.311-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T18:40:09.312-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:40:09.314-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T18:40:09.315-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T18:40:28.246-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:40:28.247-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:40:28.248-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:40:28.248-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:40:28.248-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:40:28.248-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:40:28.248-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:40:28.249-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:40:28.249-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:40:28.250-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T18:40:28.250-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:40:28.251-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:40:28.251-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:40:28.252-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:40:28.253-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:40:28.255-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:40:28.256-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:40:28.257-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:40:28.257-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:40:28.257-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:40:28.257-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:40:28.258-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:40:28.258-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:40:28.259-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T18:40:28.260-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:40:28.260-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T18:40:28.260-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:40:28.260-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:40:28.260-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:40:28.261-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T18:40:28.261-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:40:28.261-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:40:28.261-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:40:28.262-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:40:28.262-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:40:28.262-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:40:28.262-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T18:40:28.263-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000027d02b14768@7e6c97f5
2025-12-23T18:40:28.264-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T18:40:28.264-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T18:40:28.266-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T18:40:28.315-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T18:40:28.316-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T18:40:28.317-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:40:28.319-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T18:40:28.320-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T18:40:34.428-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:40:34.428-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:40:34.430-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:40:34.430-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:40:34.430-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:40:34.430-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:40:34.430-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:40:34.430-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:40:34.431-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:40:34.431-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T18:40:34.431-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:40:34.432-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:40:34.432-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:40:34.433-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:40:34.433-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:40:34.435-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:40:34.435-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:40:34.435-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:40:34.435-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:40:34.435-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:40:34.436-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:40:34.436-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:40:34.436-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:40:34.436-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T18:40:34.436-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:40:34.436-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T18:40:34.436-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:40:34.437-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:40:34.437-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:40:34.437-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T18:40:34.437-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:40:34.437-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:40:34.437-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:40:34.438-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:40:34.438-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:40:34.438-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:40:34.438-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T18:40:34.438-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000027d02b14768@7e6c97f5
2025-12-23T18:40:34.439-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T18:40:34.440-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T18:40:34.440-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T18:40:34.485-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T18:40:34.485-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T18:40:34.487-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:40:34.489-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T18:40:34.490-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T18:40:44.442-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:40:44.442-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:40:44.442-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:40:44.442-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:40:44.442-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:40:44.442-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:40:44.442-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:40:44.443-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:40:44.443-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:40:44.443-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T18:40:44.444-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:40:44.444-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:40:44.444-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:40:44.444-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:40:44.444-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:40:44.445-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:40:44.446-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:40:44.446-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:40:44.446-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:40:44.447-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:40:44.459-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:40:44.461-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:40:44.461-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:40:44.462-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T18:40:44.463-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:40:44.463-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T18:40:44.463-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:40:44.463-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:40:44.463-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:40:44.464-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T18:40:44.464-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:40:44.464-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:40:44.464-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:40:44.464-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:40:44.464-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:40:44.465-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:40:44.466-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T18:40:44.466-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000027d02b14768@7e6c97f5
2025-12-23T18:40:44.468-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T18:40:44.469-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T18:40:44.470-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T18:40:44.540-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T18:40:44.541-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T18:40:44.544-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:40:44.551-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T18:40:44.552-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T18:44:02.159-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:44:02.160-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:44:02.160-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:44:02.160-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:44:02.160-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:44:02.160-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:44:02.160-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:44:02.160-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:44:02.160-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=6grdaaLJQEsNOH2Ew-aFiDWOkcfhSYMg56ZzmtNx7VY&code_challenge_method=S256
2025-12-23T18:44:02.160-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T18:44:02.160-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T18:44:02.160-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T18:44:02.160-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T18:44:02.161-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T18:44:02.162-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T18:44:02.162-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T18:44:02.165-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@78ae9b9c]]]
2025-12-23T18:44:02.165-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T18:44:02.165-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T18:44:02.165-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T18:44:02.165-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T18:44:02.166-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T18:44:02.169-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-23T18:44:02.169-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:44:02.169-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:44:02.171-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-23T18:44:02.239-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-23T18:44:02.240-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-23T18:44:02.241-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-12-23T18:44:02.241-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (12/27)
2025-12-23T18:44:02.241-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (13/27)
2025-12-23T18:44:02.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (14/27)
2025-12-23T18:44:02.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (15/27)
2025-12-23T18:44:02.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (16/27)
2025-12-23T18:44:02.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:44:02.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (17/27)
2025-12-23T18:44:02.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T18:44:02.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (18/27)
2025-12-23T18:44:02.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:44:02.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (19/27)
2025-12-23T18:44:02.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (20/27)
2025-12-23T18:44:02.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (21/27)
2025-12-23T18:44:02.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (22/27)
2025-12-23T18:44:02.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=6grdaaLJQEsNOH2Ew-aFiDWOkcfhSYMg56ZzmtNx7VY&code_challenge_method=S256
2025-12-23T18:44:02.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=6grdaaLJQEsNOH2Ew-aFiDWOkcfhSYMg56ZzmtNx7VY&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3abfa12b
2025-12-23T18:44:02.242-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T18:44:02.246-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-23T18:44:02.273-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=6grdaaLJQEsNOH2Ew-aFiDWOkcfhSYMg56ZzmtNx7VY&code_challenge_method=S256&continue to session
2025-12-23T18:44:02.273-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-12-23T18:44:02.276-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@78ae9b9c, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@7fd8f21, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@7fd8f21, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@7fd8f21, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-23T18:44:02.277-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@7fd8f21, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-23T18:44:02.277-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@428943a4
2025-12-23T18:44:02.278-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-23T18:44:02.278-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:44:02.283-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:44:02.283-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:44:02.283-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:44:02.283-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:44:02.283-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:44:02.283-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:44:02.283-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:44:02.283-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:44:02.284-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:44:02.284-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-23T18:44:02.284-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:44:02.284-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:44:02.284-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:44:02.284-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:44:02.284-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:44:02.284-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:44:02.284-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:44:02.284-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:44:02.284-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:44:02.284-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession ABB37E2B374C5298EF6075A569E233AD using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-23T18:44:02.285-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000027d02b14768@7e6c97f5
2025-12-23T18:44:02.285-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-23T18:44:02.286-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-23T18:44:02.286-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-23T18:44:02.302-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-12-23T18:44:02.574-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:44:02.575-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T18:44:02.575-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ABB37E2B374C5298EF6075A569E233AD], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-23T18:44:02.629-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:44:02.629-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:44:02.630-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:44:02.630-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:44:02.630-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:44:02.630-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:44:02.630-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:44:02.630-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:44:02.631-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:44:02.631-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T18:44:02.631-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:44:02.632-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:44:02.632-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:44:02.632-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:44:02.633-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:44:02.633-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:44:02.633-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:44:02.633-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:44:02.633-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:44:02.633-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:44:02.633-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:44:02.633-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:44:02.633-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:44:02.634-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T18:44:02.634-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:44:02.634-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession ABB37E2B374C5298EF6075A569E233AD using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T18:44:02.634-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:44:02.634-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:44:02.634-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:44:02.635-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'gerente' in Basic Authorization header
2025-12-23T18:44:02.636-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-23T18:44:02.746-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@67302078
2025-12-23T18:44:02.746-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:44:02.746-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:44:02.747-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:44:02.747-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:44:02.747-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:44:02.747-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:44:02.747-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T18:44:02.747-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4ae54adb
2025-12-23T18:44:02.748-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@67302078
2025-12-23T18:44:02.749-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-23T18:44:02.749-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-23T18:44:02.751-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-23T18:44:02.756-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-12-23T18:44:02.762-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:44:02.762-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-12-23T18:44:02.763-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-23T18:44:02.777-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:44:02.777-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:44:02.777-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:44:02.777-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:44:02.777-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:44:02.777-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:44:02.777-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:44:02.777-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:44:02.777-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:44:02.778-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-23T18:44:02.778-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:44:02.778-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:44:02.778-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:44:02.778-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:44:02.778-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:44:02.779-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:44:02.779-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:44:02.779-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:44:02.779-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:44:02.779-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:44:02.779-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:44:02.779-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:44:02.779-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:44:02.780-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:44:02.780-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:44:02.780-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:44:02.780-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:44:02.780-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:44:02.780-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:44:02.780-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:44:02.780-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:44:02.780-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-23T18:44:02.781-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4ae54adb
2025-12-23T18:44:02.781-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession ABB37E2B374C5298EF6075A569E233AD using the SPRING_SECURITY_CONTEXT session attribute
2025-12-23T18:44:02.781-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-23T18:44:02.781-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@67302078
2025-12-23T18:44:02.781-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-23T18:44:02.782-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-23T18:44:02.783-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-23T18:44:02.787-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-23T18:44:02.788-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Dec 23 18:44:02 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-23T18:44:02.795-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-23T18:44:09.464-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:44:09.464-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:44:09.464-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:44:09.465-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:44:09.465-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:44:09.465-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:44:09.465-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:44:09.465-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:44:09.465-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:44:09.465-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-23T18:44:09.466-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:44:09.466-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:44:09.466-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:44:09.466-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:44:09.466-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:44:09.466-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:44:09.466-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:44:09.466-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:44:09.466-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:44:09.466-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:44:09.466-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:44:09.467-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-23T18:44:09.548-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-23T18:44:09.548-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from ABB37E2B374C5298EF6075A569E233AD
2025-12-23T18:44:09.549-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@147c628b] to HttpSession [org.apache.catalina.session.StandardSessionFacade@364aeca8]
2025-12-23T18:44:09.549-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@147c628b
2025-12-23T18:44:09.549-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=6grdaaLJQEsNOH2Ew-aFiDWOkcfhSYMg56ZzmtNx7VY&code_challenge_method=S256&continue
2025-12-23T18:44:09.549-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:44:09.555-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:44:09.555-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:44:09.555-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:44:09.555-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:44:09.555-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:44:09.555-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:44:09.555-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:44:09.555-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:44:09.555-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=6grdaaLJQEsNOH2Ew-aFiDWOkcfhSYMg56ZzmtNx7VY&code_challenge_method=S256&continue
2025-12-23T18:44:09.555-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T18:44:09.556-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T18:44:09.556-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T18:44:09.556-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T18:44:09.556-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T18:44:09.556-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T18:44:09.556-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T18:44:09.556-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@78ae9b9c]]]
2025-12-23T18:44:09.556-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T18:44:09.556-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T18:44:09.556-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T18:44:09.556-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T18:44:09.556-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T18:44:09.557-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@147c628b] from SPRING_SECURITY_CONTEXT
2025-12-23T18:44:09.557-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-23T18:44:09.561-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-23T18:44:09.562-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-23T18:44:09.569-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-12-23T18:44:09.570-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Saved authorization
2025-12-23T18:44:09.570-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-12-23T18:44:09.571-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.core.session.SessionRegistryImpl   : Registering session B591FBE30DC3C37FC121CE78D23156A5, for principal Usuario(id=ef8a0519-3f66-453f-9542-4a97a91a0363, login=gerente, senha=$2a$10$6YtOpXqcRgzC3arsw7emo.Sd.ZikCSk5BHpGAtGt1B.yv5M3bRYXO, email=gerente@universidade.br, roles=[GERENTE], telefone=null)
2025-12-23T18:44:09.572-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.core.session.SessionRegistryImpl   : Sessions used by 'Usuario(id=ef8a0519-3f66-453f-9542-4a97a91a0363, login=gerente, senha=$2a$10$6YtOpXqcRgzC3arsw7emo.Sd.ZikCSk5BHpGAtGt1B.yv5M3bRYXO, email=gerente@universidade.br, roles=[GERENTE], telefone=null)' : [B591FBE30DC3C37FC121CE78D23156A5]
2025-12-23T18:44:09.572-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/authorized?code=V-5C7ll5qORwO-cF59yCqIjfL1GIKYFpOXgEToMcAiHIndo2hGm_PkiMdJZhJf3cWWmTNnH0dtR7aPkYw8ifdLLo18VbxL9ZlBjffT9ULXmcOU5jUdjpgbBxwIJRrnvG
2025-12-23T18:44:09.573-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:44:09.835-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:44:09.836-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:44:09.836-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:44:09.836-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:44:09.836-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:44:09.836-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:44:09.836-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:44:09.836-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:44:09.837-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-12-23T18:44:09.837-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/27)
2025-12-23T18:44:09.838-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/27)
2025-12-23T18:44:09.838-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/27)
2025-12-23T18:44:09.838-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/27)
2025-12-23T18:44:09.839-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/27)
2025-12-23T18:44:09.839-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (6/27)
2025-12-23T18:44:09.840-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (7/27)
2025-12-23T18:44:09.840-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@78ae9b9c]]]
2025-12-23T18:44:09.840-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (8/27)
2025-12-23T18:44:09.840-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (9/27)
2025-12-23T18:44:09.840-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-23T18:44:09.840-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (10/27)
2025-12-23T18:44:09.840-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (11/27)
2025-12-23T18:44:09.840-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (12/27)
2025-12-23T18:44:09.840-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (13/27)
2025-12-23T18:44:09.840-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (14/27)
2025-12-23T18:44:09.840-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (15/27)
2025-12-23T18:44:09.846-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-12-23T18:44:09.847-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-12-23T18:44:09.847-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-12-23T18:44:09.847-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with PublicClientAuthenticationProvider (4/20)
2025-12-23T18:44:09.859-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.PublicClientAuthenticationProvider : Retrieved registered client
2025-12-23T18:44:09.860-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.PublicClientAuthenticationProvider : Validated client authentication parameters
2025-12-23T18:44:09.860-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-12-23T18:44:09.860-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Validated code verifier parameters
2025-12-23T18:44:09.861-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Authenticated code verifier
2025-12-23T18:44:09.861-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.PublicClientAuthenticationProvider : Authenticated public client
2025-12-23T18:44:09.862-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-12-23T18:44:09.863-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (16/27)
2025-12-23T18:44:09.863-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:44:09.863-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (17/27)
2025-12-23T18:44:09.863-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-23T18:44:09.863-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (18/27)
2025-12-23T18:44:09.863-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:44:09.863-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (19/27)
2025-12-23T18:44:09.863-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (20/27)
2025-12-23T18:44:09.864-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (21/27)
2025-12-23T18:44:09.864-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (22/27)
2025-12-23T18:44:09.864-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-12-23T18:44:09.865-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3abfa12b
2025-12-23T18:44:09.865-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=client-frontend, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-12-23T18:44:09.865-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (23/27)
2025-12-23T18:44:09.868-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-12-23T18:44:09.873-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-12-23T18:44:09.873-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-12-23T18:44:09.874-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-12-23T18:44:10.085-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-12-23T18:44:10.108-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Generated id token
2025-12-23T18:44:10.112-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-12-23T18:44:10.112-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-12-23T18:44:10.117-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:44:10.189-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:44:10.189-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:44:10.189-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:44:10.189-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:44:10.189-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:44:10.189-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:44:10.189-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:44:10.189-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:44:10.189-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:44:10.189-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T18:44:10.189-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:44:10.190-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:44:10.190-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:44:10.190-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:44:10.190-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:44:10.191-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:44:10.198-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:44:10.198-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:44:10.198-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:44:10.198-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:44:10.198-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:44:10.198-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:44:10.198-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:44:10.198-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:44:10.199-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:44:10.199-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T18:44:10.199-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:44:10.199-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:44:10.199-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:44:10.199-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:44:10.199-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:44:10.200-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:44:10.200-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:44:10.200-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:44:10.200-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:44:10.200-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:44:10.200-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:44:10.200-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:44:10.200-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:44:10.202-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T18:44:10.219-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T18:44:10.219-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T18:44:10.220-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e118dda7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T18:44:10.220-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:44:10.225-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:44:10.226-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T18:44:10.226-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:44:10.226-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:44:10.226-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:44:10.226-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:44:10.226-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:44:10.226-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:44:10.226-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T18:44:10.226-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000027d02b14768@7e6c97f5
2025-12-23T18:44:10.227-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T18:44:10.227-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T18:44:10.227-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T18:44:10.245-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T18:44:10.246-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T18:44:10.246-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:44:10.247-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T18:44:10.247-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@1fae5130
2025-12-23T18:44:15.731-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:44:15.731-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:44:15.732-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:44:15.732-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:44:15.732-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:44:15.732-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:44:15.732-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:44:15.732-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:44:15.732-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:44:15.732-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /livros?page=0&size=10
2025-12-23T18:44:15.732-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:44:15.733-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:44:15.733-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:44:15.733-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:44:15.733-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:44:15.734-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:44:15.747-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-23T18:44:15.748-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-23T18:44:15.748-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-23T18:44:15.748-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-23T18:44:15.748-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-23T18:44:15.748-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-23T18:44:15.748-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-23T18:44:15.748-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027d02b14130@7b7695f, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d3e416a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c38689, org.springframework.security.web.context.SecurityContextHolderFilter@4f1fb8fc, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@9c7699e, org.springframework.security.web.header.HeaderWriterFilter@3ffa3cdb, org.springframework.web.filter.CorsFilter@6186fa19, org.springframework.security.web.csrf.CsrfFilter@584f12eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@65cd37bb, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71d3776, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@54b1ba04, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7451338e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@a929b6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@379cfc77, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@45488836, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2da16d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30e3544d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bfadc5, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7241872c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@63100783, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2b009051, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@15c46930, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f3ba597, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@60af08b2]] (8/9)
2025-12-23T18:44:15.749-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7e359189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360aa708, org.springframework.security.web.context.SecurityContextHolderFilter@735ed1d2, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.web.filter.CorsFilter@600ad5e2, org.springframework.security.web.authentication.logout.LogoutFilter@5f8a0d7f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2114955c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@41d0b71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26df4e2f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@33b3e47, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@223e51e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d594a5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8c897e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ef9879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce79da3, org.springframework.security.web.access.ExceptionTranslationFilter@39c437e9, org.springframework.security.web.access.intercept.AuthorizationFilter@78edbe01]] (9/9)
2025-12-23T18:44:15.749-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /livros?page=0&size=10
2025-12-23T18:44:15.749-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/17)
2025-12-23T18:44:15.749-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/17)
2025-12-23T18:44:15.750-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/17)
2025-12-23T18:44:15.750-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/17)
2025-12-23T18:44:15.750-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/17)
2025-12-23T18:44:15.751-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/17)
2025-12-23T18:44:15.751-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-23T18:44:15.751-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2025-12-23T18:44:15.752-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (8/17)
2025-12-23T18:44:15.752-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-23T18:44:15.752-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (9/17)
2025-12-23T18:44:15.752-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-23T18:44:15.752-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (10/17)
2025-12-23T18:44:15.753-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-23T18:44:15.755-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-23T18:44:15.755-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-23T18:44:15.757-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e118dda7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[openid, profile]]
2025-12-23T18:44:15.757-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (11/17)
2025-12-23T18:44:15.771-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (12/17)
2025-12-23T18:44:15.772-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-23T18:44:15.772-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (13/17)
2025-12-23T18:44:15.772-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-23T18:44:15.772-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (14/17)
2025-12-23T18:44:15.772-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (15/17)
2025-12-23T18:44:15.772-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (16/17)
2025-12-23T18:44:15.773-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (17/17)
2025-12-23T18:44:15.773-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?page=0&size=10
2025-12-23T18:44:15.774-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?page=0&size=10 using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000027d02b14768@7e6c97f5
2025-12-23T18:44:15.776-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /livros?page=0&size=10
2025-12-23T18:44:15.776-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/livros?page=0&size=10", parameters={masked}
2025-12-23T18:44:15.777-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-12-23T18:44:15.830-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-23T18:44:15.830-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing teste.estudos.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instances]
2025-12-23T18:44:15.835-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-23T18:44:15.838-03:00 DEBUG 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-23T18:44:15.839-03:00 TRACE 6064 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@575c6ccb
