2025-12-22T15:01:11.765-03:00  INFO 28944 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 28944 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-22T15:01:11.784-03:00 DEBUG 28944 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-22T15:01:11.787-03:00  INFO 28944 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-22T15:01:19.968-03:00 DEBUG 28944 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-22T15:01:19.970-03:00 DEBUG 28944 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-22T15:01:20.694-03:00  WARN 28944 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-22T15:01:20.737-03:00 TRACE 28944 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@6fa98e98, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@c521a79}
2025-12-22T15:01:20.740-03:00  INFO 28944 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-22T15:01:21.009-03:00 DEBUG 28944 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-22T15:01:21.035-03:00 DEBUG 28944 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T15:01:21.086-03:00 DEBUG 28944 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T15:01:22.579-03:00 DEBUG 28944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022204aee9e0@3c79071e with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-22T15:01:22.711-03:00 DEBUG 28944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-22T15:01:22.728-03:00  WARN 28944 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:01:22.728-03:00 DEBUG 28944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-22T15:01:22.729-03:00  WARN 28944 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:01:22.729-03:00 DEBUG 28944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-22T15:01:22.729-03:00  WARN 28944 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:01:22.729-03:00 DEBUG 28944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-22T15:01:22.729-03:00  WARN 28944 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:01:22.729-03:00 DEBUG 28944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-22T15:01:22.729-03:00  WARN 28944 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:01:22.729-03:00 DEBUG 28944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-22T15:01:22.729-03:00  WARN 28944 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:01:22.729-03:00 DEBUG 28944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-22T15:01:22.729-03:00  WARN 28944 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:01:22.730-03:00 DEBUG 28944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-22T15:01:22.861-03:00 DEBUG 28944 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T15:01:22.956-03:00 DEBUG 28944 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-22T15:01:24.535-03:00 DEBUG 28944 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-22T15:01:24.539-03:00 DEBUG 28944 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T15:01:24.544-03:00 DEBUG 28944 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T15:01:24.557-03:00 DEBUG 28944 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T15:01:24.581-03:00  INFO 28944 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 14.087 seconds (process running for 15.889)
2025-12-22T15:01:25.046-03:00  INFO 28944 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-22T15:01:25.047-03:00 DEBUG 28944 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-22T15:01:25.047-03:00 DEBUG 28944 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-22T15:01:25.047-03:00 DEBUG 28944 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-22T15:01:25.050-03:00 DEBUG 28944 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@12aa9370
2025-12-22T15:01:25.051-03:00 DEBUG 28944 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7ee45cbe
2025-12-22T15:01:25.051-03:00 DEBUG 28944 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-22T15:01:25.052-03:00  INFO 28944 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-12-22T15:02:28.758-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:02:28.760-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:02:28.760-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:02:28.760-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:02:28.760-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:02:28.761-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:02:28.761-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:02:28.761-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022204aee9e0@3c79071e, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2c90b32f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46edcf69, org.springframework.security.web.context.SecurityContextHolderFilter@41d1bcbd, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1b3606e8, org.springframework.security.web.header.HeaderWriterFilter@53a65166, org.springframework.security.web.csrf.CsrfFilter@64001530, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@6a51a39d, org.springframework.security.web.authentication.logout.LogoutFilter@6011176f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4998944b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@340d50c8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1bb1c6dd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28897ca, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@618b147b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3c73d613, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41737438, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@249c96cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24a696c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59da32ad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aa30dfb, org.springframework.security.web.access.ExceptionTranslationFilter@239fdf8f, org.springframework.security.web.access.intercept.AuthorizationFilter@5b95a754, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7b159d1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2523730b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@5858054c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@7b2fb8f1]] (8/9)
2025-12-22T15:02:28.762-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-id&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-12-22T15:02:28.765-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T15:02:28.770-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T15:02:28.773-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T15:02:28.776-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T15:02:28.782-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T15:02:28.785-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T15:02:28.788-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022204aee9e0@3c79071e, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@1ee2e363]]]
2025-12-22T15:02:28.789-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T15:02:28.789-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T15:02:28.789-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T15:02:28.789-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T15:02:28.789-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T15:02:28.793-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T15:02:28.793-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:02:28.793-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:02:28.796-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T15:02:29.003-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T15:02:29.005-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-22T15:02:29.006-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-12-22T15:02:29.009-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-12-22T15:02:29.010-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-12-22T15:02:29.010-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-12-22T15:02:29.010-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-12-22T15:02:29.010-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-12-22T15:02:29.010-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:02:29.011-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-12-22T15:02:29.011-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:02:29.011-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-12-22T15:02:29.012-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:02:29.012-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-12-22T15:02:29.015-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-12-22T15:02:29.016-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-12-22T15:02:29.017-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-12-22T15:02:29.020-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=client-id&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-12-22T15:02:29.020-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=client-id&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@36c22752
2025-12-22T15:02:29.021-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:02:29.027-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:02:29.064-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-id&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-12-22T15:02:29.065-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-12-22T15:02:29.068-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@1ee2e363, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@7eba962d, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@7eba962d, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@7eba962d, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-22T15:02:29.069-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@7eba962d, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T15:02:29.070-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@67a6f2c4
2025-12-22T15:02:29.071-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T15:02:29.072-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:02:29.091-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:02:29.093-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:02:29.093-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:02:29.093-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:02:29.093-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:02:29.093-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:02:29.093-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:02:29.094-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022204aee9e0@3c79071e, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2c90b32f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46edcf69, org.springframework.security.web.context.SecurityContextHolderFilter@41d1bcbd, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1b3606e8, org.springframework.security.web.header.HeaderWriterFilter@53a65166, org.springframework.security.web.csrf.CsrfFilter@64001530, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@6a51a39d, org.springframework.security.web.authentication.logout.LogoutFilter@6011176f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4998944b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@340d50c8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1bb1c6dd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28897ca, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@618b147b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3c73d613, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41737438, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@249c96cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24a696c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59da32ad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aa30dfb, org.springframework.security.web.access.ExceptionTranslationFilter@239fdf8f, org.springframework.security.web.access.intercept.AuthorizationFilter@5b95a754, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7b159d1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2523730b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@5858054c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@7b2fb8f1]] (8/9)
2025-12-22T15:02:29.095-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@300c7e00, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59e7073e, org.springframework.security.web.context.SecurityContextHolderFilter@1a48e48e, org.springframework.security.web.header.HeaderWriterFilter@23faae85, org.springframework.security.web.authentication.logout.LogoutFilter@631ff7a2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@12f52ca4, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@750afe12, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@13ea9afc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5af535ff, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@d6d88b1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3077e4aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cea6297, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@91e76b6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@15444af9, org.springframework.security.web.access.ExceptionTranslationFilter@815e8e3, org.springframework.security.web.access.intercept.AuthorizationFilter@49d26eba]] (9/9)
2025-12-22T15:02:29.095-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T15:02:29.095-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:02:29.095-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:02:29.095-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:02:29.095-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:02:29.096-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:02:29.096-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:02:29.096-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:02:29.096-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:02:29.096-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:02:29.096-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:02:29.096-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:02:29.096-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:02:29.096-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:02:29.096-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:02:29.096-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 0254EBECA2B68FA50D1DBC2DA245AB66 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:02:29.096-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:02:29.096-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:02:29.097-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:02:29.097-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:02:29.097-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:02:29.097-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:02:29.097-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:02:29.097-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:02:29.097-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:02:29.097-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:02:29.097-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T15:02:29.098-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000022204aef018@7771b7fa
2025-12-22T15:02:29.101-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T15:02:29.103-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T15:02:29.105-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T15:02:29.492-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:02:29.495-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T15:02:29.495-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0254EBECA2B68FA50D1DBC2DA245AB66], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:02:38.136-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:02:38.137-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:02:38.137-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:02:38.137-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:02:38.137-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:02:38.137-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:02:38.137-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:02:38.137-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022204aee9e0@3c79071e, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2c90b32f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46edcf69, org.springframework.security.web.context.SecurityContextHolderFilter@41d1bcbd, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1b3606e8, org.springframework.security.web.header.HeaderWriterFilter@53a65166, org.springframework.security.web.csrf.CsrfFilter@64001530, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@6a51a39d, org.springframework.security.web.authentication.logout.LogoutFilter@6011176f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4998944b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@340d50c8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1bb1c6dd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28897ca, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@618b147b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3c73d613, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41737438, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@249c96cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24a696c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59da32ad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aa30dfb, org.springframework.security.web.access.ExceptionTranslationFilter@239fdf8f, org.springframework.security.web.access.intercept.AuthorizationFilter@5b95a754, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7b159d1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2523730b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@5858054c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@7b2fb8f1]] (8/9)
2025-12-22T15:02:38.137-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@300c7e00, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59e7073e, org.springframework.security.web.context.SecurityContextHolderFilter@1a48e48e, org.springframework.security.web.header.HeaderWriterFilter@23faae85, org.springframework.security.web.authentication.logout.LogoutFilter@631ff7a2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@12f52ca4, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@750afe12, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@13ea9afc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5af535ff, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@d6d88b1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3077e4aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cea6297, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@91e76b6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@15444af9, org.springframework.security.web.access.ExceptionTranslationFilter@815e8e3, org.springframework.security.web.access.intercept.AuthorizationFilter@49d26eba]] (9/9)
2025-12-22T15:02:38.137-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-22T15:02:38.137-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:02:38.138-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:02:38.138-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:02:38.138-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:02:38.138-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:02:38.138-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:02:38.138-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:02:38.138-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:02:38.138-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:02:38.139-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:02:38.139-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T15:02:38.270-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Failed to process authentication request

org.springframework.security.core.userdetails.UsernameNotFoundException: Usurio e/ou senha incorretos!
	at teste.estudos.libraryapi.security.CustomAuthenticationProvider.authenticate(CustomAuthenticationProvider.java:41) ~[classes/:na]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:231) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:02:38.271-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Cleared SecurityContextHolder
2025-12-22T15:02:38.271-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Handling authentication failure
2025-12-22T15:02:38.271-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error
2025-12-22T15:02:38.271-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:02:51.886-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:02:51.887-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:02:51.887-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:02:51.888-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:02:51.888-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:02:51.888-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:02:51.888-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:02:51.888-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022204aee9e0@3c79071e, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2c90b32f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46edcf69, org.springframework.security.web.context.SecurityContextHolderFilter@41d1bcbd, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1b3606e8, org.springframework.security.web.header.HeaderWriterFilter@53a65166, org.springframework.security.web.csrf.CsrfFilter@64001530, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@6a51a39d, org.springframework.security.web.authentication.logout.LogoutFilter@6011176f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4998944b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@340d50c8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1bb1c6dd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28897ca, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@618b147b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3c73d613, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41737438, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@249c96cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24a696c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59da32ad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aa30dfb, org.springframework.security.web.access.ExceptionTranslationFilter@239fdf8f, org.springframework.security.web.access.intercept.AuthorizationFilter@5b95a754, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7b159d1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2523730b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@5858054c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@7b2fb8f1]] (8/9)
2025-12-22T15:02:51.889-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-id&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-12-22T15:02:51.889-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T15:02:51.890-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T15:02:51.891-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T15:02:51.891-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T15:02:51.892-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T15:02:51.892-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T15:02:51.892-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022204aee9e0@3c79071e, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@1ee2e363]]]
2025-12-22T15:02:51.892-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T15:02:51.892-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T15:02:51.892-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T15:02:51.892-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T15:02:51.892-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T15:02:51.893-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 0254EBECA2B68FA50D1DBC2DA245AB66 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:02:51.893-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:02:51.893-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:02:51.894-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T15:02:51.907-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T15:02:51.907-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-22T15:02:51.908-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-12-22T15:02:51.908-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-12-22T15:02:51.909-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-12-22T15:02:51.909-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-12-22T15:02:51.910-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-12-22T15:02:51.910-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-12-22T15:02:51.911-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:02:51.911-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-12-22T15:02:51.911-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:02:51.911-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-12-22T15:02:51.912-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:02:51.912-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-12-22T15:02:51.912-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-12-22T15:02:51.912-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-12-22T15:02:51.912-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-12-22T15:02:51.913-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=client-id&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-12-22T15:02:51.913-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=client-id&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@36c22752
2025-12-22T15:02:51.913-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0254EBECA2B68FA50D1DBC2DA245AB66], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:02:51.914-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0254EBECA2B68FA50D1DBC2DA245AB66], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:02:51.919-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-id&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-12-22T15:02:51.919-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-12-22T15:02:51.920-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@1ee2e363, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@7eba962d, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@7eba962d, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@7eba962d, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-22T15:02:51.920-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@7eba962d, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T15:02:51.920-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@67a6f2c4
2025-12-22T15:02:51.920-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T15:02:51.920-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:02:51.932-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:02:51.932-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:02:51.933-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:02:51.933-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:02:51.933-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:02:51.934-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:02:51.934-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:02:51.934-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022204aee9e0@3c79071e, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2c90b32f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46edcf69, org.springframework.security.web.context.SecurityContextHolderFilter@41d1bcbd, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1b3606e8, org.springframework.security.web.header.HeaderWriterFilter@53a65166, org.springframework.security.web.csrf.CsrfFilter@64001530, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@6a51a39d, org.springframework.security.web.authentication.logout.LogoutFilter@6011176f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4998944b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@340d50c8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1bb1c6dd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28897ca, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@618b147b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3c73d613, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41737438, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@249c96cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24a696c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59da32ad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aa30dfb, org.springframework.security.web.access.ExceptionTranslationFilter@239fdf8f, org.springframework.security.web.access.intercept.AuthorizationFilter@5b95a754, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7b159d1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2523730b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@5858054c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@7b2fb8f1]] (8/9)
2025-12-22T15:02:51.934-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@300c7e00, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59e7073e, org.springframework.security.web.context.SecurityContextHolderFilter@1a48e48e, org.springframework.security.web.header.HeaderWriterFilter@23faae85, org.springframework.security.web.authentication.logout.LogoutFilter@631ff7a2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@12f52ca4, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@750afe12, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@13ea9afc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5af535ff, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@d6d88b1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3077e4aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cea6297, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@91e76b6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@15444af9, org.springframework.security.web.access.ExceptionTranslationFilter@815e8e3, org.springframework.security.web.access.intercept.AuthorizationFilter@49d26eba]] (9/9)
2025-12-22T15:02:51.934-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T15:02:51.934-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:02:51.935-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:02:51.935-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:02:51.936-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:02:51.936-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:02:51.936-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:02:51.936-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:02:51.936-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:02:51.936-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:02:51.936-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:02:51.936-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:02:51.937-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:02:51.937-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:02:51.937-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:02:51.937-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 0254EBECA2B68FA50D1DBC2DA245AB66 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:02:51.938-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:02:51.938-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:02:51.938-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:02:51.939-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:02:51.939-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:02:51.939-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:02:51.939-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:02:51.939-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:02:51.940-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:02:51.940-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:02:51.941-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T15:02:51.941-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000022204aef018@7771b7fa
2025-12-22T15:02:51.942-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T15:02:51.943-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T15:02:51.943-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T15:02:51.945-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:02:51.947-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T15:02:51.947-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0254EBECA2B68FA50D1DBC2DA245AB66], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:02:57.843-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:02:57.844-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:02:57.844-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:02:57.844-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:02:57.844-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:02:57.844-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:02:57.844-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:02:57.844-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022204aee9e0@3c79071e, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2c90b32f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46edcf69, org.springframework.security.web.context.SecurityContextHolderFilter@41d1bcbd, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1b3606e8, org.springframework.security.web.header.HeaderWriterFilter@53a65166, org.springframework.security.web.csrf.CsrfFilter@64001530, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@6a51a39d, org.springframework.security.web.authentication.logout.LogoutFilter@6011176f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4998944b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@340d50c8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1bb1c6dd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28897ca, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@618b147b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3c73d613, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41737438, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@249c96cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24a696c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59da32ad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aa30dfb, org.springframework.security.web.access.ExceptionTranslationFilter@239fdf8f, org.springframework.security.web.access.intercept.AuthorizationFilter@5b95a754, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7b159d1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2523730b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@5858054c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@7b2fb8f1]] (8/9)
2025-12-22T15:02:57.844-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@300c7e00, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59e7073e, org.springframework.security.web.context.SecurityContextHolderFilter@1a48e48e, org.springframework.security.web.header.HeaderWriterFilter@23faae85, org.springframework.security.web.authentication.logout.LogoutFilter@631ff7a2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@12f52ca4, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@750afe12, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@13ea9afc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5af535ff, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@d6d88b1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3077e4aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cea6297, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@91e76b6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@15444af9, org.springframework.security.web.access.ExceptionTranslationFilter@815e8e3, org.springframework.security.web.access.intercept.AuthorizationFilter@49d26eba]] (9/9)
2025-12-22T15:02:57.844-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-22T15:02:57.844-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:02:57.844-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:02:57.844-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:02:57.844-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:02:57.844-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:02:57.844-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:02:57.845-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:02:57.845-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:02:57.845-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:02:57.845-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:02:57.845-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T15:02:57.936-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-22T15:02:57.936-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0254EBECA2B68FA50D1DBC2DA245AB66
2025-12-22T15:02:57.937-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@228eabf6] to HttpSession [org.apache.catalina.session.StandardSessionFacade@59eb465d]
2025-12-22T15:02:57.937-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@228eabf6
2025-12-22T15:02:57.938-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-id&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-12-22T15:02:57.938-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:02:57.999-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:02:57.999-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:02:57.999-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:02:58.000-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:02:58.000-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:02:58.000-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:02:58.000-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:02:58.000-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022204aee9e0@3c79071e, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2c90b32f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46edcf69, org.springframework.security.web.context.SecurityContextHolderFilter@41d1bcbd, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1b3606e8, org.springframework.security.web.header.HeaderWriterFilter@53a65166, org.springframework.security.web.csrf.CsrfFilter@64001530, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@6a51a39d, org.springframework.security.web.authentication.logout.LogoutFilter@6011176f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4998944b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@340d50c8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1bb1c6dd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28897ca, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@618b147b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3c73d613, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41737438, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@249c96cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24a696c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59da32ad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aa30dfb, org.springframework.security.web.access.ExceptionTranslationFilter@239fdf8f, org.springframework.security.web.access.intercept.AuthorizationFilter@5b95a754, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7b159d1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2523730b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@5858054c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@7b2fb8f1]] (8/9)
2025-12-22T15:02:58.000-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-id&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-12-22T15:02:58.000-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T15:02:58.000-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T15:02:58.000-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T15:02:58.000-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T15:02:58.001-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T15:02:58.001-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T15:02:58.001-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022204aee9e0@3c79071e, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@1ee2e363]]]
2025-12-22T15:02:58.001-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T15:02:58.001-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T15:02:58.001-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T15:02:58.001-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T15:02:58.001-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T15:02:58.002-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@228eabf6] from SPRING_SECURITY_CONTEXT
2025-12-22T15:02:58.002-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T15:02:58.008-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T15:02:58.008-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-22T15:02:58.016-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-12-22T15:02:58.017-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Saved authorization
2025-12-22T15:02:58.017-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-12-22T15:02:58.018-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=ya5DfxhvrAvJG3yM7LWVfvuk5uL2qZou_vfpnZTvkBE3WfaW6rjAKXYk3-rE6ebe0td468h89KGDgeJz0UoK7xsitBokpaQvk0fiZsnq9UfIGqIiVfbgjnEHx9pd8Z15
2025-12-22T15:02:58.018-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:02:58.515-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:02:58.515-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:02:58.515-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:02:58.515-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:02:58.515-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:02:58.515-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:02:58.515-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:02:58.515-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022204aee9e0@3c79071e, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2c90b32f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46edcf69, org.springframework.security.web.context.SecurityContextHolderFilter@41d1bcbd, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1b3606e8, org.springframework.security.web.header.HeaderWriterFilter@53a65166, org.springframework.security.web.csrf.CsrfFilter@64001530, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@6a51a39d, org.springframework.security.web.authentication.logout.LogoutFilter@6011176f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4998944b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@340d50c8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1bb1c6dd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@28897ca, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@618b147b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3c73d613, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41737438, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@249c96cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24a696c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59da32ad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aa30dfb, org.springframework.security.web.access.ExceptionTranslationFilter@239fdf8f, org.springframework.security.web.access.intercept.AuthorizationFilter@5b95a754, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7b159d1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2523730b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@5858054c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@7b2fb8f1]] (8/9)
2025-12-22T15:02:58.515-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-12-22T15:02:58.516-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T15:02:58.516-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T15:02:58.516-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T15:02:58.516-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T15:02:58.516-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T15:02:58.516-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T15:02:58.516-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022204aee9e0@3c79071e, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@1ee2e363]]]
2025-12-22T15:02:58.516-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T15:02:58.516-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T15:02:58.517-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T15:02:58.517-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T15:02:58.517-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T15:02:58.517-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-12-22T15:02:58.517-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-12-22T15:02:58.517-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-12-22T15:02:58.517-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-12-22T15:02:58.519-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-12-22T15:02:58.519-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-12-22T15:02:58.519-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-12-22T15:02:58.526-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-12-22T15:02:58.593-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-12-22T15:02:58.593-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-12-22T15:02:58.593-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Did not authenticate code verifier since requireProofKey=false
2025-12-22T15:02:58.593-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-12-22T15:02:58.593-03:00 DEBUG 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-12-22T15:02:58.593-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-12-22T15:02:58.593-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:02:58.593-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-12-22T15:02:58.594-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:02:58.594-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-12-22T15:02:58.594-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:02:58.594-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-12-22T15:02:58.594-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-12-22T15:02:58.594-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-12-22T15:02:58.594-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-12-22T15:02:58.594-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-12-22T15:02:58.594-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@36c22752
2025-12-22T15:02:58.594-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=client-id, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-12-22T15:02:58.594-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (22/26)
2025-12-22T15:02:58.596-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-12-22T15:02:58.597-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-12-22T15:02:58.597-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-12-22T15:02:58.597-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-12-22T15:02:58.741-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-12-22T15:02:58.743-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] 2AuthorizationCodeAuthenticationProvider : Generated refresh token
2025-12-22T15:02:58.743-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-12-22T15:02:58.743-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-12-22T15:02:58.774-03:00 TRACE 28944 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:27:34.681-03:00  INFO 7548 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 7548 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-22T15:27:34.683-03:00 DEBUG 7548 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-22T15:27:34.684-03:00  INFO 7548 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-22T15:27:41.736-03:00 DEBUG 7548 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-22T15:27:41.737-03:00 DEBUG 7548 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-22T15:27:42.282-03:00  WARN 7548 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-22T15:27:42.320-03:00 TRACE 7548 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@1b61a646, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@7b88dd58}
2025-12-22T15:27:42.323-03:00  INFO 7548 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-22T15:27:42.518-03:00 DEBUG 7548 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-22T15:27:42.548-03:00 DEBUG 7548 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T15:27:42.619-03:00 DEBUG 7548 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T15:27:43.938-03:00 DEBUG 7548 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-22T15:27:44.055-03:00 DEBUG 7548 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-22T15:27:44.075-03:00  WARN 7548 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:27:44.076-03:00 DEBUG 7548 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-22T15:27:44.076-03:00  WARN 7548 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:27:44.076-03:00 DEBUG 7548 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-22T15:27:44.076-03:00  WARN 7548 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:27:44.076-03:00 DEBUG 7548 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-22T15:27:44.076-03:00  WARN 7548 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:27:44.076-03:00 DEBUG 7548 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-22T15:27:44.077-03:00  WARN 7548 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:27:44.077-03:00 DEBUG 7548 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-22T15:27:44.077-03:00  WARN 7548 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:27:44.077-03:00 DEBUG 7548 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-22T15:27:44.077-03:00  WARN 7548 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:27:44.077-03:00 DEBUG 7548 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-22T15:27:44.198-03:00 DEBUG 7548 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T15:27:44.267-03:00 DEBUG 7548 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-22T15:27:45.422-03:00 DEBUG 7548 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-22T15:27:45.424-03:00 DEBUG 7548 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T15:27:45.430-03:00 DEBUG 7548 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T15:27:45.440-03:00 DEBUG 7548 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T15:27:45.463-03:00  INFO 7548 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 11.652 seconds (process running for 12.507)
2025-12-22T15:27:45.862-03:00  INFO 7548 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-22T15:27:45.863-03:00 DEBUG 7548 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-22T15:27:45.863-03:00 DEBUG 7548 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-22T15:27:45.863-03:00 DEBUG 7548 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-22T15:27:45.867-03:00 DEBUG 7548 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2295535f
2025-12-22T15:27:45.868-03:00 DEBUG 7548 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@c92d694
2025-12-22T15:27:45.869-03:00 DEBUG 7548 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-22T15:27:45.869-03:00  INFO 7548 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-12-22T15:35:33.668-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:35:33.692-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:35:33.692-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:35:33.693-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:35:33.693-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:35:33.693-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:35:33.693-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:35:33.693-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:35:33.694-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=cliente-frontend&scope=openid%20profile&redirect_uri=http://localhost:3000/authorized&code_challenge=QYPAZ5NU8yvtlQ9erY0JnaFPZryRh9jvVbsvkMdx5bo&code_challenge_method=S256
2025-12-22T15:35:33.697-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T15:35:33.722-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T15:35:33.724-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T15:35:33.726-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T15:35:33.760-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T15:35:33.761-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T15:35:33.763-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@f2bec99]]]
2025-12-22T15:35:33.763-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T15:35:33.763-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T15:35:33.763-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T15:35:33.763-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T15:35:33.763-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T15:35:33.766-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T15:35:33.766-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:35:33.767-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:35:33.770-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T15:35:34.101-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2025-12-22T15:35:34.105-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.a.w.OAuth2AuthorizationEndpointFilter : Authorization request failed: [invalid_request] OAuth 2.0 Parameter: client_id

org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException: OAuth 2.0 Parameter: client_id
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.throwError(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:407) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.throwError(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:384) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.throwError(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:377) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:122) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:35:34.112-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:35:34.126-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:35:34.127-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:35:34.127-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:35:34.127-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:35:34.127-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:35:34.127-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:35:34.127-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:35:34.127-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:35:34.128-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:35:34.128-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=cliente-frontend&scope=openid%20profile&redirect_uri=http://localhost:3000/authorized&code_challenge=QYPAZ5NU8yvtlQ9erY0JnaFPZryRh9jvVbsvkMdx5bo&code_challenge_method=S256
2025-12-22T15:35:34.128-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:35:34.128-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:35:34.128-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:35:34.129-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:35:34.129-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:35:34.130-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:35:34.130-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:35:34.130-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:35:34.130-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:35:34.130-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:35:34.131-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:35:34.131-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:35:34.132-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:35:34.132-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:35:34.132-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:35:34.132-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:35:34.132-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:35:34.134-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:35:34.135-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:35:34.135-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:35:34.149-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=cliente-frontend&scope=openid%20profile&redirect_uri=http://localhost:3000/authorized&code_challenge=QYPAZ5NU8yvtlQ9erY0JnaFPZryRh9jvVbsvkMdx5bo&code_challenge_method=S256
2025-12-22T15:35:34.150-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=cliente-frontend&scope=openid%20profile&redirect_uri=http://localhost:3000/authorized&code_challenge=QYPAZ5NU8yvtlQ9erY0JnaFPZryRh9jvVbsvkMdx5bo&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:35:34.150-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T15:35:34.150-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:35:34.150-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:35:34.151-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:35:34.156-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:35:34.253-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?response_type=code&client_id=cliente-frontend&scope=openid%20profile&redirect_uri=http://localhost:3000/authorized&code_challenge=QYPAZ5NU8yvtlQ9erY0JnaFPZryRh9jvVbsvkMdx5bo&code_challenge_method=S256&continue to session
2025-12-22T15:35:34.256-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T15:35:34.256-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4b6cb083
2025-12-22T15:35:34.257-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login;jsessionid=F6A33E4727074B1FF19072D594FB0D28
2025-12-22T15:35:34.281-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] s.s.w.f.HttpStatusRequestRejectedHandler : Rejecting request due to: The request was rejected because the URL contained a potentially malicious String ";"

org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String ";"
	at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:539) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:509) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:35:34.284-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:35:34.285-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:35:34.285-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:35:34.285-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:35:34.285-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:35:34.285-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:35:34.285-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:35:34.286-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:35:34.287-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:35:34.287-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-22T15:35:34.287-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:35:34.288-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:35:34.288-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:35:34.288-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:35:34.288-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:35:34.290-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:35:34.290-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:35:34.290-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:35:34.291-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:35:34.291-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:35:34.292-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:35:34.292-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:35:34.293-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:35:34.293-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:35:34.293-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:35:34.293-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:35:34.293-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:35:34.293-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:35:34.293-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:35:34.294-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:35:34.294-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-22T15:35:34.294-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:35:34.294-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:35:34.294-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:35:34.294-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:35:34.294-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:35:34.295-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:35:34.298-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-12-22T15:35:34.298-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T15:35:34.299-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4b6cb083
2025-12-22T15:35:34.299-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T15:35:34.314-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:35:34.315-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:35:34.315-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:35:34.316-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:35:34.316-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:35:34.316-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:35:34.316-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:35:34.316-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:35:34.317-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:35:34.318-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T15:35:34.319-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:35:34.320-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:35:34.320-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:35:34.321-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:35:34.321-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:35:34.321-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:35:34.321-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:35:34.321-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:35:34.321-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:35:34.321-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:35:34.321-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:35:34.321-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:35:34.322-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:35:34.322-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:35:34.322-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:35:34.322-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:35:34.322-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:35:34.322-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:35:34.323-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:35:34.323-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:35:34.323-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:35:34.323-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:35:34.323-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:35:34.323-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:35:34.324-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:35:34.324-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T15:35:34.324-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000025701ad36c0@453158bf
2025-12-22T15:35:34.327-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T15:35:34.331-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T15:35:34.334-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T15:35:35.014-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:35:35.042-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T15:35:35.042-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:35:35.334-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:35:35.334-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:35:35.334-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:35:35.334-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:35:35.334-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:35:35.335-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:35:35.335-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:35:35.335-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:35:35.335-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:35:35.335-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-12-22T15:35:35.335-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:35:35.335-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:35:35.336-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:35:35.336-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:35:35.336-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:35:35.336-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:35:35.336-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:35:35.336-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:35:35.336-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:35:35.336-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:35:35.336-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:35:35.336-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:35:35.336-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:35:35.336-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:35:35.336-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:35:35.337-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:35:35.337-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:35:35.337-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:35:35.337-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:35:35.337-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:35:35.337-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:35:35.337-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:35:35.337-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:35:35.337-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:35:35.338-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:35:35.338-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /favicon.ico
2025-12-22T15:35:35.338-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /favicon.ico using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:35:35.338-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:35:35.338-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:35:35.342-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-12-22T15:35:35.342-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T15:35:35.342-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4b6cb083
2025-12-22T15:35:35.342-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T15:35:35.342-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:35:35.346-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:35:35.346-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:35:35.346-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:35:35.346-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:35:35.346-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:35:35.346-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:35:35.346-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:35:35.347-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:35:35.347-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:35:35.347-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T15:35:35.347-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:35:35.347-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:35:35.347-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:35:35.348-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:35:35.348-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:35:35.348-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:35:35.348-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:35:35.348-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:35:35.348-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:35:35.348-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:35:35.348-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:35:35.348-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:35:35.348-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:35:35.348-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:35:35.348-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:35:35.348-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:35:35.348-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:35:35.348-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:35:35.350-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:35:35.350-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:35:35.350-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:35:35.350-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:35:35.350-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:35:35.350-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:35:35.350-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:35:35.350-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T15:35:35.350-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000025701ad36c0@453158bf
2025-12-22T15:35:35.350-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T15:35:35.350-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T15:35:35.351-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T15:35:35.352-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:35:35.353-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T15:35:35.353-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:42:16.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:42:16.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:42:16.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:42:16.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:42:16.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:42:16.394-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:42:16.394-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:42:16.394-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:42:16.394-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=cliente-frontend&scope=openid%20profile&redirect_uri=http://localhost:3000/authorized&code_challenge=QYPAZ5NU8yvtlQ9erY0JnaFPZryRh9jvVbsvkMdx5bo&code_challenge_method=S256
2025-12-22T15:42:16.394-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T15:42:16.394-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T15:42:16.395-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T15:42:16.395-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T15:42:16.395-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T15:42:16.395-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T15:42:16.395-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@f2bec99]]]
2025-12-22T15:42:16.395-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T15:42:16.395-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T15:42:16.395-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T15:42:16.395-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T15:42:16.395-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T15:42:16.396-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:42:16.396-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:42:16.396-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:42:16.396-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T15:42:16.405-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-8] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2025-12-22T15:42:16.405-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] .s.a.w.OAuth2AuthorizationEndpointFilter : Authorization request failed: [invalid_request] OAuth 2.0 Parameter: client_id

org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException: OAuth 2.0 Parameter: client_id
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.throwError(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:407) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.throwError(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:384) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.throwError(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:377) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:122) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:42:16.406-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:42:16.407-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:42:16.408-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:42:16.408-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:42:16.408-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:42:16.408-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:42:16.408-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:42:16.408-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:42:16.408-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:42:16.408-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:42:16.409-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=cliente-frontend&scope=openid%20profile&redirect_uri=http://localhost:3000/authorized&code_challenge=QYPAZ5NU8yvtlQ9erY0JnaFPZryRh9jvVbsvkMdx5bo&code_challenge_method=S256
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:42:16.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:42:16.410-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:42:16.410-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:42:16.410-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:42:16.410-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=cliente-frontend&scope=openid%20profile&redirect_uri=http://localhost:3000/authorized&code_challenge=QYPAZ5NU8yvtlQ9erY0JnaFPZryRh9jvVbsvkMdx5bo&code_challenge_method=S256
2025-12-22T15:42:16.410-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=cliente-frontend&scope=openid%20profile&redirect_uri=http://localhost:3000/authorized&code_challenge=QYPAZ5NU8yvtlQ9erY0JnaFPZryRh9jvVbsvkMdx5bo&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:42:16.410-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:42:16.410-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:42:16.410-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:42:16.410-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:42:16.410-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:42:16.412-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?response_type=code&client_id=cliente-frontend&scope=openid%20profile&redirect_uri=http://localhost:3000/authorized&code_challenge=QYPAZ5NU8yvtlQ9erY0JnaFPZryRh9jvVbsvkMdx5bo&code_challenge_method=S256&continue to session
2025-12-22T15:42:16.413-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T15:42:16.413-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4b6cb083
2025-12-22T15:42:16.413-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T15:42:16.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:42:16.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:42:16.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:42:16.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:42:16.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:42:16.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:42:16.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:42:16.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:42:16.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:42:16.422-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T15:42:16.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:42:16.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:42:16.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:42:16.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:42:16.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:42:16.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:42:16.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:42:16.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:42:16.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:42:16.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:42:16.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:42:16.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:42:16.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:42:16.423-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:42:16.423-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:42:16.423-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:42:16.423-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:42:16.423-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:42:16.423-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:42:16.423-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:42:16.423-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:42:16.423-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:42:16.423-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:42:16.423-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:42:16.423-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:42:16.423-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T15:42:16.424-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000025701ad36c0@453158bf
2025-12-22T15:42:16.424-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T15:42:16.424-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T15:42:16.424-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T15:42:16.426-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:42:16.426-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T15:42:16.426-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:42:16.494-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:42:16.494-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:42:16.494-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:42:16.494-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:42:16.494-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:42:16.494-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:42:16.494-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:42:16.495-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:42:16.495-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:42:16.496-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-12-22T15:42:16.496-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:42:16.496-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:42:16.496-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:42:16.496-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:42:16.496-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:42:16.497-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:42:16.498-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /favicon.ico
2025-12-22T15:42:16.498-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /favicon.ico using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:42:16.498-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:42:16.498-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:42:16.501-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-12-22T15:42:16.501-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T15:42:16.501-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4b6cb083
2025-12-22T15:42:16.502-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T15:42:16.502-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:42:16.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:42:16.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:42:16.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:42:16.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:42:16.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:42:16.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:42:16.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:42:16.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:42:16.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:42:16.506-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T15:42:16.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:42:16.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:42:16.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:42:16.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:42:16.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:42:16.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T15:42:16.508-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000025701ad36c0@453158bf
2025-12-22T15:42:16.508-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T15:42:16.508-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T15:42:16.508-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T15:42:16.510-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:42:16.511-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T15:42:16.511-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:51:15.391-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:51:15.391-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:51:15.391-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:51:15.391-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:51:15.391-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:51:15.391-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:51:15.391-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:51:15.392-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:51:15.392-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=cliente-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=gSCAgolIOKQhEOKTgW0rZaky8r2vFjjt6KD-ywQmBDg&code_challenge_method=S256
2025-12-22T15:51:15.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T15:51:15.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T15:51:15.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T15:51:15.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T15:51:15.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T15:51:15.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T15:51:15.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@f2bec99]]]
2025-12-22T15:51:15.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T15:51:15.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T15:51:15.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T15:51:15.393-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T15:51:15.394-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T15:51:15.397-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:51:15.397-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:15.397-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:15.397-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T15:51:15.409-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2025-12-22T15:51:15.409-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.a.w.OAuth2AuthorizationEndpointFilter : Authorization request failed: [invalid_request] OAuth 2.0 Parameter: client_id

org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException: OAuth 2.0 Parameter: client_id
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.throwError(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:407) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.throwError(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:384) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.throwError(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:377) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:122) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:51:15.410-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:51:15.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:51:15.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:51:15.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:51:15.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:51:15.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:51:15.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:51:15.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:51:15.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:51:15.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:51:15.411-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=cliente-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=gSCAgolIOKQhEOKTgW0rZaky8r2vFjjt6KD-ywQmBDg&code_challenge_method=S256
2025-12-22T15:51:15.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:51:15.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:51:15.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:51:15.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:51:15.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=cliente-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=gSCAgolIOKQhEOKTgW0rZaky8r2vFjjt6KD-ywQmBDg&code_challenge_method=S256
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=cliente-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=gSCAgolIOKQhEOKTgW0rZaky8r2vFjjt6KD-ywQmBDg&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:51:15.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:51:15.415-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?response_type=code&client_id=cliente-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=gSCAgolIOKQhEOKTgW0rZaky8r2vFjjt6KD-ywQmBDg&code_challenge_method=S256&continue to session
2025-12-22T15:51:15.415-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T15:51:15.416-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4b6cb083
2025-12-22T15:51:15.416-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T15:51:15.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:51:15.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:51:15.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:51:15.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:51:15.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:51:15.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:51:15.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:51:15.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:51:15.421-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:51:15.422-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T15:51:15.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000025701ad36c0@453158bf
2025-12-22T15:51:15.423-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T15:51:15.423-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T15:51:15.423-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T15:51:15.424-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:51:15.425-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T15:51:15.425-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:51:15.482-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:51:15.483-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:51:15.483-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:51:15.483-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:51:15.483-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:51:15.483-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:51:15.483-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:51:15.483-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:51:15.483-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:51:15.483-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-12-22T15:51:15.483-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:51:15.484-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:51:15.485-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:51:15.485-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:51:15.485-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:51:15.485-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:51:15.485-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /favicon.ico
2025-12-22T15:51:15.485-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /favicon.ico using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:51:15.485-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:51:15.486-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:51:15.487-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-12-22T15:51:15.487-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T15:51:15.487-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4b6cb083
2025-12-22T15:51:15.488-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T15:51:15.488-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:51:15.491-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:51:15.491-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:51:15.491-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:51:15.491-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:51:15.491-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:51:15.491-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:51:15.491-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:51:15.491-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:51:15.492-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:51:15.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:51:15.493-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:51:15.493-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T15:51:15.493-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000025701ad36c0@453158bf
2025-12-22T15:51:15.493-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T15:51:15.493-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T15:51:15.494-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T15:51:15.495-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:51:15.496-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T15:51:15.496-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:51:33.760-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:51:33.760-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:51:33.760-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:51:33.760-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:51:33.760-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:51:33.760-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:51:33.760-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:51:33.760-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:51:33.760-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=7pA2MPz0xWHMe2etUAW1PRtNfnfCLsE0nkh7dHqY2iM&code_challenge_method=S256
2025-12-22T15:51:33.760-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T15:51:33.761-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T15:51:33.761-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T15:51:33.761-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T15:51:33.761-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T15:51:33.761-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T15:51:33.761-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@f2bec99]]]
2025-12-22T15:51:33.761-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T15:51:33.761-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T15:51:33.761-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T15:51:33.761-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T15:51:33.761-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T15:51:33.762-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:51:33.762-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:33.762-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:33.762-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T15:51:33.769-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-8] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2025-12-22T15:51:33.770-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] .s.a.w.OAuth2AuthorizationEndpointFilter : Authorization request failed: [invalid_request] OAuth 2.0 Parameter: client_id

org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException: OAuth 2.0 Parameter: client_id
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.throwError(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:407) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.throwError(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:384) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.throwError(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:377) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:122) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:51:33.771-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:51:33.772-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:51:33.772-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:51:33.772-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:51:33.772-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:51:33.772-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:51:33.772-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:51:33.772-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:51:33.772-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:51:33.772-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:51:33.772-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=7pA2MPz0xWHMe2etUAW1PRtNfnfCLsE0nkh7dHqY2iM&code_challenge_method=S256
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=7pA2MPz0xWHMe2etUAW1PRtNfnfCLsE0nkh7dHqY2iM&code_challenge_method=S256
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=7pA2MPz0xWHMe2etUAW1PRtNfnfCLsE0nkh7dHqY2iM&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:51:33.773-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:51:33.774-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:33.774-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:33.774-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:51:33.774-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:51:33.776-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=7pA2MPz0xWHMe2etUAW1PRtNfnfCLsE0nkh7dHqY2iM&code_challenge_method=S256&continue to session
2025-12-22T15:51:33.776-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T15:51:33.777-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4b6cb083
2025-12-22T15:51:33.777-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T15:51:33.782-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:51:33.783-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:51:33.783-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:51:33.783-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:51:33.783-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:51:33.783-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:51:33.783-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:51:33.783-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:51:33.783-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:51:33.783-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T15:51:33.783-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:51:33.783-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:51:33.783-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T15:51:33.784-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000025701ad36c0@453158bf
2025-12-22T15:51:33.785-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T15:51:33.785-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T15:51:33.785-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T15:51:33.786-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:51:33.786-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T15:51:33.786-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:51:33.827-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:51:33.827-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:51:33.827-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:51:33.828-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:51:33.828-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:51:33.828-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:51:33.828-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:51:33.829-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:51:33.830-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:51:33.830-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-12-22T15:51:33.830-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:51:33.831-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:51:33.831-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:51:33.831-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:51:33.832-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /favicon.ico
2025-12-22T15:51:33.833-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /favicon.ico using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:51:33.833-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:51:33.833-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:51:33.834-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-12-22T15:51:33.834-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T15:51:33.835-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4b6cb083
2025-12-22T15:51:33.835-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T15:51:33.835-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:51:33.838-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:51:33.838-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession F6A33E4727074B1FF19072D594FB0D28 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T15:51:33.839-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000025701ad36c0@453158bf
2025-12-22T15:51:33.839-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T15:51:33.839-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T15:51:33.840-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T15:51:33.840-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:51:33.841-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T15:51:33.841-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F6A33E4727074B1FF19072D594FB0D28], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:51:44.148-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:51:44.148-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:51:44.148-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:51:44.148-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:51:44.148-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:51:44.148-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:51:44.148-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:51:44.148-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:51:44.154-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:51:44.154-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-22T15:51:44.155-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:51:44.155-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:51:44.155-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:51:44.155-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:51:44.155-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:51:44.155-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:51:44.155-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:51:44.155-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:51:44.155-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:51:44.155-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:51:44.162-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T15:51:44.355-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-22T15:51:44.356-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F6A33E4727074B1FF19072D594FB0D28
2025-12-22T15:51:44.358-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe] to HttpSession [org.apache.catalina.session.StandardSessionFacade@34f87050]
2025-12-22T15:51:44.358-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe
2025-12-22T15:51:44.359-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=7pA2MPz0xWHMe2etUAW1PRtNfnfCLsE0nkh7dHqY2iM&code_challenge_method=S256&continue
2025-12-22T15:51:44.359-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:51:44.366-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:51:44.366-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:51:44.366-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:51:44.366-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:51:44.366-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:51:44.366-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:51:44.366-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:51:44.366-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:51:44.366-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:51:44.366-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=7pA2MPz0xWHMe2etUAW1PRtNfnfCLsE0nkh7dHqY2iM&code_challenge_method=S256&continue
2025-12-22T15:51:44.366-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:51:44.366-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe] from SPRING_SECURITY_CONTEXT
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:51:44.367-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Removing DefaultSavedRequest from session if present
2025-12-22T15:51:44.367-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=7pA2MPz0xWHMe2etUAW1PRtNfnfCLsE0nkh7dHqY2iM&code_challenge_method=S256&continue
2025-12-22T15:51:44.369-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:51:44.369-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:51:44.369-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:51:44.369-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:51:44.369-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=7pA2MPz0xWHMe2etUAW1PRtNfnfCLsE0nkh7dHqY2iM&code_challenge_method=S256&continue
2025-12-22T15:51:44.369-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=7pA2MPz0xWHMe2etUAW1PRtNfnfCLsE0nkh7dHqY2iM&code_challenge_method=S256&continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:51:44.370-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe
2025-12-22T15:51:44.372-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=7pA2MPz0xWHMe2etUAW1PRtNfnfCLsE0nkh7dHqY2iM&code_challenge_method=S256&continue
2025-12-22T15:51:44.372-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=7pA2MPz0xWHMe2etUAW1PRtNfnfCLsE0nkh7dHqY2iM&code_challenge_method=S256&continue", parameters={masked}
2025-12-22T15:51:44.374-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-12-22T15:51:44.456-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-22T15:51:44.456-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:51:44.506-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:51:44.506-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:51:44.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:51:44.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:51:44.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe] from SPRING_SECURITY_CONTEXT
2025-12-22T15:51:44.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:51:44.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:51:44.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:51:44.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:51:44.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:51:44.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:51:44.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:51:44.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:51:44.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /favicon.ico
2025-12-22T15:51:44.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /favicon.ico using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:51:44.507-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe
2025-12-22T15:51:44.507-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /favicon.ico
2025-12-22T15:51:44.507-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/favicon.ico", parameters={}
2025-12-22T15:51:44.515-03:00  WARN 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.PageNotFound             : No mapping for GET /favicon.ico
2025-12-22T15:51:44.573-03:00  WARN 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.PageNotFound             : No endpoint GET /favicon.ico.
2025-12-22T15:51:44.574-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:51:44.574-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /favicon.ico.]
2025-12-22T15:51:44.574-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-22T15:51:44.576-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:51:44.576-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:51:44.576-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:51:44.576-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:51:44.576-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:51:44.576-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:51:44.576-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:51:44.576-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:51:44.576-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:51:44.576-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-22T15:51:44.576-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe] from SPRING_SECURITY_CONTEXT
2025-12-22T15:51:44.577-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe
2025-12-22T15:51:44.577-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-22T15:51:44.578-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-22T15:51:44.578-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-22T15:51:44.598-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-12-22T15:51:44.603-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Dec 22 15:51:44 BRT 2025, status=404, error=Not Found, path=/favicon.ico}]
2025-12-22T15:51:44.636-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-22T15:52:15.317-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:52:15.317-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:52:15.317-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:52:15.317-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:52:15.317-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:52:15.317-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:52:15.317-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:52:15.317-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:52:15.317-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:52:15.317-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /clients
2025-12-22T15:52:15.317-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:52:15.317-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'gerente' in Basic Authorization header
2025-12-22T15:52:15.318-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T15:52:15.400-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Failed to process authentication request

org.springframework.security.core.userdetails.UsernameNotFoundException: Usurio e/ou senha incorretos!
	at teste.estudos.libraryapi.security.CustomAuthenticationProvider.authenticate(CustomAuthenticationProvider.java:41) ~[classes/:na]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:187) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:52:15.401-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-22T15:52:15.402-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@2a9b675c
2025-12-22T15:52:15.402-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:52:15.403-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:52:15.403-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:52:15.403-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:52:15.403-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:52:15.403-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:52:15.403-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:52:15.403-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:52:15.403-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:52:15.403-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:52:15.403-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-12-22T15:52:15.403-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:52:15.404-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:52:15.405-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:52:15.405-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:52:15.405-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:52:15.405-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /error
2025-12-22T15:52:15.405-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:52:15.405-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T15:52:15.405-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:52:15.405-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:52:15.405-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:52:15.405-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:52:15.407-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-12-22T15:52:15.407-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T15:52:15.407-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@139862ca, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-22T15:52:15.408-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@3fd64d6b
2025-12-22T15:52:15.408-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-22T15:52:15.408-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@2a9b675c
2025-12-22T15:52:29.490-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:52:29.490-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:52:29.490-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:52:29.491-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:52:29.491-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:52:29.491-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:52:29.491-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:52:29.491-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:52:29.492-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-12-22T15:52:29.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T15:52:29.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T15:52:29.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T15:52:29.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T15:52:29.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T15:52:29.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T15:52:29.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@f2bec99]]]
2025-12-22T15:52:29.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T15:52:29.492-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T15:52:29.493-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T15:52:29.493-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T15:52:29.493-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T15:52:29.495-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-12-22T15:52:29.498-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-12-22T15:52:29.498-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-12-22T15:52:29.498-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-12-22T15:52:29.504-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-12-22T15:52:29.504-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-12-22T15:52:29.504-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-12-22T15:52:29.519-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-12-22T15:52:29.589-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-12-22T15:52:29.589-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-12-22T15:52:29.589-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-12-22T15:52:29.589-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-12-22T15:52:29.590-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:52:29.590-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-12-22T15:52:29.590-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:52:29.590-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-12-22T15:52:29.591-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:52:29.591-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-12-22T15:52:29.591-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-12-22T15:52:29.591-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-12-22T15:52:29.591-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-12-22T15:52:29.591-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-12-22T15:52:29.591-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4905c8cd
2025-12-22T15:52:29.591-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=client-id, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8ADD326C2082DBEF3F576AB031256114], Granted Authorities=[]]
2025-12-22T15:52:29.591-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (22/26)
2025-12-22T15:52:29.593-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2ClientCredentialsAuthenticationProvider (1/20)
2025-12-22T15:52:29.595-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] 2ClientCredentialsAuthenticationProvider : Retrieved registered client
2025-12-22T15:52:29.596-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] 2ClientCredentialsAuthenticationProvider : Validated token request parameters
2025-12-22T15:52:29.734-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] 2ClientCredentialsAuthenticationProvider : Generated access token
2025-12-22T15:52:29.736-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] 2ClientCredentialsAuthenticationProvider : Saved authorization
2025-12-22T15:52:29.736-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] 2ClientCredentialsAuthenticationProvider : Authenticated token request
2025-12-22T15:52:29.740-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:52:49.079-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:52:49.079-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:52:49.079-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:52:49.079-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:52:49.079-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:52:49.079-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:52:49.079-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:52:49.079-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:52:49.080-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:52:49.080-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /clients
2025-12-22T15:52:49.080-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:52:49.081-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:52:49.081-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:52:49.081-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:52:49.081-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:52:49.081-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:52:49.081-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:52:49.081-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:52:49.081-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:52:49.081-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:52:49.081-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:52:49.081-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:52:49.083-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-12-22T15:52:49.097-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-12-22T15:52:49.097-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-12-22T15:52:49.098-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b5500ba, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8ADD326C2082DBEF3F576AB031256114], Granted Authorities=[GERENTE]]
2025-12-22T15:52:49.098-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:52:49.107-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:52:49.107-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:52:49.107-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:52:49.108-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:52:49.108-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:52:49.108-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:52:49.108-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:52:49.108-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:52:49.108-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /clients
2025-12-22T15:52:49.108-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /clients using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:52:49.108-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b5500ba, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8ADD326C2082DBEF3F576AB031256114], Granted Authorities=[GERENTE]]
2025-12-22T15:52:49.108-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /clients
2025-12-22T15:52:49.108-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/clients", parameters={}
2025-12-22T15:52:49.109-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.ClientController#salvar(ClientDTO)
2025-12-22T15:52:49.163-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ClientDTO[clientId=cliente-frontend, clientSecret=cliente-frontend, redirectURI=http://localhost:808 (truncated)...]
2025-12-22T15:52:49.285-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public void teste.estudos.libraryapi.controller.ClientController.salvar(teste.estudos.libraryapi.controller.dto.ClientDTO); target is of class [teste.estudos.libraryapi.controller.ClientController]
2025-12-22T15:52:49.305-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public void teste.estudos.libraryapi.controller.ClientController.salvar(teste.estudos.libraryapi.controller.dto.ClientDTO); target is of class [teste.estudos.libraryapi.controller.ClientController]
2025-12-22T15:52:49.305-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] t.e.l.controller.ClientController        : Salvando client: cliente-frontend
2025-12-22T15:52:49.514-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-22T15:52:49.515-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:53:02.170-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:53:02.170-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:53:02.170-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:53:02.170-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:53:02.170-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:53:02.170-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:53:02.170-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:53:02.170-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:53:02.171-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:53:02.172-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe] from SPRING_SECURITY_CONTEXT
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:53:02.172-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:53:02.173-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:53:02.173-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:53:02.173-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:53:02.173-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:53:02.173-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T15:53:02.173-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000025701ad36c0@453158bf
2025-12-22T15:53:02.174-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T15:53:02.174-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T15:53:02.174-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T15:53:02.175-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:53:02.176-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T15:53:02.176-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe
2025-12-22T15:53:06.455-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:53:06.455-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:53:06.455-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:53:06.455-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:53:06.455-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:53:06.455-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:53:06.455-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:53:06.455-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:53:06.455-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256
2025-12-22T15:53:06.455-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T15:53:06.456-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T15:53:06.456-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T15:53:06.456-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T15:53:06.456-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T15:53:06.456-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T15:53:06.456-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@f2bec99]]]
2025-12-22T15:53:06.456-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T15:53:06.456-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T15:53:06.456-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T15:53:06.456-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T15:53:06.456-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T15:53:06.457-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe] from SPRING_SECURITY_CONTEXT
2025-12-22T15:53:06.457-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T15:53:06.465-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T15:53:06.467-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2025-12-22T15:53:06.467-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.a.w.OAuth2AuthorizationEndpointFilter : Authorization request failed: [invalid_request] OAuth 2.0 Parameter: redirect_uri

org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException: OAuth 2.0 Parameter: redirect_uri
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:228) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:205) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.validateRedirectUri(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:131) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at java.base/java.util.function.Consumer.lambda$andThen$0(Consumer.java:65) ~[na:na]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:79) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:55) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:133) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:53:06.469-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:53:06.472-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:53:06.473-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:53:06.473-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:53:06.473-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:53:06.473-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:53:06.473-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:53:06.473-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:53:06.473-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:53:06.473-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:53:06.473-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256
2025-12-22T15:53:06.473-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:53:06.474-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:53:06.475-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:53:06.475-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:53:06.475-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:53:06.475-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256
2025-12-22T15:53:06.475-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:53:06.475-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe] from SPRING_SECURITY_CONTEXT
2025-12-22T15:53:06.475-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe
2025-12-22T15:53:06.475-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256
2025-12-22T15:53:06.475-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256", parameters={masked}
2025-12-22T15:53:06.475-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-12-22T15:53:06.483-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 400
2025-12-22T15:53:22.590-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:53:22.590-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:53:22.590-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:53:22.590-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:53:22.590-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:53:22.590-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:53:22.590-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:53:22.591-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:53:22.591-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256
2025-12-22T15:53:22.591-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T15:53:22.592-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T15:53:22.592-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T15:53:22.592-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T15:53:22.592-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T15:53:22.592-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T15:53:22.592-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@f2bec99]]]
2025-12-22T15:53:22.593-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T15:53:22.593-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T15:53:22.593-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T15:53:22.593-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T15:53:22.593-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T15:53:22.594-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe] from SPRING_SECURITY_CONTEXT
2025-12-22T15:53:22.594-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T15:53:22.604-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T15:53:22.604-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2025-12-22T15:53:22.604-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] .s.a.w.OAuth2AuthorizationEndpointFilter : Authorization request failed: [invalid_request] OAuth 2.0 Parameter: redirect_uri

org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException: OAuth 2.0 Parameter: redirect_uri
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:228) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:205) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.validateRedirectUri(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:131) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at java.base/java.util.function.Consumer.lambda$andThen$0(Consumer.java:65) ~[na:na]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:79) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:55) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:133) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:53:22.607-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:53:22.609-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:53:22.610-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:53:22.610-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:53:22.610-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:53:22.610-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:53:22.611-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:53:22.611-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:53:22.611-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:53:22.611-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:53:22.611-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256
2025-12-22T15:53:22.612-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:53:22.612-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:53:22.612-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:53:22.612-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:53:22.612-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:53:22.612-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:53:22.612-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:53:22.612-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:53:22.612-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:53:22.613-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:53:22.613-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:53:22.613-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:53:22.613-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:53:22.613-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:53:22.613-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:53:22.613-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:53:22.613-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:53:22.613-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:53:22.613-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:53:22.613-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:53:22.613-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256
2025-12-22T15:53:22.613-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:53:22.613-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe] from SPRING_SECURITY_CONTEXT
2025-12-22T15:53:22.613-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe
2025-12-22T15:53:22.613-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256
2025-12-22T15:53:22.613-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256", parameters={masked}
2025-12-22T15:53:22.614-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-12-22T15:53:22.615-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 400
2025-12-22T15:53:23.288-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:53:23.288-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:53:23.288-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:53:23.288-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:53:23.291-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:53:23.291-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:53:23.291-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:53:23.292-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:53:23.292-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256
2025-12-22T15:53:23.292-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T15:53:23.292-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T15:53:23.292-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T15:53:23.292-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T15:53:23.293-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T15:53:23.293-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T15:53:23.293-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@f2bec99]]]
2025-12-22T15:53:23.293-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T15:53:23.293-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T15:53:23.294-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T15:53:23.294-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T15:53:23.294-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T15:53:23.296-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe] from SPRING_SECURITY_CONTEXT
2025-12-22T15:53:23.296-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T15:53:23.304-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T15:53:23.305-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2025-12-22T15:53:23.305-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] .s.a.w.OAuth2AuthorizationEndpointFilter : Authorization request failed: [invalid_request] OAuth 2.0 Parameter: redirect_uri

org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException: OAuth 2.0 Parameter: redirect_uri
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:228) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:205) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.validateRedirectUri(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:131) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at java.base/java.util.function.Consumer.lambda$andThen$0(Consumer.java:65) ~[na:na]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:79) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:55) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:133) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:53:23.308-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:53:23.309-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:53:23.309-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:53:23.309-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:53:23.309-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:53:23.309-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:53:23.309-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:53:23.309-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:53:23.309-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:53:23.310-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:53:23.310-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256
2025-12-22T15:53:23.310-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:53:23.310-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:53:23.310-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:53:23.310-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:53:23.311-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256
2025-12-22T15:53:23.312-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:53:23.312-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe] from SPRING_SECURITY_CONTEXT
2025-12-22T15:53:23.312-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe
2025-12-22T15:53:23.312-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256
2025-12-22T15:53:23.313-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=TXmBW2i2sqDICVPEwbkopGl_31YmZmfsya2Dg1maw10&code_challenge_method=S256", parameters={masked}
2025-12-22T15:53:23.313-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-12-22T15:53:23.316-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 400
2025-12-22T15:53:28.410-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:53:28.410-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:53:28.410-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:53:28.410-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:53:28.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:53:28.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:53:28.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:53:28.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:53:28.411-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=fwb-LWIeZIRFpJ_5VDJrvTPfF35CxRPzFHuchkGck0M&code_challenge_method=S256
2025-12-22T15:53:28.411-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T15:53:28.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T15:53:28.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T15:53:28.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T15:53:28.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T15:53:28.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T15:53:28.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@f2bec99]]]
2025-12-22T15:53:28.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T15:53:28.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T15:53:28.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T15:53:28.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T15:53:28.412-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T15:53:28.413-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe] from SPRING_SECURITY_CONTEXT
2025-12-22T15:53:28.414-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T15:53:28.422-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T15:53:28.423-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2025-12-22T15:53:28.423-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.a.w.OAuth2AuthorizationEndpointFilter : Authorization request failed: [invalid_request] OAuth 2.0 Parameter: redirect_uri

org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException: OAuth 2.0 Parameter: redirect_uri
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:228) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:205) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.validateRedirectUri(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:131) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at java.base/java.util.function.Consumer.lambda$andThen$0(Consumer.java:65) ~[na:na]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:79) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:55) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:133) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:53:28.425-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:53:28.426-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:53:28.426-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:53:28.426-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:53:28.426-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:53:28.426-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:53:28.427-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:53:28.427-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:53:28.427-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025701ad3088@6fad6743, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7897ca9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5385cd04, org.springframework.security.web.context.SecurityContextHolderFilter@500341c4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f2163d3, org.springframework.security.web.header.HeaderWriterFilter@5d965dbd, org.springframework.security.web.csrf.CsrfFilter@404bca88, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@33f17d3d, org.springframework.security.web.authentication.logout.LogoutFilter@5dd2e62a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@247246ea, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7b0eb7e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@efa6a81, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2246bfd1, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2d4df467, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44b860b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc4af25, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5cfcb55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1596c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12c66345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12920e0d, org.springframework.security.web.access.ExceptionTranslationFilter@583f6270, org.springframework.security.web.access.intercept.AuthorizationFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@43f81c74, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@67d90687, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4dbf902, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@366fd3cb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@42d039ef]] (8/9)
2025-12-22T15:53:28.427-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1a4e9f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df70f35, org.springframework.security.web.context.SecurityContextHolderFilter@73e054c0, org.springframework.security.web.header.HeaderWriterFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4796ae58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d89b0d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7075ef91, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67dc7d0, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cc5d766, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b5df313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f52ca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100f7788, org.springframework.security.web.access.ExceptionTranslationFilter@6eaf016e, org.springframework.security.web.access.intercept.AuthorizationFilter@4497fcd9]] (9/9)
2025-12-22T15:53:28.427-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=fwb-LWIeZIRFpJ_5VDJrvTPfF35CxRPzFHuchkGck0M&code_challenge_method=S256
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:53:28.428-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:53:28.429-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:53:28.429-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:53:28.429-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:53:28.429-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:53:28.429-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=fwb-LWIeZIRFpJ_5VDJrvTPfF35CxRPzFHuchkGck0M&code_challenge_method=S256
2025-12-22T15:53:28.429-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=fwb-LWIeZIRFpJ_5VDJrvTPfF35CxRPzFHuchkGck0M&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b169ae3
2025-12-22T15:53:28.429-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe] from SPRING_SECURITY_CONTEXT
2025-12-22T15:53:28.429-03:00 TRACE 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@54fe0afe
2025-12-22T15:53:28.430-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=fwb-LWIeZIRFpJ_5VDJrvTPfF35CxRPzFHuchkGck0M&code_challenge_method=S256
2025-12-22T15:53:28.430-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=fwb-LWIeZIRFpJ_5VDJrvTPfF35CxRPzFHuchkGck0M&code_challenge_method=S256", parameters={masked}
2025-12-22T15:53:28.430-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-12-22T15:53:28.432-03:00 DEBUG 7548 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 400
2025-12-22T15:54:11.315-03:00  INFO 2684 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 2684 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-22T15:54:11.317-03:00 DEBUG 2684 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-22T15:54:11.318-03:00  INFO 2684 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-22T15:54:16.823-03:00 DEBUG 2684 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-22T15:54:16.824-03:00 DEBUG 2684 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-22T15:54:17.280-03:00  WARN 2684 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-22T15:54:17.310-03:00 TRACE 2684 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@33e19be9, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@ab90b8c}
2025-12-22T15:54:17.312-03:00  INFO 2684 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-22T15:54:17.459-03:00 DEBUG 2684 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-22T15:54:17.483-03:00 DEBUG 2684 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T15:54:17.530-03:00 DEBUG 2684 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T15:54:17.924-03:00  WARN 2684 --- [libraryapi] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'authServerSecurityFilterChain' defined in class path resource [teste/estudos/libraryapi/config/AuthorizationServerConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authServerSecurityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.server.authorization.client.RegisteredClientRepository' available: expected single matching bean but found 2: customRegisteredClientRepository,registeredClientRepository
2025-12-22T15:54:17.985-03:00 ERROR 2684 --- [libraryapi] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method setFilterChains in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a single bean, but 2 were found:
	- customRegisteredClientRepository: defined in file [C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes\teste\estudos\libraryapi\security\CustomRegisteredClientRepository.class]
	- registeredClientRepository: defined by method 'registeredClientRepository' in class path resource [teste/estudos/libraryapi/config/AuthorizationServerConfiguration.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2025-12-22T15:56:57.225-03:00  INFO 18184 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 18184 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-22T15:56:57.227-03:00 DEBUG 18184 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-22T15:56:57.228-03:00  INFO 18184 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-22T15:57:02.377-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-22T15:57:02.378-03:00 DEBUG 18184 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-22T15:57:02.829-03:00  WARN 18184 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-22T15:57:02.859-03:00 TRACE 18184 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@550ce3a9, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@3c7e7ffd}
2025-12-22T15:57:02.862-03:00  INFO 18184 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-22T15:57:03.015-03:00 DEBUG 18184 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-22T15:57:03.042-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T15:57:03.087-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T15:57:04.115-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001f686b00cb0@6b56e8ee with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-22T15:57:04.214-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-22T15:57:04.230-03:00  WARN 18184 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:57:04.232-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-22T15:57:04.232-03:00  WARN 18184 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:57:04.232-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-22T15:57:04.232-03:00  WARN 18184 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:57:04.232-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-22T15:57:04.232-03:00  WARN 18184 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:57:04.232-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-22T15:57:04.232-03:00  WARN 18184 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:57:04.233-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-22T15:57:04.233-03:00  WARN 18184 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:57:04.233-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-22T15:57:04.233-03:00  WARN 18184 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T15:57:04.233-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-22T15:57:04.319-03:00 DEBUG 18184 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T15:57:04.378-03:00 DEBUG 18184 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-22T15:57:05.418-03:00 DEBUG 18184 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-22T15:57:05.420-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T15:57:05.426-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T15:57:05.436-03:00 DEBUG 18184 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T15:57:05.456-03:00  INFO 18184 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 8.732 seconds (process running for 9.502)
2025-12-22T15:57:05.995-03:00  INFO 18184 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-22T15:57:05.995-03:00 DEBUG 18184 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-22T15:57:05.996-03:00 DEBUG 18184 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-22T15:57:05.996-03:00 DEBUG 18184 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-22T15:57:06.000-03:00 DEBUG 18184 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@c21c296
2025-12-22T15:57:06.002-03:00 DEBUG 18184 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1e490ed
2025-12-22T15:57:06.002-03:00 DEBUG 18184 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-22T15:57:06.002-03:00  INFO 18184 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-12-22T15:57:12.645-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:57:12.647-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:57:12.647-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:57:12.647-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:57:12.647-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:57:12.647-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:57:12.647-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:57:12.648-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001f686b00cb0@6b56e8ee, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@76d75992, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6326f806, org.springframework.security.web.context.SecurityContextHolderFilter@5f04449a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7df09f55, org.springframework.security.web.header.HeaderWriterFilter@6cf58989, org.springframework.security.web.csrf.CsrfFilter@3cdf8aa5, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@867e628, org.springframework.security.web.authentication.logout.LogoutFilter@2cf7860e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@3027fe42, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@52c4bf29, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1054864f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@418f3cde, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@9e7d82e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58fef400, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@28322fd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2092b072, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e18848d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8396e5f, org.springframework.security.web.access.ExceptionTranslationFilter@b997735, org.springframework.security.web.access.intercept.AuthorizationFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@3f19f197, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1b74a062, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@9504a58]] (8/9)
2025-12-22T15:57:12.648-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=dooiJcJsoS6B3lSgf6_A_WEyS13vHAc5E6uN7UofjgA&code_challenge_method=S256
2025-12-22T15:57:12.651-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T15:57:12.655-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T15:57:12.658-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T15:57:12.660-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T15:57:12.665-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T15:57:12.666-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T15:57:12.668-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001f686b00cb0@6b56e8ee, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@26c6be2d]]]
2025-12-22T15:57:12.668-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T15:57:12.668-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T15:57:12.669-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T15:57:12.669-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T15:57:12.669-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T15:57:12.672-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T15:57:12.672-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:57:12.672-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:57:12.675-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T15:57:12.860-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T15:57:12.870-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-1] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2025-12-22T15:57:12.873-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] .s.a.w.OAuth2AuthorizationEndpointFilter : Authorization request failed: [invalid_request] OAuth 2.0 Parameter: redirect_uri

org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException: OAuth 2.0 Parameter: redirect_uri
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:228) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:205) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.validateRedirectUri(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:131) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at java.base/java.util.function.Consumer.lambda$andThen$0(Consumer.java:65) ~[na:na]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:79) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:55) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:133) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:57:12.884-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:57:12.898-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:57:12.900-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:57:12.900-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:57:12.900-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:57:12.900-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:57:12.901-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:57:12.902-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:57:12.902-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001f686b00cb0@6b56e8ee, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@76d75992, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6326f806, org.springframework.security.web.context.SecurityContextHolderFilter@5f04449a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7df09f55, org.springframework.security.web.header.HeaderWriterFilter@6cf58989, org.springframework.security.web.csrf.CsrfFilter@3cdf8aa5, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@867e628, org.springframework.security.web.authentication.logout.LogoutFilter@2cf7860e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@3027fe42, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@52c4bf29, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1054864f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@418f3cde, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@9e7d82e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58fef400, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@28322fd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2092b072, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e18848d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8396e5f, org.springframework.security.web.access.ExceptionTranslationFilter@b997735, org.springframework.security.web.access.intercept.AuthorizationFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@3f19f197, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1b74a062, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@9504a58]] (8/9)
2025-12-22T15:57:12.902-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5eed0853, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a0118d8, org.springframework.security.web.context.SecurityContextHolderFilter@515d6c9f, org.springframework.security.web.header.HeaderWriterFilter@605610e5, org.springframework.security.web.authentication.logout.LogoutFilter@3e4dabcb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6bd5ca02, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@636e6791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2b24fcba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a837f7, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@6ecf239d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7fcbed77, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9e42d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19b31460, org.springframework.security.web.access.ExceptionTranslationFilter@3ffa3cdb, org.springframework.security.web.access.intercept.AuthorizationFilter@6dd65b79]] (9/9)
2025-12-22T15:57:12.902-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=dooiJcJsoS6B3lSgf6_A_WEyS13vHAc5E6uN7UofjgA&code_challenge_method=S256
2025-12-22T15:57:12.902-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:57:12.903-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:57:12.903-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:57:12.903-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:57:12.903-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:57:12.903-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:57:12.904-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:57:12.904-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:57:12.904-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:57:12.904-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:57:12.904-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:57:12.904-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:57:12.904-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:57:12.905-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:57:12.906-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:57:12.907-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:57:12.907-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:57:12.911-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:57:12.912-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:57:12.913-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:57:12.915-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=dooiJcJsoS6B3lSgf6_A_WEyS13vHAc5E6uN7UofjgA&code_challenge_method=S256
2025-12-22T15:57:12.915-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=dooiJcJsoS6B3lSgf6_A_WEyS13vHAc5E6uN7UofjgA&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@11b1ff2d
2025-12-22T15:57:12.915-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T15:57:12.916-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:57:12.916-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:57:12.917-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:57:12.924-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T15:57:12.954-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=dooiJcJsoS6B3lSgf6_A_WEyS13vHAc5E6uN7UofjgA&code_challenge_method=S256&continue to session
2025-12-22T15:57:12.957-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2005d3e0, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T15:57:12.957-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@5fc4af25
2025-12-22T15:57:12.958-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T15:57:12.969-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:57:12.969-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:57:12.969-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:57:12.969-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:57:12.969-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:57:12.969-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:57:12.969-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:57:12.969-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001f686b00cb0@6b56e8ee, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@76d75992, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6326f806, org.springframework.security.web.context.SecurityContextHolderFilter@5f04449a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7df09f55, org.springframework.security.web.header.HeaderWriterFilter@6cf58989, org.springframework.security.web.csrf.CsrfFilter@3cdf8aa5, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@867e628, org.springframework.security.web.authentication.logout.LogoutFilter@2cf7860e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@3027fe42, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@52c4bf29, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1054864f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@418f3cde, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@9e7d82e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58fef400, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@28322fd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2092b072, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e18848d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8396e5f, org.springframework.security.web.access.ExceptionTranslationFilter@b997735, org.springframework.security.web.access.intercept.AuthorizationFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@3f19f197, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1b74a062, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@9504a58]] (8/9)
2025-12-22T15:57:12.970-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5eed0853, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a0118d8, org.springframework.security.web.context.SecurityContextHolderFilter@515d6c9f, org.springframework.security.web.header.HeaderWriterFilter@605610e5, org.springframework.security.web.authentication.logout.LogoutFilter@3e4dabcb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6bd5ca02, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@636e6791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2b24fcba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a837f7, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@6ecf239d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7fcbed77, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9e42d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19b31460, org.springframework.security.web.access.ExceptionTranslationFilter@3ffa3cdb, org.springframework.security.web.access.intercept.AuthorizationFilter@6dd65b79]] (9/9)
2025-12-22T15:57:12.970-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T15:57:12.970-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:57:12.970-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:57:12.970-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:57:12.970-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:57:12.970-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:57:12.971-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:57:12.971-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:57:12.971-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:57:12.971-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:57:12.971-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:57:12.971-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:57:12.971-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:57:12.971-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:57:12.971-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:57:12.972-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession C55374DB497F947A74623E83E6FD2218 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T15:57:12.972-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:57:12.972-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T15:57:12.972-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:57:12.972-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:57:12.973-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:57:12.973-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T15:57:12.973-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:57:12.973-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:57:12.973-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:57:12.973-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:57:12.974-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T15:57:12.974-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001f686b012e8@161ab232
2025-12-22T15:57:12.977-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T15:57:12.978-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T15:57:12.980-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T15:57:13.271-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:57:13.273-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T15:57:13.274-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C55374DB497F947A74623E83E6FD2218], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T15:57:18.347-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:57:18.348-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:57:18.348-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:57:18.348-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:57:18.348-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:57:18.348-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:57:18.348-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:57:18.348-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001f686b00cb0@6b56e8ee, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@76d75992, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6326f806, org.springframework.security.web.context.SecurityContextHolderFilter@5f04449a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7df09f55, org.springframework.security.web.header.HeaderWriterFilter@6cf58989, org.springframework.security.web.csrf.CsrfFilter@3cdf8aa5, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@867e628, org.springframework.security.web.authentication.logout.LogoutFilter@2cf7860e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@3027fe42, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@52c4bf29, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1054864f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@418f3cde, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@9e7d82e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58fef400, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@28322fd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2092b072, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e18848d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8396e5f, org.springframework.security.web.access.ExceptionTranslationFilter@b997735, org.springframework.security.web.access.intercept.AuthorizationFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@3f19f197, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1b74a062, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@9504a58]] (8/9)
2025-12-22T15:57:18.348-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5eed0853, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a0118d8, org.springframework.security.web.context.SecurityContextHolderFilter@515d6c9f, org.springframework.security.web.header.HeaderWriterFilter@605610e5, org.springframework.security.web.authentication.logout.LogoutFilter@3e4dabcb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6bd5ca02, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@636e6791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2b24fcba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a837f7, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@6ecf239d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7fcbed77, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9e42d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19b31460, org.springframework.security.web.access.ExceptionTranslationFilter@3ffa3cdb, org.springframework.security.web.access.intercept.AuthorizationFilter@6dd65b79]] (9/9)
2025-12-22T15:57:18.348-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-22T15:57:18.349-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:57:18.349-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:57:18.349-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:57:18.349-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:57:18.349-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:57:18.349-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:57:18.349-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:57:18.349-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:57:18.350-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:57:18.350-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:57:18.351-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T15:57:18.443-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-22T15:57:18.443-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C55374DB497F947A74623E83E6FD2218
2025-12-22T15:57:18.444-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@5511fa68] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1fd482]
2025-12-22T15:57:18.444-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@5511fa68
2025-12-22T15:57:18.445-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=dooiJcJsoS6B3lSgf6_A_WEyS13vHAc5E6uN7UofjgA&code_challenge_method=S256&continue
2025-12-22T15:57:18.445-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T15:57:18.450-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T15:57:18.450-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T15:57:18.451-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T15:57:18.451-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T15:57:18.451-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T15:57:18.451-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T15:57:18.451-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T15:57:18.451-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001f686b00cb0@6b56e8ee, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@76d75992, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6326f806, org.springframework.security.web.context.SecurityContextHolderFilter@5f04449a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7df09f55, org.springframework.security.web.header.HeaderWriterFilter@6cf58989, org.springframework.security.web.csrf.CsrfFilter@3cdf8aa5, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@867e628, org.springframework.security.web.authentication.logout.LogoutFilter@2cf7860e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@3027fe42, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@52c4bf29, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1054864f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@418f3cde, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@9e7d82e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58fef400, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@28322fd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2092b072, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e18848d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8396e5f, org.springframework.security.web.access.ExceptionTranslationFilter@b997735, org.springframework.security.web.access.intercept.AuthorizationFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@3f19f197, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1b74a062, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@9504a58]] (8/9)
2025-12-22T15:57:18.451-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5eed0853, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a0118d8, org.springframework.security.web.context.SecurityContextHolderFilter@515d6c9f, org.springframework.security.web.header.HeaderWriterFilter@605610e5, org.springframework.security.web.authentication.logout.LogoutFilter@3e4dabcb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6bd5ca02, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@636e6791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2b24fcba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a837f7, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@6ecf239d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7fcbed77, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9e42d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19b31460, org.springframework.security.web.access.ExceptionTranslationFilter@3ffa3cdb, org.springframework.security.web.access.intercept.AuthorizationFilter@6dd65b79]] (9/9)
2025-12-22T15:57:18.452-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=dooiJcJsoS6B3lSgf6_A_WEyS13vHAc5E6uN7UofjgA&code_challenge_method=S256&continue
2025-12-22T15:57:18.452-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T15:57:18.452-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T15:57:18.452-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T15:57:18.452-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T15:57:18.452-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T15:57:18.452-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T15:57:18.452-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T15:57:18.453-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T15:57:18.453-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T15:57:18.453-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T15:57:18.453-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T15:57:18.453-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T15:57:18.453-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T15:57:18.453-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T15:57:18.453-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@5511fa68] from SPRING_SECURITY_CONTEXT
2025-12-22T15:57:18.453-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T15:57:18.454-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T15:57:18.454-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T15:57:18.455-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Removing DefaultSavedRequest from session if present
2025-12-22T15:57:18.455-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=dooiJcJsoS6B3lSgf6_A_WEyS13vHAc5E6uN7UofjgA&code_challenge_method=S256&continue
2025-12-22T15:57:18.456-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T15:57:18.456-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T15:57:18.457-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T15:57:18.457-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T15:57:18.457-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=dooiJcJsoS6B3lSgf6_A_WEyS13vHAc5E6uN7UofjgA&code_challenge_method=S256&continue
2025-12-22T15:57:18.457-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=dooiJcJsoS6B3lSgf6_A_WEyS13vHAc5E6uN7UofjgA&code_challenge_method=S256&continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@11b1ff2d
2025-12-22T15:57:18.457-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5511fa68
2025-12-22T15:57:18.458-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=dooiJcJsoS6B3lSgf6_A_WEyS13vHAc5E6uN7UofjgA&code_challenge_method=S256&continue
2025-12-22T15:57:18.458-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=dooiJcJsoS6B3lSgf6_A_WEyS13vHAc5E6uN7UofjgA&code_challenge_method=S256&continue", parameters={masked}
2025-12-22T15:57:18.459-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-12-22T15:57:18.486-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-22T15:57:18.487-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:01:41.027-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:01:41.027-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:01:41.027-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:01:41.027-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:01:41.027-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:01:41.027-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:01:41.027-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:01:41.028-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001f686b00cb0@6b56e8ee, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@76d75992, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6326f806, org.springframework.security.web.context.SecurityContextHolderFilter@5f04449a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7df09f55, org.springframework.security.web.header.HeaderWriterFilter@6cf58989, org.springframework.security.web.csrf.CsrfFilter@3cdf8aa5, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@867e628, org.springframework.security.web.authentication.logout.LogoutFilter@2cf7860e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@3027fe42, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@52c4bf29, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1054864f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@418f3cde, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@9e7d82e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58fef400, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@28322fd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2092b072, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e18848d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8396e5f, org.springframework.security.web.access.ExceptionTranslationFilter@b997735, org.springframework.security.web.access.intercept.AuthorizationFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@3f19f197, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1b74a062, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@9504a58]] (8/9)
2025-12-22T16:01:41.028-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5eed0853, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a0118d8, org.springframework.security.web.context.SecurityContextHolderFilter@515d6c9f, org.springframework.security.web.header.HeaderWriterFilter@605610e5, org.springframework.security.web.authentication.logout.LogoutFilter@3e4dabcb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6bd5ca02, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@636e6791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2b24fcba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a837f7, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@6ecf239d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7fcbed77, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9e42d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19b31460, org.springframework.security.web.access.ExceptionTranslationFilter@3ffa3cdb, org.springframework.security.web.access.intercept.AuthorizationFilter@6dd65b79]] (9/9)
2025-12-22T16:01:41.028-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:01:41.028-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:01:41.028-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:01:41.028-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:01:41.028-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:01:41.028-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:01:41.028-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:01:41.028-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:01:41.028-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:01:41.028-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:01:41.029-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:01:41.029-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:01:41.029-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:01:41.029-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:01:41.029-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:01:41.029-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@5511fa68] from SPRING_SECURITY_CONTEXT
2025-12-22T16:01:41.030-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:01:41.030-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:01:41.030-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:01:41.030-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:01:41.030-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:01:41.031-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:01:41.031-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:01:41.031-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:01:41.031-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:01:41.031-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001f686b012e8@161ab232
2025-12-22T16:01:41.032-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:01:41.032-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:01:41.032-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:01:41.034-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:01:41.035-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:01:41.035-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5511fa68
2025-12-22T16:01:44.813-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:01:44.814-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:01:44.814-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:01:44.814-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:01:44.814-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:01:44.814-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:01:44.814-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:01:44.814-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001f686b00cb0@6b56e8ee, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@76d75992, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6326f806, org.springframework.security.web.context.SecurityContextHolderFilter@5f04449a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7df09f55, org.springframework.security.web.header.HeaderWriterFilter@6cf58989, org.springframework.security.web.csrf.CsrfFilter@3cdf8aa5, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@867e628, org.springframework.security.web.authentication.logout.LogoutFilter@2cf7860e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@3027fe42, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@52c4bf29, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1054864f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@418f3cde, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@9e7d82e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58fef400, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@28322fd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2092b072, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e18848d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8396e5f, org.springframework.security.web.access.ExceptionTranslationFilter@b997735, org.springframework.security.web.access.intercept.AuthorizationFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@3f19f197, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1b74a062, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@9504a58]] (8/9)
2025-12-22T16:01:44.814-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5eed0853, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a0118d8, org.springframework.security.web.context.SecurityContextHolderFilter@515d6c9f, org.springframework.security.web.header.HeaderWriterFilter@605610e5, org.springframework.security.web.authentication.logout.LogoutFilter@3e4dabcb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6bd5ca02, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@636e6791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2b24fcba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a837f7, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@6ecf239d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7fcbed77, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9e42d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19b31460, org.springframework.security.web.access.ExceptionTranslationFilter@3ffa3cdb, org.springframework.security.web.access.intercept.AuthorizationFilter@6dd65b79]] (9/9)
2025-12-22T16:01:44.814-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-22T16:01:44.814-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:01:44.814-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:01:44.814-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:01:44.815-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:01:44.815-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:01:44.815-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:01:44.815-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:01:44.815-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:01:44.815-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:01:44.815-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:01:44.815-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T16:01:44.891-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-22T16:01:44.892-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 251921D3AEDFD2CA0DBBE76899C8846E
2025-12-22T16:01:44.892-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@1c9d455a] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1fd482]
2025-12-22T16:01:44.892-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@1c9d455a
2025-12-22T16:01:44.892-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /
2025-12-22T16:01:44.892-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:01:44.897-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:01:44.897-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:01:44.897-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001f686b00cb0@6b56e8ee, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@76d75992, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6326f806, org.springframework.security.web.context.SecurityContextHolderFilter@5f04449a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7df09f55, org.springframework.security.web.header.HeaderWriterFilter@6cf58989, org.springframework.security.web.csrf.CsrfFilter@3cdf8aa5, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@867e628, org.springframework.security.web.authentication.logout.LogoutFilter@2cf7860e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@3027fe42, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@52c4bf29, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1054864f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@418f3cde, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@9e7d82e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58fef400, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@28322fd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2092b072, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e18848d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8396e5f, org.springframework.security.web.access.ExceptionTranslationFilter@b997735, org.springframework.security.web.access.intercept.AuthorizationFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@3f19f197, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1b74a062, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@9504a58]] (8/9)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5eed0853, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a0118d8, org.springframework.security.web.context.SecurityContextHolderFilter@515d6c9f, org.springframework.security.web.header.HeaderWriterFilter@605610e5, org.springframework.security.web.authentication.logout.LogoutFilter@3e4dabcb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6bd5ca02, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@636e6791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2b24fcba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a837f7, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@6ecf239d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7fcbed77, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9e42d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19b31460, org.springframework.security.web.access.ExceptionTranslationFilter@3ffa3cdb, org.springframework.security.web.access.intercept.AuthorizationFilter@6dd65b79]] (9/9)
2025-12-22T16:01:44.899-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@1c9d455a] from SPRING_SECURITY_CONTEXT
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:01:44.899-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:01:44.900-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /
2025-12-22T16:01:44.900-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET / using org.springframework.security.authorization.AuthenticatedAuthorizationManager@11b1ff2d
2025-12-22T16:01:44.900-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@1c9d455a
2025-12-22T16:01:44.900-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /
2025-12-22T16:01:44.900-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/", parameters={}
2025-12-22T16:01:44.900-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LoginViewController#paginaHome(Authentication)
2025-12-22T16:01:44.908-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/html', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [text/plain, */*, application/json, application/*+json]
2025-12-22T16:01:44.910-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing ["Ol gerente"]
2025-12-22T16:01:44.912-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:01:44.913-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:01:57.679-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:01:57.679-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:01:57.679-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:01:57.679-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:01:57.679-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:01:57.679-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:01:57.679-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:01:57.679-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001f686b00cb0@6b56e8ee, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@76d75992, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6326f806, org.springframework.security.web.context.SecurityContextHolderFilter@5f04449a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7df09f55, org.springframework.security.web.header.HeaderWriterFilter@6cf58989, org.springframework.security.web.csrf.CsrfFilter@3cdf8aa5, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@867e628, org.springframework.security.web.authentication.logout.LogoutFilter@2cf7860e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@3027fe42, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@52c4bf29, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1054864f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@418f3cde, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@9e7d82e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58fef400, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@28322fd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2092b072, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e18848d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8396e5f, org.springframework.security.web.access.ExceptionTranslationFilter@b997735, org.springframework.security.web.access.intercept.AuthorizationFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@3f19f197, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1b74a062, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@9504a58]] (8/9)
2025-12-22T16:01:57.679-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5eed0853, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a0118d8, org.springframework.security.web.context.SecurityContextHolderFilter@515d6c9f, org.springframework.security.web.header.HeaderWriterFilter@605610e5, org.springframework.security.web.authentication.logout.LogoutFilter@3e4dabcb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6bd5ca02, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@636e6791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2b24fcba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a837f7, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@6ecf239d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7fcbed77, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9e42d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19b31460, org.springframework.security.web.access.ExceptionTranslationFilter@3ffa3cdb, org.springframework.security.web.access.intercept.AuthorizationFilter@6dd65b79]] (9/9)
2025-12-22T16:01:57.680-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:01:57.680-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@1c9d455a] from SPRING_SECURITY_CONTEXT
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:01:57.681-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:01:57.682-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:01:57.682-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:01:57.682-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:01:57.682-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:01:57.682-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:01:57.682-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:01:57.682-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:01:57.682-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001f686b012e8@161ab232
2025-12-22T16:01:57.682-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:01:57.683-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:01:57.683-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:01:57.685-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:01:57.686-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:01:57.686-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@1c9d455a
2025-12-22T16:03:06.578-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:03:06.578-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:03:06.578-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:03:06.578-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:03:06.578-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:03:06.579-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:03:06.579-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:03:06.579-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001f686b00cb0@6b56e8ee, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@76d75992, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6326f806, org.springframework.security.web.context.SecurityContextHolderFilter@5f04449a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7df09f55, org.springframework.security.web.header.HeaderWriterFilter@6cf58989, org.springframework.security.web.csrf.CsrfFilter@3cdf8aa5, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@867e628, org.springframework.security.web.authentication.logout.LogoutFilter@2cf7860e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@3027fe42, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@52c4bf29, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1054864f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@418f3cde, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@9e7d82e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58fef400, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@28322fd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2092b072, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e18848d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8396e5f, org.springframework.security.web.access.ExceptionTranslationFilter@b997735, org.springframework.security.web.access.intercept.AuthorizationFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@3f19f197, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1b74a062, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@9504a58]] (8/9)
2025-12-22T16:03:06.579-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5eed0853, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a0118d8, org.springframework.security.web.context.SecurityContextHolderFilter@515d6c9f, org.springframework.security.web.header.HeaderWriterFilter@605610e5, org.springframework.security.web.authentication.logout.LogoutFilter@3e4dabcb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6bd5ca02, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@636e6791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2b24fcba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a837f7, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@6ecf239d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7fcbed77, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9e42d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19b31460, org.springframework.security.web.access.ExceptionTranslationFilter@3ffa3cdb, org.springframework.security.web.access.intercept.AuthorizationFilter@6dd65b79]] (9/9)
2025-12-22T16:03:06.579-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-22T16:03:06.579-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:03:06.580-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:03:06.580-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:03:06.580-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:03:06.580-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:03:06.580-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:03:06.580-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:03:06.580-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:03:06.581-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:03:06.581-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:03:06.581-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T16:03:06.656-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-22T16:03:06.656-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 061AC32804171325C9684E44475D0335
2025-12-22T16:03:06.657-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@71ba28ae] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1fd482]
2025-12-22T16:03:06.657-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@71ba28ae
2025-12-22T16:03:06.657-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /
2025-12-22T16:03:06.657-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:03:06.662-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:03:06.662-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:03:06.662-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:03:06.662-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:03:06.662-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:03:06.662-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:03:06.662-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:03:06.662-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001f686b00cb0@6b56e8ee, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@76d75992, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6326f806, org.springframework.security.web.context.SecurityContextHolderFilter@5f04449a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7df09f55, org.springframework.security.web.header.HeaderWriterFilter@6cf58989, org.springframework.security.web.csrf.CsrfFilter@3cdf8aa5, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@867e628, org.springframework.security.web.authentication.logout.LogoutFilter@2cf7860e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@3027fe42, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@52c4bf29, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1054864f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@418f3cde, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@9e7d82e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58fef400, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@28322fd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2092b072, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e18848d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8396e5f, org.springframework.security.web.access.ExceptionTranslationFilter@b997735, org.springframework.security.web.access.intercept.AuthorizationFilter@655c1b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@3f19f197, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1b74a062, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@9504a58]] (8/9)
2025-12-22T16:03:06.662-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5eed0853, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a0118d8, org.springframework.security.web.context.SecurityContextHolderFilter@515d6c9f, org.springframework.security.web.header.HeaderWriterFilter@605610e5, org.springframework.security.web.authentication.logout.LogoutFilter@3e4dabcb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6bd5ca02, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@636e6791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2b24fcba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a837f7, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@6ecf239d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7fcbed77, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f9e42d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19b31460, org.springframework.security.web.access.ExceptionTranslationFilter@3ffa3cdb, org.springframework.security.web.access.intercept.AuthorizationFilter@6dd65b79]] (9/9)
2025-12-22T16:03:06.663-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@71ba28ae] from SPRING_SECURITY_CONTEXT
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:03:06.663-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:03:06.664-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /
2025-12-22T16:03:06.664-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET / using org.springframework.security.authorization.AuthenticatedAuthorizationManager@11b1ff2d
2025-12-22T16:03:06.664-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@71ba28ae
2025-12-22T16:03:06.664-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /
2025-12-22T16:03:06.664-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/", parameters={}
2025-12-22T16:03:06.664-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LoginViewController#paginaHome(Authentication)
2025-12-22T16:03:06.665-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/html', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [text/plain, */*, application/json, application/*+json]
2025-12-22T16:03:06.665-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing ["Ol gerente"]
2025-12-22T16:03:06.665-03:00 TRACE 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:03:06.666-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:19:07.226-03:00  INFO 22220 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 22220 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-22T16:19:07.227-03:00 DEBUG 22220 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-22T16:19:07.229-03:00  INFO 22220 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-22T16:19:12.814-03:00 DEBUG 22220 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-22T16:19:12.816-03:00 DEBUG 22220 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-22T16:19:13.318-03:00  WARN 22220 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-22T16:19:13.360-03:00 TRACE 22220 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@38f1f6c9, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@63cf6497}
2025-12-22T16:19:13.362-03:00  INFO 22220 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-22T16:19:13.537-03:00 DEBUG 22220 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-22T16:19:13.562-03:00 DEBUG 22220 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T16:19:13.602-03:00 DEBUG 22220 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T16:19:14.667-03:00 DEBUG 22220 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002a6a7b01738@a555005 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-22T16:19:14.765-03:00 DEBUG 22220 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-22T16:19:14.779-03:00  WARN 22220 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:19:14.781-03:00 DEBUG 22220 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-22T16:19:14.781-03:00  WARN 22220 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:19:14.781-03:00 DEBUG 22220 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-22T16:19:14.781-03:00  WARN 22220 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:19:14.781-03:00 DEBUG 22220 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-22T16:19:14.781-03:00  WARN 22220 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:19:14.781-03:00 DEBUG 22220 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-22T16:19:14.781-03:00  WARN 22220 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:19:14.782-03:00 DEBUG 22220 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-22T16:19:14.782-03:00  WARN 22220 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:19:14.782-03:00 DEBUG 22220 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-22T16:19:14.782-03:00  WARN 22220 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:19:14.782-03:00 DEBUG 22220 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-22T16:19:14.871-03:00 DEBUG 22220 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T16:19:14.930-03:00 DEBUG 22220 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-22T16:19:16.084-03:00 DEBUG 22220 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-22T16:19:16.086-03:00 DEBUG 22220 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T16:19:16.092-03:00 DEBUG 22220 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T16:19:16.103-03:00 DEBUG 22220 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T16:19:16.123-03:00  INFO 22220 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 9.416 seconds (process running for 10.224)
2025-12-22T16:19:16.469-03:00  INFO 22220 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-22T16:19:16.470-03:00 DEBUG 22220 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-22T16:19:16.470-03:00 DEBUG 22220 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-22T16:19:16.470-03:00 DEBUG 22220 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-22T16:19:16.472-03:00 DEBUG 22220 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2f71bb66
2025-12-22T16:19:16.473-03:00 DEBUG 22220 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2af781f3
2025-12-22T16:19:16.474-03:00 DEBUG 22220 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-22T16:19:16.474-03:00  INFO 22220 --- [libraryapi] [RMI TCP Connection(6)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-12-22T16:19:21.863-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:19:21.864-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:19:21.864-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:19:21.864-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:19:21.864-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:19:21.865-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:19:21.865-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:19:21.865-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002a6a7b01738@a555005, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d32ce95, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dcfdd1e, org.springframework.security.web.context.SecurityContextHolderFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@19544898, org.springframework.security.web.header.HeaderWriterFilter@6a7c1725, org.springframework.security.web.csrf.CsrfFilter@2c9573f1, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@badf24b, org.springframework.security.web.authentication.logout.LogoutFilter@583f6270, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1913188a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@687e9f0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@6a51a39d, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@6f3cf9ac, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2b960c2b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e73787, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@556d8c78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@439b893a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d332ebc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64abeca4, org.springframework.security.web.access.ExceptionTranslationFilter@3d45ea17, org.springframework.security.web.access.intercept.AuthorizationFilter@9e7d82e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@25297d52, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@74ae2dec, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@9e96118, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1b3606e8]] (8/9)
2025-12-22T16:19:21.866-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=Gww5rmH0AMRggCyFTWrt_qfbjfCcAq_NogPA_Ul4-SQ&code_challenge_method=S256
2025-12-22T16:19:21.868-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:19:21.872-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:19:21.874-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:19:21.876-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:19:21.882-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:19:21.884-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:19:21.885-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002a6a7b01738@a555005, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@6050d04d]]]
2025-12-22T16:19:21.886-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:19:21.886-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:19:21.886-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:19:21.886-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:19:21.886-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:19:21.889-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T16:19:21.890-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:19:21.891-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:19:21.893-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:19:22.051-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:19:22.056-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-2] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2025-12-22T16:19:22.059-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] .s.a.w.OAuth2AuthorizationEndpointFilter : Authorization request failed: [invalid_request] OAuth 2.0 Parameter: redirect_uri

org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException: OAuth 2.0 Parameter: redirect_uri
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:228) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:205) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.validateRedirectUri(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:131) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at java.base/java.util.function.Consumer.lambda$andThen$0(Consumer.java:65) ~[na:na]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:79) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:55) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:133) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:19:22.064-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:19:22.073-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:19:22.074-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:19:22.074-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:19:22.075-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:19:22.075-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:19:22.075-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:19:22.075-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:19:22.076-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002a6a7b01738@a555005, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d32ce95, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dcfdd1e, org.springframework.security.web.context.SecurityContextHolderFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@19544898, org.springframework.security.web.header.HeaderWriterFilter@6a7c1725, org.springframework.security.web.csrf.CsrfFilter@2c9573f1, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@badf24b, org.springframework.security.web.authentication.logout.LogoutFilter@583f6270, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1913188a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@687e9f0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@6a51a39d, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@6f3cf9ac, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2b960c2b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e73787, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@556d8c78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@439b893a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d332ebc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64abeca4, org.springframework.security.web.access.ExceptionTranslationFilter@3d45ea17, org.springframework.security.web.access.intercept.AuthorizationFilter@9e7d82e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@25297d52, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@74ae2dec, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@9e96118, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1b3606e8]] (8/9)
2025-12-22T16:19:22.076-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7140012d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bf49411, org.springframework.security.web.context.SecurityContextHolderFilter@3afe1020, org.springframework.security.web.header.HeaderWriterFilter@51db8b10, org.springframework.security.web.authentication.logout.LogoutFilter@12b4a53d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@45488836, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6fa73db5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@262e2c8c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1ac65143, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5a5cd0af, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@13ea9afc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@91e76b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@563f53d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53091d5c, org.springframework.security.web.access.ExceptionTranslationFilter@cea6297, org.springframework.security.web.access.intercept.AuthorizationFilter@776e4088]] (9/9)
2025-12-22T16:19:22.076-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=Gww5rmH0AMRggCyFTWrt_qfbjfCcAq_NogPA_Ul4-SQ&code_challenge_method=S256
2025-12-22T16:19:22.076-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:19:22.077-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:19:22.078-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:19:22.078-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:19:22.078-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:19:22.078-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:19:22.078-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:19:22.079-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:19:22.079-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:19:22.080-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:19:22.080-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:19:22.080-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:19:22.080-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:19:22.080-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:19:22.081-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:19:22.081-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:19:22.081-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:19:22.083-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:19:22.084-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:19:22.085-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:19:22.087-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=Gww5rmH0AMRggCyFTWrt_qfbjfCcAq_NogPA_Ul4-SQ&code_challenge_method=S256
2025-12-22T16:19:22.088-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=Gww5rmH0AMRggCyFTWrt_qfbjfCcAq_NogPA_Ul4-SQ&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@1c91eaf1
2025-12-22T16:19:22.088-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T16:19:22.088-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:19:22.088-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:19:22.089-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:19:22.093-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:19:22.122-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=Gww5rmH0AMRggCyFTWrt_qfbjfCcAq_NogPA_Ul4-SQ&code_challenge_method=S256&continue to session
2025-12-22T16:19:22.125-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@47c14360, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T16:19:22.126-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4644b1c6
2025-12-22T16:19:22.128-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T16:19:22.137-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:19:22.137-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:19:22.137-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:19:22.137-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:19:22.137-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:19:22.137-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:19:22.137-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:19:22.137-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002a6a7b01738@a555005, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d32ce95, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dcfdd1e, org.springframework.security.web.context.SecurityContextHolderFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@19544898, org.springframework.security.web.header.HeaderWriterFilter@6a7c1725, org.springframework.security.web.csrf.CsrfFilter@2c9573f1, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@badf24b, org.springframework.security.web.authentication.logout.LogoutFilter@583f6270, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1913188a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@687e9f0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@6a51a39d, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@6f3cf9ac, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2b960c2b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e73787, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@556d8c78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@439b893a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d332ebc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64abeca4, org.springframework.security.web.access.ExceptionTranslationFilter@3d45ea17, org.springframework.security.web.access.intercept.AuthorizationFilter@9e7d82e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@25297d52, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@74ae2dec, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@9e96118, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1b3606e8]] (8/9)
2025-12-22T16:19:22.138-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7140012d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bf49411, org.springframework.security.web.context.SecurityContextHolderFilter@3afe1020, org.springframework.security.web.header.HeaderWriterFilter@51db8b10, org.springframework.security.web.authentication.logout.LogoutFilter@12b4a53d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@45488836, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6fa73db5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@262e2c8c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1ac65143, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5a5cd0af, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@13ea9afc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@91e76b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@563f53d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53091d5c, org.springframework.security.web.access.ExceptionTranslationFilter@cea6297, org.springframework.security.web.access.intercept.AuthorizationFilter@776e4088]] (9/9)
2025-12-22T16:19:22.138-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:19:22.138-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:19:22.138-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:19:22.138-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:19:22.138-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:19:22.139-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:19:22.139-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:19:22.141-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:19:22.142-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:19:22.143-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:19:22.144-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:19:22.144-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:19:22.144-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:19:22.144-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:19:22.144-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:19:22.144-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 9E4238A8ABBD0C8BA0F940C4042F8377 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:19:22.145-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:19:22.145-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:19:22.145-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:19:22.145-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:19:22.145-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:19:22.145-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:19:22.145-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:19:22.145-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:19:22.145-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:19:22.145-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:19:22.146-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:19:22.146-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000002a6a7b01d70@5669a8ce
2025-12-22T16:19:22.148-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:19:22.151-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:19:22.153-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:19:22.486-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:19:22.489-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:19:22.489-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=9E4238A8ABBD0C8BA0F940C4042F8377], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:19:26.715-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:19:26.716-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:19:26.716-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:19:26.716-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:19:26.716-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:19:26.716-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:19:26.716-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:19:26.716-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002a6a7b01738@a555005, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d32ce95, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dcfdd1e, org.springframework.security.web.context.SecurityContextHolderFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@19544898, org.springframework.security.web.header.HeaderWriterFilter@6a7c1725, org.springframework.security.web.csrf.CsrfFilter@2c9573f1, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@badf24b, org.springframework.security.web.authentication.logout.LogoutFilter@583f6270, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1913188a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@687e9f0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@6a51a39d, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@6f3cf9ac, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2b960c2b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e73787, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@556d8c78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@439b893a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d332ebc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64abeca4, org.springframework.security.web.access.ExceptionTranslationFilter@3d45ea17, org.springframework.security.web.access.intercept.AuthorizationFilter@9e7d82e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@25297d52, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@74ae2dec, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@9e96118, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1b3606e8]] (8/9)
2025-12-22T16:19:26.716-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7140012d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bf49411, org.springframework.security.web.context.SecurityContextHolderFilter@3afe1020, org.springframework.security.web.header.HeaderWriterFilter@51db8b10, org.springframework.security.web.authentication.logout.LogoutFilter@12b4a53d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@45488836, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6fa73db5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@262e2c8c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1ac65143, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5a5cd0af, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@13ea9afc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@91e76b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@563f53d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53091d5c, org.springframework.security.web.access.ExceptionTranslationFilter@cea6297, org.springframework.security.web.access.intercept.AuthorizationFilter@776e4088]] (9/9)
2025-12-22T16:19:26.716-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-22T16:19:26.716-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:19:26.717-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:19:26.717-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:19:26.717-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:19:26.717-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:19:26.717-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:19:26.717-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:19:26.717-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:19:26.717-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:19:26.717-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:19:26.718-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T16:19:26.808-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-22T16:19:26.808-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9E4238A8ABBD0C8BA0F940C4042F8377
2025-12-22T16:19:26.809-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@6ea71691] to HttpSession [org.apache.catalina.session.StandardSessionFacade@10cb4884]
2025-12-22T16:19:26.809-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@6ea71691
2025-12-22T16:19:26.810-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=Gww5rmH0AMRggCyFTWrt_qfbjfCcAq_NogPA_Ul4-SQ&code_challenge_method=S256&continue
2025-12-22T16:19:26.810-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:19:26.816-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:19:26.816-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:19:26.816-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:19:26.816-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:19:26.816-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:19:26.816-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:19:26.816-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:19:26.816-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002a6a7b01738@a555005, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d32ce95, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dcfdd1e, org.springframework.security.web.context.SecurityContextHolderFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@19544898, org.springframework.security.web.header.HeaderWriterFilter@6a7c1725, org.springframework.security.web.csrf.CsrfFilter@2c9573f1, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@badf24b, org.springframework.security.web.authentication.logout.LogoutFilter@583f6270, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1913188a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@687e9f0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@6a51a39d, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@6f3cf9ac, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2b960c2b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e73787, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@556d8c78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@439b893a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d332ebc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64abeca4, org.springframework.security.web.access.ExceptionTranslationFilter@3d45ea17, org.springframework.security.web.access.intercept.AuthorizationFilter@9e7d82e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@25297d52, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@74ae2dec, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@9e96118, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1b3606e8]] (8/9)
2025-12-22T16:19:26.817-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7140012d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bf49411, org.springframework.security.web.context.SecurityContextHolderFilter@3afe1020, org.springframework.security.web.header.HeaderWriterFilter@51db8b10, org.springframework.security.web.authentication.logout.LogoutFilter@12b4a53d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@45488836, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6fa73db5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@262e2c8c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1ac65143, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5a5cd0af, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@13ea9afc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@91e76b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@563f53d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53091d5c, org.springframework.security.web.access.ExceptionTranslationFilter@cea6297, org.springframework.security.web.access.intercept.AuthorizationFilter@776e4088]] (9/9)
2025-12-22T16:19:26.817-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=Gww5rmH0AMRggCyFTWrt_qfbjfCcAq_NogPA_Ul4-SQ&code_challenge_method=S256&continue
2025-12-22T16:19:26.817-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:19:26.817-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:19:26.817-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:19:26.817-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:19:26.817-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:19:26.818-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:19:26.818-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:19:26.818-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:19:26.818-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:19:26.818-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:19:26.818-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:19:26.818-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:19:26.818-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:19:26.818-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:19:26.818-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@6ea71691] from SPRING_SECURITY_CONTEXT
2025-12-22T16:19:26.818-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:19:26.819-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:19:26.819-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:19:26.819-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Removing DefaultSavedRequest from session if present
2025-12-22T16:19:26.819-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=Gww5rmH0AMRggCyFTWrt_qfbjfCcAq_NogPA_Ul4-SQ&code_challenge_method=S256&continue
2025-12-22T16:19:26.820-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:19:26.821-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:19:26.821-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:19:26.821-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:19:26.821-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=Gww5rmH0AMRggCyFTWrt_qfbjfCcAq_NogPA_Ul4-SQ&code_challenge_method=S256&continue
2025-12-22T16:19:26.821-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=Gww5rmH0AMRggCyFTWrt_qfbjfCcAq_NogPA_Ul4-SQ&code_challenge_method=S256&continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@1c91eaf1
2025-12-22T16:19:26.822-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@6ea71691
2025-12-22T16:19:26.823-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=Gww5rmH0AMRggCyFTWrt_qfbjfCcAq_NogPA_Ul4-SQ&code_challenge_method=S256&continue
2025-12-22T16:19:26.823-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=Gww5rmH0AMRggCyFTWrt_qfbjfCcAq_NogPA_Ul4-SQ&code_challenge_method=S256&continue", parameters={masked}
2025-12-22T16:19:26.824-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-12-22T16:19:26.847-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-22T16:19:26.847-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:19:43.611-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:19:43.611-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:19:43.611-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:19:43.611-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:19:43.611-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:19:43.611-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:19:43.612-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:19:43.612-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002a6a7b01738@a555005, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d32ce95, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dcfdd1e, org.springframework.security.web.context.SecurityContextHolderFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@19544898, org.springframework.security.web.header.HeaderWriterFilter@6a7c1725, org.springframework.security.web.csrf.CsrfFilter@2c9573f1, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@badf24b, org.springframework.security.web.authentication.logout.LogoutFilter@583f6270, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1913188a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@687e9f0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@6a51a39d, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@6f3cf9ac, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2b960c2b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e73787, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@556d8c78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@439b893a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d332ebc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64abeca4, org.springframework.security.web.access.ExceptionTranslationFilter@3d45ea17, org.springframework.security.web.access.intercept.AuthorizationFilter@9e7d82e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@25297d52, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@74ae2dec, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@9e96118, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1b3606e8]] (8/9)
2025-12-22T16:19:43.612-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7140012d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bf49411, org.springframework.security.web.context.SecurityContextHolderFilter@3afe1020, org.springframework.security.web.header.HeaderWriterFilter@51db8b10, org.springframework.security.web.authentication.logout.LogoutFilter@12b4a53d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@45488836, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6fa73db5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@262e2c8c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1ac65143, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5a5cd0af, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@13ea9afc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@91e76b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@563f53d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53091d5c, org.springframework.security.web.access.ExceptionTranslationFilter@cea6297, org.springframework.security.web.access.intercept.AuthorizationFilter@776e4088]] (9/9)
2025-12-22T16:19:43.612-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:19:43.612-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:19:43.612-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:19:43.612-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:19:43.612-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@6ea71691] from SPRING_SECURITY_CONTEXT
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:19:43.613-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:19:43.614-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:19:43.614-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:19:43.614-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:19:43.614-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:19:43.614-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000002a6a7b01d70@5669a8ce
2025-12-22T16:19:43.614-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:19:43.615-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:19:43.615-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:19:43.618-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:19:43.620-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:19:43.620-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@6ea71691
2025-12-22T16:19:48.259-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:19:48.259-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:19:48.259-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:19:48.259-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:19:48.259-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:19:48.259-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:19:48.259-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:19:48.259-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002a6a7b01738@a555005, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d32ce95, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dcfdd1e, org.springframework.security.web.context.SecurityContextHolderFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@19544898, org.springframework.security.web.header.HeaderWriterFilter@6a7c1725, org.springframework.security.web.csrf.CsrfFilter@2c9573f1, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@badf24b, org.springframework.security.web.authentication.logout.LogoutFilter@583f6270, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1913188a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@687e9f0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@6a51a39d, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@6f3cf9ac, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2b960c2b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e73787, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@556d8c78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@439b893a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d332ebc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64abeca4, org.springframework.security.web.access.ExceptionTranslationFilter@3d45ea17, org.springframework.security.web.access.intercept.AuthorizationFilter@9e7d82e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@25297d52, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@74ae2dec, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@9e96118, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1b3606e8]] (8/9)
2025-12-22T16:19:48.260-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=wr3bBl7XEORnA5hof4RuFwbYREBKZbUBE0ArvnXwpio&code_challenge_method=S256
2025-12-22T16:19:48.260-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:19:48.260-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:19:48.260-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:19:48.260-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:19:48.260-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:19:48.261-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:19:48.261-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002a6a7b01738@a555005, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@6050d04d]]]
2025-12-22T16:19:48.261-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:19:48.261-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:19:48.261-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:19:48.261-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:19:48.261-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:19:48.261-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@6ea71691] from SPRING_SECURITY_CONTEXT
2025-12-22T16:19:48.261-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:19:48.269-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:19:48.269-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-10] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2025-12-22T16:19:48.269-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] .s.a.w.OAuth2AuthorizationEndpointFilter : Authorization request failed: [invalid_request] OAuth 2.0 Parameter: redirect_uri

org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException: OAuth 2.0 Parameter: redirect_uri
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:228) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:205) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.validateRedirectUri(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:131) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at java.base/java.util.function.Consumer.lambda$andThen$0(Consumer.java:65) ~[na:na]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:79) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:55) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:133) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:19:48.271-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:19:48.272-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:19:48.272-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:19:48.272-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:19:48.272-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:19:48.272-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:19:48.272-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:19:48.272-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002a6a7b01738@a555005, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4d32ce95, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dcfdd1e, org.springframework.security.web.context.SecurityContextHolderFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@19544898, org.springframework.security.web.header.HeaderWriterFilter@6a7c1725, org.springframework.security.web.csrf.CsrfFilter@2c9573f1, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@badf24b, org.springframework.security.web.authentication.logout.LogoutFilter@583f6270, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1913188a, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@65d28ad4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@687e9f0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@6a51a39d, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@6f3cf9ac, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2b960c2b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e73787, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@556d8c78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@439b893a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d332ebc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64abeca4, org.springframework.security.web.access.ExceptionTranslationFilter@3d45ea17, org.springframework.security.web.access.intercept.AuthorizationFilter@9e7d82e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@25297d52, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@74ae2dec, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@9e96118, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1b3606e8]] (8/9)
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7140012d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bf49411, org.springframework.security.web.context.SecurityContextHolderFilter@3afe1020, org.springframework.security.web.header.HeaderWriterFilter@51db8b10, org.springframework.security.web.authentication.logout.LogoutFilter@12b4a53d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@45488836, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6fa73db5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@262e2c8c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1ac65143, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@5a5cd0af, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@13ea9afc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@91e76b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@563f53d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53091d5c, org.springframework.security.web.access.ExceptionTranslationFilter@cea6297, org.springframework.security.web.access.intercept.AuthorizationFilter@776e4088]] (9/9)
2025-12-22T16:19:48.273-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=wr3bBl7XEORnA5hof4RuFwbYREBKZbUBE0ArvnXwpio&code_challenge_method=S256
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:19:48.273-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:19:48.274-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:19:48.274-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:19:48.274-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:19:48.274-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:19:48.274-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:19:48.274-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=wr3bBl7XEORnA5hof4RuFwbYREBKZbUBE0ArvnXwpio&code_challenge_method=S256
2025-12-22T16:19:48.274-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=wr3bBl7XEORnA5hof4RuFwbYREBKZbUBE0ArvnXwpio&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@1c91eaf1
2025-12-22T16:19:48.274-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@6ea71691] from SPRING_SECURITY_CONTEXT
2025-12-22T16:19:48.274-03:00 TRACE 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@6ea71691
2025-12-22T16:19:48.274-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=wr3bBl7XEORnA5hof4RuFwbYREBKZbUBE0ArvnXwpio&code_challenge_method=S256
2025-12-22T16:19:48.275-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=wr3bBl7XEORnA5hof4RuFwbYREBKZbUBE0ArvnXwpio&code_challenge_method=S256", parameters={masked}
2025-12-22T16:19:48.275-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-12-22T16:19:48.285-03:00 DEBUG 22220 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 400
2025-12-22T16:19:59.563-03:00  INFO 24560 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 24560 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-22T16:19:59.564-03:00 DEBUG 24560 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-22T16:19:59.565-03:00  INFO 24560 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-22T16:20:04.828-03:00 DEBUG 24560 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-22T16:20:04.829-03:00 DEBUG 24560 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-22T16:20:05.314-03:00  WARN 24560 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-22T16:20:05.355-03:00 TRACE 24560 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@4d71476c, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@67de5328}
2025-12-22T16:20:05.359-03:00  INFO 24560 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-22T16:20:05.551-03:00 DEBUG 24560 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-22T16:20:05.577-03:00 DEBUG 24560 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T16:20:05.619-03:00 DEBUG 24560 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T16:20:08.231-03:00 DEBUG 24560 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-22T16:20:08.333-03:00 DEBUG 24560 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-22T16:20:08.348-03:00  WARN 24560 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:20:08.349-03:00 DEBUG 24560 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-22T16:20:08.349-03:00  WARN 24560 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:20:08.349-03:00 DEBUG 24560 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-22T16:20:08.349-03:00  WARN 24560 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:20:08.349-03:00 DEBUG 24560 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-22T16:20:08.350-03:00  WARN 24560 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:20:08.350-03:00 DEBUG 24560 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-22T16:20:08.350-03:00  WARN 24560 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:20:08.350-03:00 DEBUG 24560 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-22T16:20:08.350-03:00  WARN 24560 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:20:08.350-03:00 DEBUG 24560 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-22T16:20:08.350-03:00  WARN 24560 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:20:08.350-03:00 DEBUG 24560 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-22T16:20:08.438-03:00 DEBUG 24560 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T16:20:08.499-03:00 DEBUG 24560 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-22T16:20:09.666-03:00 DEBUG 24560 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-22T16:20:09.668-03:00 DEBUG 24560 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T16:20:09.674-03:00 DEBUG 24560 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T16:20:09.684-03:00 DEBUG 24560 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T16:20:09.705-03:00  INFO 24560 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 10.701 seconds (process running for 11.899)
2025-12-22T16:20:09.885-03:00  INFO 24560 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-22T16:20:09.885-03:00 DEBUG 24560 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-22T16:20:09.885-03:00 DEBUG 24560 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-22T16:20:09.885-03:00 DEBUG 24560 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-22T16:20:09.888-03:00 DEBUG 24560 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@46a6f51b
2025-12-22T16:20:09.888-03:00 DEBUG 24560 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@59b78925
2025-12-22T16:20:09.889-03:00 DEBUG 24560 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-22T16:20:09.889-03:00  INFO 24560 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-12-22T16:20:14.188-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:20:14.190-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:20:14.190-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:20:14.191-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:20:14.191-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:20:14.191-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:20:14.191-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:20:14.191-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@16802145, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7688ba10, org.springframework.security.web.context.SecurityContextHolderFilter@26e74d50, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6e0d7be4, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.security.web.csrf.CsrfFilter@17c95612, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5d9576a0, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@6921e251, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4127dcdb, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@160a8986, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5a1c0bcc, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3983b06d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@34817fcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5901757, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@632d8166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178826db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f04449a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505748a6, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@7e86ff3b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48531d5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@57be9aa4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3b6f7ab3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@51d2218e]] (8/9)
2025-12-22T16:20:14.192-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=YgVhYMRXARdAx6Y8Ryw-7_6VMDEqODNmMDS5VkgFMu4&code_challenge_method=S256
2025-12-22T16:20:14.194-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:20:14.198-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:20:14.200-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:20:14.201-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:20:14.208-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:20:14.209-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:20:14.211-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4d162d67]]]
2025-12-22T16:20:14.211-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:20:14.212-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:20:14.212-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:20:14.212-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:20:14.212-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:20:14.215-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T16:20:14.216-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:20:14.216-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:20:14.218-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:20:14.384-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:20:14.391-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-1] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2025-12-22T16:20:14.394-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] .s.a.w.OAuth2AuthorizationEndpointFilter : Authorization request failed: [invalid_request] OAuth 2.0 Parameter: redirect_uri

org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException: OAuth 2.0 Parameter: redirect_uri
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:228) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:205) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.validateRedirectUri(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:131) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at java.base/java.util.function.Consumer.lambda$andThen$0(Consumer.java:65) ~[na:na]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:79) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:55) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:133) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:20:14.398-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:20:14.410-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:20:14.411-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:20:14.411-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:20:14.411-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:20:14.411-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:20:14.411-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:20:14.411-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:20:14.412-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@16802145, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7688ba10, org.springframework.security.web.context.SecurityContextHolderFilter@26e74d50, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6e0d7be4, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.security.web.csrf.CsrfFilter@17c95612, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5d9576a0, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@6921e251, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4127dcdb, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@160a8986, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5a1c0bcc, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3983b06d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@34817fcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5901757, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@632d8166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178826db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f04449a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505748a6, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@7e86ff3b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48531d5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@57be9aa4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3b6f7ab3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@51d2218e]] (8/9)
2025-12-22T16:20:14.412-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@64e064ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bfd4cd9, org.springframework.security.web.context.SecurityContextHolderFilter@4def8aaa, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.security.web.authentication.logout.LogoutFilter@4f1fb8fc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@91e76b6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6bd5ca02, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@759c0c14, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@262e2c8c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@4ae836cf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59f2a9e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43cc7bb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ffa3cdb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25db2007, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7fcbed77]] (9/9)
2025-12-22T16:20:14.412-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=YgVhYMRXARdAx6Y8Ryw-7_6VMDEqODNmMDS5VkgFMu4&code_challenge_method=S256
2025-12-22T16:20:14.412-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:20:14.413-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:20:14.413-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:20:14.413-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:20:14.413-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:20:14.413-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:20:14.413-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:20:14.413-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:20:14.414-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:20:14.414-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:20:14.414-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:20:14.414-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:20:14.414-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:20:14.414-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:20:14.414-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:20:14.414-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:20:14.415-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:20:14.416-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:20:14.417-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:20:14.417-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:20:14.419-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=YgVhYMRXARdAx6Y8Ryw-7_6VMDEqODNmMDS5VkgFMu4&code_challenge_method=S256
2025-12-22T16:20:14.420-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=YgVhYMRXARdAx6Y8Ryw-7_6VMDEqODNmMDS5VkgFMu4&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@138a47d
2025-12-22T16:20:14.420-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T16:20:14.420-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:20:14.420-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:20:14.422-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:20:14.427-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:20:14.453-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=YgVhYMRXARdAx6Y8Ryw-7_6VMDEqODNmMDS5VkgFMu4&code_challenge_method=S256&continue to session
2025-12-22T16:20:14.456-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@71ea9a0d, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T16:20:14.457-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@10ac5a14
2025-12-22T16:20:14.458-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T16:20:14.466-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:20:14.466-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:20:14.466-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:20:14.466-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:20:14.466-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:20:14.466-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:20:14.467-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:20:14.467-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@16802145, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7688ba10, org.springframework.security.web.context.SecurityContextHolderFilter@26e74d50, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6e0d7be4, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.security.web.csrf.CsrfFilter@17c95612, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5d9576a0, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@6921e251, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4127dcdb, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@160a8986, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5a1c0bcc, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3983b06d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@34817fcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5901757, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@632d8166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178826db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f04449a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505748a6, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@7e86ff3b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48531d5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@57be9aa4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3b6f7ab3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@51d2218e]] (8/9)
2025-12-22T16:20:14.468-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@64e064ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bfd4cd9, org.springframework.security.web.context.SecurityContextHolderFilter@4def8aaa, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.security.web.authentication.logout.LogoutFilter@4f1fb8fc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@91e76b6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6bd5ca02, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@759c0c14, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@262e2c8c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@4ae836cf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59f2a9e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43cc7bb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ffa3cdb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25db2007, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7fcbed77]] (9/9)
2025-12-22T16:20:14.468-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:20:14.468-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:20:14.469-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:20:14.469-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:20:14.469-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:20:14.469-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:20:14.469-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:20:14.469-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:20:14.470-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:20:14.470-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:20:14.470-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:20:14.470-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:20:14.470-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:20:14.471-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:20:14.471-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:20:14.472-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 7EEC89887CBAE386BDE41D7AE03A16D6 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:20:14.472-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:20:14.472-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:20:14.472-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:20:14.472-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:20:14.472-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:20:14.472-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:20:14.473-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:20:14.473-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:20:14.473-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:20:14.473-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:20:14.473-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:20:14.473-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000017aafafb8d8@23ab0df2
2025-12-22T16:20:14.476-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:20:14.480-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:20:14.483-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:20:14.808-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:20:14.809-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:20:14.810-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7EEC89887CBAE386BDE41D7AE03A16D6], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:20:18.778-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:20:18.779-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:20:18.779-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:20:18.779-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:20:18.779-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:20:18.779-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:20:18.779-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:20:18.779-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@16802145, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7688ba10, org.springframework.security.web.context.SecurityContextHolderFilter@26e74d50, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6e0d7be4, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.security.web.csrf.CsrfFilter@17c95612, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5d9576a0, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@6921e251, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4127dcdb, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@160a8986, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5a1c0bcc, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3983b06d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@34817fcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5901757, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@632d8166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178826db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f04449a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505748a6, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@7e86ff3b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48531d5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@57be9aa4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3b6f7ab3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@51d2218e]] (8/9)
2025-12-22T16:20:18.779-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@64e064ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bfd4cd9, org.springframework.security.web.context.SecurityContextHolderFilter@4def8aaa, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.security.web.authentication.logout.LogoutFilter@4f1fb8fc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@91e76b6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6bd5ca02, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@759c0c14, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@262e2c8c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@4ae836cf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59f2a9e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43cc7bb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ffa3cdb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25db2007, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7fcbed77]] (9/9)
2025-12-22T16:20:18.779-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-22T16:20:18.779-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:20:18.780-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:20:18.780-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:20:18.780-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:20:18.780-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:20:18.780-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:20:18.780-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:20:18.780-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:20:18.780-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:20:18.780-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:20:18.781-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T16:20:18.870-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-22T16:20:18.871-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 7EEC89887CBAE386BDE41D7AE03A16D6
2025-12-22T16:20:18.871-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@794b1daa] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7d9fe5cf]
2025-12-22T16:20:18.871-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@794b1daa
2025-12-22T16:20:18.872-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=YgVhYMRXARdAx6Y8Ryw-7_6VMDEqODNmMDS5VkgFMu4&code_challenge_method=S256&continue
2025-12-22T16:20:18.872-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:20:18.877-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:20:18.878-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:20:18.878-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:20:18.878-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:20:18.878-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:20:18.878-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:20:18.878-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:20:18.878-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@16802145, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7688ba10, org.springframework.security.web.context.SecurityContextHolderFilter@26e74d50, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6e0d7be4, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.security.web.csrf.CsrfFilter@17c95612, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5d9576a0, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@6921e251, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4127dcdb, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@160a8986, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5a1c0bcc, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3983b06d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@34817fcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5901757, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@632d8166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178826db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f04449a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505748a6, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@7e86ff3b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48531d5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@57be9aa4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3b6f7ab3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@51d2218e]] (8/9)
2025-12-22T16:20:18.879-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@64e064ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bfd4cd9, org.springframework.security.web.context.SecurityContextHolderFilter@4def8aaa, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.security.web.authentication.logout.LogoutFilter@4f1fb8fc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@91e76b6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6bd5ca02, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@759c0c14, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@262e2c8c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@4ae836cf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59f2a9e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43cc7bb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ffa3cdb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25db2007, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7fcbed77]] (9/9)
2025-12-22T16:20:18.879-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=YgVhYMRXARdAx6Y8Ryw-7_6VMDEqODNmMDS5VkgFMu4&code_challenge_method=S256&continue
2025-12-22T16:20:18.879-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:20:18.879-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:20:18.879-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:20:18.879-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:20:18.879-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:20:18.879-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:20:18.880-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:20:18.880-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:20:18.880-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:20:18.880-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:20:18.880-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:20:18.880-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:20:18.880-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:20:18.880-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:20:18.881-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@794b1daa] from SPRING_SECURITY_CONTEXT
2025-12-22T16:20:18.881-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:20:18.881-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:20:18.881-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:20:18.881-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Removing DefaultSavedRequest from session if present
2025-12-22T16:20:18.881-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=YgVhYMRXARdAx6Y8Ryw-7_6VMDEqODNmMDS5VkgFMu4&code_challenge_method=S256&continue
2025-12-22T16:20:18.883-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:20:18.883-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:20:18.883-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:20:18.883-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:20:18.883-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=YgVhYMRXARdAx6Y8Ryw-7_6VMDEqODNmMDS5VkgFMu4&code_challenge_method=S256&continue
2025-12-22T16:20:18.883-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=YgVhYMRXARdAx6Y8Ryw-7_6VMDEqODNmMDS5VkgFMu4&code_challenge_method=S256&continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@138a47d
2025-12-22T16:20:18.884-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@794b1daa
2025-12-22T16:20:18.885-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=YgVhYMRXARdAx6Y8Ryw-7_6VMDEqODNmMDS5VkgFMu4&code_challenge_method=S256&continue
2025-12-22T16:20:18.885-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/error?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauthorized&code_challenge=YgVhYMRXARdAx6Y8Ryw-7_6VMDEqODNmMDS5VkgFMu4&code_challenge_method=S256&continue", parameters={masked}
2025-12-22T16:20:18.886-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-12-22T16:20:18.913-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-22T16:20:18.913-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:20:52.812-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:20:52.812-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:20:52.812-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:20:52.812-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:20:52.812-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:20:52.812-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:20:52.812-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:20:52.812-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@16802145, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7688ba10, org.springframework.security.web.context.SecurityContextHolderFilter@26e74d50, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6e0d7be4, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.security.web.csrf.CsrfFilter@17c95612, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5d9576a0, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@6921e251, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4127dcdb, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@160a8986, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5a1c0bcc, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3983b06d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@34817fcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5901757, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@632d8166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178826db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f04449a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505748a6, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@7e86ff3b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48531d5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@57be9aa4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3b6f7ab3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@51d2218e]] (8/9)
2025-12-22T16:20:52.812-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@64e064ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bfd4cd9, org.springframework.security.web.context.SecurityContextHolderFilter@4def8aaa, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.security.web.authentication.logout.LogoutFilter@4f1fb8fc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@91e76b6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6bd5ca02, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@759c0c14, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@262e2c8c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@4ae836cf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59f2a9e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43cc7bb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ffa3cdb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25db2007, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7fcbed77]] (9/9)
2025-12-22T16:20:52.812-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:20:52.812-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:20:52.813-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:20:52.813-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:20:52.813-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:20:52.813-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:20:52.813-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:20:52.813-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:20:52.813-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:20:52.813-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:20:52.813-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:20:52.813-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:20:52.813-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:20:52.814-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:20:52.814-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:20:52.814-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@794b1daa] from SPRING_SECURITY_CONTEXT
2025-12-22T16:20:52.814-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:20:52.814-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:20:52.814-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:20:52.814-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:20:52.814-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:20:52.814-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:20:52.815-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:20:52.815-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:20:52.815-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:20:52.815-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000017aafafb8d8@23ab0df2
2025-12-22T16:20:52.816-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:20:52.816-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:20:52.817-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:20:52.818-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:20:52.820-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:20:52.821-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@794b1daa
2025-12-22T16:22:42.640-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:22:42.640-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:22:42.640-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:22:42.640-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:22:42.640-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:22:42.640-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:22:42.640-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:22:42.640-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@16802145, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7688ba10, org.springframework.security.web.context.SecurityContextHolderFilter@26e74d50, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6e0d7be4, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.security.web.csrf.CsrfFilter@17c95612, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5d9576a0, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@6921e251, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4127dcdb, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@160a8986, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5a1c0bcc, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3983b06d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@34817fcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5901757, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@632d8166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178826db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f04449a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505748a6, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@7e86ff3b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48531d5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@57be9aa4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3b6f7ab3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@51d2218e]] (8/9)
2025-12-22T16:22:42.640-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@64e064ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bfd4cd9, org.springframework.security.web.context.SecurityContextHolderFilter@4def8aaa, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.security.web.authentication.logout.LogoutFilter@4f1fb8fc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@91e76b6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6bd5ca02, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@759c0c14, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@262e2c8c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@4ae836cf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59f2a9e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43cc7bb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ffa3cdb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25db2007, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7fcbed77]] (9/9)
2025-12-22T16:22:42.641-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-22T16:22:42.641-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:22:42.641-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:22:42.641-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:22:42.641-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:22:42.641-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:22:42.641-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:22:42.641-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:22:42.641-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:22:42.641-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:22:42.641-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:22:42.641-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T16:22:42.719-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-22T16:22:42.719-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A862283B51112A3703CBDBA8A75AC341
2025-12-22T16:22:42.719-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4c157802] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7d9fe5cf]
2025-12-22T16:22:42.719-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@4c157802
2025-12-22T16:22:42.719-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /
2025-12-22T16:22:42.719-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:22:42.724-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:22:42.725-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:22:42.725-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:22:42.725-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:22:42.725-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:22:42.725-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:22:42.725-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:22:42.725-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@16802145, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7688ba10, org.springframework.security.web.context.SecurityContextHolderFilter@26e74d50, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6e0d7be4, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.security.web.csrf.CsrfFilter@17c95612, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5d9576a0, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@6921e251, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4127dcdb, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@160a8986, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5a1c0bcc, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3983b06d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@34817fcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5901757, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@632d8166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178826db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f04449a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505748a6, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@7e86ff3b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48531d5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@57be9aa4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3b6f7ab3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@51d2218e]] (8/9)
2025-12-22T16:22:42.725-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@64e064ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bfd4cd9, org.springframework.security.web.context.SecurityContextHolderFilter@4def8aaa, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.security.web.authentication.logout.LogoutFilter@4f1fb8fc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@91e76b6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6bd5ca02, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@759c0c14, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@262e2c8c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@4ae836cf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59f2a9e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43cc7bb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ffa3cdb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25db2007, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7fcbed77]] (9/9)
2025-12-22T16:22:42.725-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-22T16:22:42.725-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:22:42.726-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:22:42.726-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:22:42.726-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:22:42.726-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:22:42.727-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:22:42.727-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:22:42.727-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:22:42.727-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:22:42.727-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:22:42.727-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:22:42.727-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:22:42.727-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:22:42.727-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:22:42.727-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4c157802] from SPRING_SECURITY_CONTEXT
2025-12-22T16:22:42.727-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:22:42.727-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:22:42.727-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:22:42.728-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:22:42.728-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:22:42.728-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:22:42.728-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:22:42.728-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:22:42.728-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /
2025-12-22T16:22:42.728-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET / using org.springframework.security.authorization.AuthenticatedAuthorizationManager@138a47d
2025-12-22T16:22:42.728-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@4c157802
2025-12-22T16:22:42.728-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /
2025-12-22T16:22:42.729-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/", parameters={}
2025-12-22T16:22:42.729-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LoginViewController#paginaHome(Authentication)
2025-12-22T16:22:42.740-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/html', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [text/plain, */*, application/json, application/*+json]
2025-12-22T16:22:42.740-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing ["Ol gerente"]
2025-12-22T16:22:42.743-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:22:42.744-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:26:46.834-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:26:46.835-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:26:46.835-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:26:46.835-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:26:46.835-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:26:46.835-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:26:46.835-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:26:46.835-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@16802145, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7688ba10, org.springframework.security.web.context.SecurityContextHolderFilter@26e74d50, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6e0d7be4, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.security.web.csrf.CsrfFilter@17c95612, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5d9576a0, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@6921e251, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4127dcdb, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@160a8986, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5a1c0bcc, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3983b06d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@34817fcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5901757, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@632d8166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178826db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f04449a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505748a6, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@7e86ff3b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48531d5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@57be9aa4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3b6f7ab3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@51d2218e]] (8/9)
2025-12-22T16:26:46.835-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@64e064ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bfd4cd9, org.springframework.security.web.context.SecurityContextHolderFilter@4def8aaa, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.security.web.authentication.logout.LogoutFilter@4f1fb8fc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@91e76b6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6bd5ca02, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@759c0c14, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@262e2c8c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@4ae836cf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59f2a9e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43cc7bb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ffa3cdb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25db2007, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7fcbed77]] (9/9)
2025-12-22T16:26:46.835-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:26:46.835-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4c157802] from SPRING_SECURITY_CONTEXT
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:26:46.836-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:26:46.837-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:26:46.837-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000017aafafb8d8@23ab0df2
2025-12-22T16:26:46.837-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:26:46.837-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:26:46.837-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:26:46.838-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:26:46.840-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:26:46.840-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@4c157802
2025-12-22T16:26:50.668-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:26:50.668-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:26:50.668-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:26:50.668-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:26:50.668-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:26:50.668-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:26:50.668-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:26:50.668-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@16802145, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7688ba10, org.springframework.security.web.context.SecurityContextHolderFilter@26e74d50, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6e0d7be4, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.security.web.csrf.CsrfFilter@17c95612, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5d9576a0, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@6921e251, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4127dcdb, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@160a8986, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5a1c0bcc, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3983b06d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@34817fcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5901757, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@632d8166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178826db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f04449a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505748a6, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@7e86ff3b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48531d5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@57be9aa4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3b6f7ab3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@51d2218e]] (8/9)
2025-12-22T16:26:50.669-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=mMMaodXUbMENKQDO7L7V-sMRA4S7BwK06eefaQlyGEo&code_challenge_method=S256
2025-12-22T16:26:50.669-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:26:50.669-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:26:50.669-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:26:50.669-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:26:50.669-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:26:50.669-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:26:50.669-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4d162d67]]]
2025-12-22T16:26:50.669-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:26:50.669-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:26:50.670-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:26:50.670-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:26:50.670-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:26:50.670-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4c157802] from SPRING_SECURITY_CONTEXT
2025-12-22T16:26:50.670-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:26:50.677-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:26:50.678-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-3] zationCodeRequestAuthenticationValidator : Invalid request: requested scope is not allowed for registered client 'ec0329a3-d603-4081-b38e-b897ea37da24'
2025-12-22T16:26:50.678-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-3] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2025-12-22T16:26:50.678-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] .s.a.w.OAuth2AuthorizationEndpointFilter : Authorization request failed: [invalid_scope] OAuth 2.0 Parameter: scope

org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException: OAuth 2.0 Parameter: scope
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:228) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:205) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.validateScope(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:95) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at java.base/java.util.function.Consumer.lambda$andThen$0(Consumer.java:65) ~[na:na]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:79) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:55) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:133) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:26:50.679-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] .s.a.w.OAuth2AuthorizationEndpointFilter : Redirecting to client with error
2025-12-22T16:26:50.682-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/authorized?error=invalid_scope&error_description=OAuth%202.0%20Parameter%3A%20scope&error_uri=https%3A%2F%2Fdatatracker.ietf.org%2Fdoc%2Fhtml%2Frfc6749%23section-4.1.2.1
2025-12-22T16:26:50.682-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:26:59.080-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:26:59.081-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:26:59.081-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:26:59.081-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:26:59.081-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:26:59.081-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:26:59.081-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:26:59.081-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@16802145, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7688ba10, org.springframework.security.web.context.SecurityContextHolderFilter@26e74d50, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6e0d7be4, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.security.web.csrf.CsrfFilter@17c95612, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5d9576a0, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@6921e251, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4127dcdb, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@160a8986, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5a1c0bcc, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3983b06d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@34817fcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5901757, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@632d8166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178826db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f04449a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505748a6, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@7e86ff3b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48531d5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@57be9aa4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3b6f7ab3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@51d2218e]] (8/9)
2025-12-22T16:26:59.081-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=2DfwzHF9RhTSU9wfnkau37wZ6KAGkGdF-DaNOuqIlz4&code_challenge_method=S256
2025-12-22T16:26:59.081-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:26:59.081-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:26:59.081-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:26:59.081-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:26:59.082-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:26:59.082-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:26:59.082-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4d162d67]]]
2025-12-22T16:26:59.082-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:26:59.082-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:26:59.082-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:26:59.082-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:26:59.082-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:26:59.082-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4c157802] from SPRING_SECURITY_CONTEXT
2025-12-22T16:26:59.082-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:26:59.089-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:26:59.089-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-4] zationCodeRequestAuthenticationValidator : Invalid request: requested scope is not allowed for registered client 'ec0329a3-d603-4081-b38e-b897ea37da24'
2025-12-22T16:26:59.089-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-4] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2025-12-22T16:26:59.089-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] .s.a.w.OAuth2AuthorizationEndpointFilter : Authorization request failed: [invalid_scope] OAuth 2.0 Parameter: scope

org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException: OAuth 2.0 Parameter: scope
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:228) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.throwError(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:205) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.validateScope(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:95) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at java.base/java.util.function.Consumer.lambda$andThen$0(Consumer.java:65) ~[na:na]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:79) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationValidator.accept(OAuth2AuthorizationCodeRequestAuthenticationValidator.java:55) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:133) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:26:59.091-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] .s.a.w.OAuth2AuthorizationEndpointFilter : Redirecting to client with error
2025-12-22T16:26:59.091-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/authorized?error=invalid_scope&error_description=OAuth%202.0%20Parameter%3A%20scope&error_uri=https%3A%2F%2Fdatatracker.ietf.org%2Fdoc%2Fhtml%2Frfc6749%23section-4.1.2.1
2025-12-22T16:26:59.091-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:32:03.354-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:32:03.355-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:32:03.355-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:32:03.355-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:32:03.355-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:32:03.355-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:32:03.355-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:32:03.355-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@16802145, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7688ba10, org.springframework.security.web.context.SecurityContextHolderFilter@26e74d50, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6e0d7be4, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.security.web.csrf.CsrfFilter@17c95612, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5d9576a0, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@6921e251, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4127dcdb, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@160a8986, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5a1c0bcc, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3983b06d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@34817fcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5901757, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@632d8166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178826db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f04449a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505748a6, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@7e86ff3b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48531d5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@57be9aa4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3b6f7ab3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@51d2218e]] (8/9)
2025-12-22T16:32:03.355-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=JMeGSLFEOoRic1_x10W26bhq-iXeDXqv1uLKrwl0WDQ&code_challenge_method=S256
2025-12-22T16:32:03.355-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:32:03.355-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:32:03.355-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:32:03.355-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:32:03.355-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:32:03.355-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:32:03.356-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4d162d67]]]
2025-12-22T16:32:03.356-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:32:03.356-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:32:03.356-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:32:03.356-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:32:03.356-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:32:03.356-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4c157802] from SPRING_SECURITY_CONTEXT
2025-12-22T16:32:03.356-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:32:03.365-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:32:03.366-03:00 ERROR 24560 --- [libraryapi] [http-nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.IllegalArgumentException: scope "openid profile GERENTE" contains invalid characters
	at org.springframework.util.Assert.isTrue(Assert.java:111) ~[spring-core-6.1.13.jar:6.1.13]
	at org.springframework.security.oauth2.server.authorization.client.RegisteredClient$Builder.validateScopes(RegisteredClient.java:591) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.client.RegisteredClient$Builder.build(RegisteredClient.java:550) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at teste.estudos.libraryapi.security.CustomRegisteredClientRepository.findByClientId(CustomRegisteredClientRepository.java:50) ~[classes/:na]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:120) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:32:03.370-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:32:03.370-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:32:03.370-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:32:03.370-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:32:03.370-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:32:03.370-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:32:03.370-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:32:03.370-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@16802145, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7688ba10, org.springframework.security.web.context.SecurityContextHolderFilter@26e74d50, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6e0d7be4, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.security.web.csrf.CsrfFilter@17c95612, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5d9576a0, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@6921e251, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4127dcdb, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@160a8986, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5a1c0bcc, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3983b06d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@34817fcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5901757, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@632d8166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178826db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f04449a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505748a6, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@7e86ff3b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48531d5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@57be9aa4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3b6f7ab3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@51d2218e]] (8/9)
2025-12-22T16:32:03.370-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@64e064ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bfd4cd9, org.springframework.security.web.context.SecurityContextHolderFilter@4def8aaa, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.security.web.authentication.logout.LogoutFilter@4f1fb8fc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@91e76b6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6bd5ca02, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@759c0c14, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@262e2c8c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@4ae836cf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59f2a9e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43cc7bb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ffa3cdb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25db2007, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7fcbed77]] (9/9)
2025-12-22T16:32:03.370-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=JMeGSLFEOoRic1_x10W26bhq-iXeDXqv1uLKrwl0WDQ&code_challenge_method=S256
2025-12-22T16:32:03.370-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=JMeGSLFEOoRic1_x10W26bhq-iXeDXqv1uLKrwl0WDQ&code_challenge_method=S256
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=JMeGSLFEOoRic1_x10W26bhq-iXeDXqv1uLKrwl0WDQ&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@138a47d
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4c157802] from SPRING_SECURITY_CONTEXT
2025-12-22T16:32:03.371-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@4c157802
2025-12-22T16:32:03.372-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=JMeGSLFEOoRic1_x10W26bhq-iXeDXqv1uLKrwl0WDQ&code_challenge_method=S256
2025-12-22T16:32:03.372-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=JMeGSLFEOoRic1_x10W26bhq-iXeDXqv1uLKrwl0WDQ&code_challenge_method=S256", parameters={masked}
2025-12-22T16:32:03.372-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-12-22T16:32:03.376-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-12-22T16:32:07.611-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:32:07.611-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:32:07.611-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:32:07.611-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:32:07.611-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:32:07.611-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:32:07.611-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:32:07.611-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@16802145, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7688ba10, org.springframework.security.web.context.SecurityContextHolderFilter@26e74d50, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6e0d7be4, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.security.web.csrf.CsrfFilter@17c95612, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5d9576a0, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@6921e251, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4127dcdb, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@160a8986, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5a1c0bcc, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3983b06d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@34817fcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5901757, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@632d8166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178826db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f04449a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505748a6, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@7e86ff3b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48531d5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@57be9aa4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3b6f7ab3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@51d2218e]] (8/9)
2025-12-22T16:32:07.612-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=DGoB0IJCHxrumK3muGZ8xVHaDHTua7vh8En2o-fJ1ls&code_challenge_method=S256
2025-12-22T16:32:07.612-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:32:07.612-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:32:07.612-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:32:07.612-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:32:07.613-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:32:07.613-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:32:07.613-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4d162d67]]]
2025-12-22T16:32:07.613-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:32:07.613-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:32:07.613-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:32:07.613-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:32:07.613-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:32:07.614-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4c157802] from SPRING_SECURITY_CONTEXT
2025-12-22T16:32:07.614-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:32:07.621-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:32:07.622-03:00 ERROR 24560 --- [libraryapi] [http-nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.IllegalArgumentException: scope "openid profile GERENTE" contains invalid characters
	at org.springframework.util.Assert.isTrue(Assert.java:111) ~[spring-core-6.1.13.jar:6.1.13]
	at org.springframework.security.oauth2.server.authorization.client.RegisteredClient$Builder.validateScopes(RegisteredClient.java:591) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.client.RegisteredClient$Builder.build(RegisteredClient.java:550) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at teste.estudos.libraryapi.security.CustomRegisteredClientRepository.findByClientId(CustomRegisteredClientRepository.java:50) ~[classes/:na]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:120) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:32:07.624-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:32:07.624-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:32:07.624-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:32:07.624-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:32:07.624-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:32:07.624-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:32:07.624-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:32:07.624-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017aafafb2a0@28322fd3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@16802145, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7688ba10, org.springframework.security.web.context.SecurityContextHolderFilter@26e74d50, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@6e0d7be4, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.security.web.csrf.CsrfFilter@17c95612, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5d9576a0, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@6921e251, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4127dcdb, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@160a8986, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5a1c0bcc, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@3983b06d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@34817fcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5901757, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@632d8166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178826db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f04449a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505748a6, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@7e86ff3b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48531d5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@57be9aa4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1cb3de26, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3b6f7ab3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@51d2218e]] (8/9)
2025-12-22T16:32:07.624-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@64e064ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bfd4cd9, org.springframework.security.web.context.SecurityContextHolderFilter@4def8aaa, org.springframework.security.web.header.HeaderWriterFilter@63f79099, org.springframework.security.web.authentication.logout.LogoutFilter@4f1fb8fc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@91e76b6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6bd5ca02, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@759c0c14, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@262e2c8c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@4ae836cf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59f2a9e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43cc7bb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ffa3cdb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25db2007, org.springframework.security.web.access.ExceptionTranslationFilter@68628510, org.springframework.security.web.access.intercept.AuthorizationFilter@7fcbed77]] (9/9)
2025-12-22T16:32:07.625-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=DGoB0IJCHxrumK3muGZ8xVHaDHTua7vh8En2o-fJ1ls&code_challenge_method=S256
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:32:07.625-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:32:07.626-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:32:07.626-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=DGoB0IJCHxrumK3muGZ8xVHaDHTua7vh8En2o-fJ1ls&code_challenge_method=S256
2025-12-22T16:32:07.626-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=DGoB0IJCHxrumK3muGZ8xVHaDHTua7vh8En2o-fJ1ls&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@138a47d
2025-12-22T16:32:07.626-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@4c157802] from SPRING_SECURITY_CONTEXT
2025-12-22T16:32:07.626-03:00 TRACE 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@4c157802
2025-12-22T16:32:07.626-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=DGoB0IJCHxrumK3muGZ8xVHaDHTua7vh8En2o-fJ1ls&code_challenge_method=S256
2025-12-22T16:32:07.627-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=DGoB0IJCHxrumK3muGZ8xVHaDHTua7vh8En2o-fJ1ls&code_challenge_method=S256", parameters={masked}
2025-12-22T16:32:07.628-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-12-22T16:32:07.629-03:00 DEBUG 24560 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-12-22T16:32:19.121-03:00  INFO 29808 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 29808 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-22T16:32:19.123-03:00 DEBUG 29808 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-22T16:32:19.124-03:00  INFO 29808 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-22T16:32:24.596-03:00 DEBUG 29808 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-22T16:32:24.598-03:00 DEBUG 29808 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-22T16:32:25.062-03:00  WARN 29808 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-22T16:32:25.103-03:00 TRACE 29808 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@7d2c9b65, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@e316971}
2025-12-22T16:32:25.106-03:00  INFO 29808 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-22T16:32:25.301-03:00 DEBUG 29808 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-22T16:32:25.325-03:00 DEBUG 29808 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T16:32:25.365-03:00 DEBUG 29808 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T16:32:26.377-03:00 DEBUG 29808 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021a1bafcfe8@8dba70a with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-22T16:32:26.470-03:00 DEBUG 29808 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-22T16:32:26.486-03:00  WARN 29808 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:32:26.486-03:00 DEBUG 29808 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-22T16:32:26.487-03:00  WARN 29808 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:32:26.487-03:00 DEBUG 29808 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-22T16:32:26.487-03:00  WARN 29808 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:32:26.487-03:00 DEBUG 29808 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-22T16:32:26.487-03:00  WARN 29808 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:32:26.487-03:00 DEBUG 29808 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-22T16:32:26.487-03:00  WARN 29808 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:32:26.488-03:00 DEBUG 29808 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-22T16:32:26.488-03:00  WARN 29808 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:32:26.488-03:00 DEBUG 29808 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-22T16:32:26.488-03:00  WARN 29808 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:32:26.488-03:00 DEBUG 29808 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-22T16:32:26.570-03:00 DEBUG 29808 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T16:32:26.628-03:00 DEBUG 29808 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-22T16:32:27.683-03:00 DEBUG 29808 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-22T16:32:27.685-03:00 DEBUG 29808 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T16:32:27.690-03:00 DEBUG 29808 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T16:32:27.701-03:00 DEBUG 29808 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T16:32:27.721-03:00  INFO 29808 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 9.129 seconds (process running for 10.099)
2025-12-22T16:32:28.028-03:00  INFO 29808 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-22T16:32:28.029-03:00 DEBUG 29808 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-22T16:32:28.029-03:00 DEBUG 29808 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-22T16:32:28.029-03:00 DEBUG 29808 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-22T16:32:28.031-03:00 DEBUG 29808 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@432e61f1
2025-12-22T16:32:28.032-03:00 DEBUG 29808 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@13ecedf6
2025-12-22T16:32:28.033-03:00 DEBUG 29808 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-22T16:32:28.033-03:00  INFO 29808 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-12-22T16:32:30.646-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:32:30.647-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:32:30.648-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:32:30.648-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:32:30.648-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:32:30.648-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:32:30.648-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:32:30.648-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021a1bafcfe8@8dba70a, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19af6807, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a8e132f, org.springframework.security.web.context.SecurityContextHolderFilter@504521ae, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@36f807f5, org.springframework.security.web.header.HeaderWriterFilter@5f04449a, org.springframework.security.web.csrf.CsrfFilter@2700609f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@da51aa8, org.springframework.security.web.authentication.logout.LogoutFilter@4f517209, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4947b8a7, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@793937ec, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5f27d271, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5901757, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2a71d430, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@efbc6a1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2246bfd1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@239fdf8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36cc6055, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46a444a2, org.springframework.security.web.access.ExceptionTranslationFilter@3a1dc432, org.springframework.security.web.access.intercept.AuthorizationFilter@9353d68, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@5127de08, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2381a837, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@74ae2dec, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3983b06d]] (8/9)
2025-12-22T16:32:30.649-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=N9CgMJ2WZKNpNuQKcFToxxo2sYF6PxiNTKztdVN2JvA&code_challenge_method=S256
2025-12-22T16:32:30.652-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:32:30.656-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:32:30.659-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:32:30.661-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:32:30.667-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:32:30.670-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:32:30.674-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021a1bafcfe8@8dba70a, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@455082d2]]]
2025-12-22T16:32:30.674-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:32:30.674-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:32:30.674-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:32:30.674-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:32:30.675-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:32:30.678-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T16:32:30.679-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:32:30.679-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:32:30.682-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:32:30.887-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:32:30.889-03:00 ERROR 29808 --- [libraryapi] [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.IllegalArgumentException: scope "openid profile GERENTE" contains invalid characters
	at org.springframework.util.Assert.isTrue(Assert.java:111) ~[spring-core-6.1.13.jar:6.1.13]
	at org.springframework.security.oauth2.server.authorization.client.RegisteredClient$Builder.validateScopes(RegisteredClient.java:591) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.client.RegisteredClient$Builder.build(RegisteredClient.java:550) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at teste.estudos.libraryapi.security.CustomRegisteredClientRepository.findByClientId(CustomRegisteredClientRepository.java:50) ~[classes/:na]
	at org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationProvider.authenticate(OAuth2AuthorizationCodeRequestAuthenticationProvider.java:120) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:185) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:32:30.902-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:32:30.902-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:32:30.903-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:32:30.903-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:32:30.903-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:32:30.903-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:32:30.903-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:32:30.903-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021a1bafcfe8@8dba70a, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19af6807, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a8e132f, org.springframework.security.web.context.SecurityContextHolderFilter@504521ae, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@36f807f5, org.springframework.security.web.header.HeaderWriterFilter@5f04449a, org.springframework.security.web.csrf.CsrfFilter@2700609f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@da51aa8, org.springframework.security.web.authentication.logout.LogoutFilter@4f517209, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4947b8a7, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@793937ec, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5f27d271, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5901757, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2a71d430, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@efbc6a1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2246bfd1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@239fdf8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36cc6055, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46a444a2, org.springframework.security.web.access.ExceptionTranslationFilter@3a1dc432, org.springframework.security.web.access.intercept.AuthorizationFilter@9353d68, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@5127de08, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2381a837, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@74ae2dec, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3983b06d]] (8/9)
2025-12-22T16:32:30.903-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4a8e4cd7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30b375f4, org.springframework.security.web.context.SecurityContextHolderFilter@2e2b1310, org.springframework.security.web.header.HeaderWriterFilter@7fcbed77, org.springframework.security.web.authentication.logout.LogoutFilter@564b86b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@207b0d48, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7ff48cdc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@545ffe1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@68f4c6e7, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@fbc1de9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4c39eac6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b3247f8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d56b7f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53b5082a, org.springframework.security.web.access.ExceptionTranslationFilter@333ab718, org.springframework.security.web.access.intercept.AuthorizationFilter@23faae85]] (9/9)
2025-12-22T16:32:30.904-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=N9CgMJ2WZKNpNuQKcFToxxo2sYF6PxiNTKztdVN2JvA&code_challenge_method=S256
2025-12-22T16:32:30.904-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:32:30.905-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:32:30.905-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:32:30.905-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:32:30.905-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:32:30.905-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:32:30.905-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:32:30.905-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:32:30.905-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:32:30.906-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:32:30.906-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:32:30.906-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:32:30.906-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:32:30.906-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:32:30.906-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:32:30.907-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:32:30.907-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:32:30.909-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:32:30.910-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:32:30.910-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:32:30.912-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=N9CgMJ2WZKNpNuQKcFToxxo2sYF6PxiNTKztdVN2JvA&code_challenge_method=S256
2025-12-22T16:32:30.913-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=N9CgMJ2WZKNpNuQKcFToxxo2sYF6PxiNTKztdVN2JvA&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@490e573c
2025-12-22T16:32:30.913-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T16:32:30.913-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:32:30.913-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:32:30.914-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:32:30.918-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:308) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:32:30.948-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=N9CgMJ2WZKNpNuQKcFToxxo2sYF6PxiNTKztdVN2JvA&code_challenge_method=S256&continue to session
2025-12-22T16:32:30.951-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4c04188, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T16:32:30.952-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4f6938cb
2025-12-22T16:32:30.953-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T16:32:30.962-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:32:30.962-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:32:30.962-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:32:30.963-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:32:30.963-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:32:30.963-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:32:30.963-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:32:30.963-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021a1bafcfe8@8dba70a, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19af6807, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a8e132f, org.springframework.security.web.context.SecurityContextHolderFilter@504521ae, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@36f807f5, org.springframework.security.web.header.HeaderWriterFilter@5f04449a, org.springframework.security.web.csrf.CsrfFilter@2700609f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@da51aa8, org.springframework.security.web.authentication.logout.LogoutFilter@4f517209, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4947b8a7, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@793937ec, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5f27d271, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5901757, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2a71d430, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@efbc6a1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2246bfd1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@239fdf8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36cc6055, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46a444a2, org.springframework.security.web.access.ExceptionTranslationFilter@3a1dc432, org.springframework.security.web.access.intercept.AuthorizationFilter@9353d68, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@5127de08, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2381a837, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@74ae2dec, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3983b06d]] (8/9)
2025-12-22T16:32:30.963-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4a8e4cd7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30b375f4, org.springframework.security.web.context.SecurityContextHolderFilter@2e2b1310, org.springframework.security.web.header.HeaderWriterFilter@7fcbed77, org.springframework.security.web.authentication.logout.LogoutFilter@564b86b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@207b0d48, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7ff48cdc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@545ffe1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@68f4c6e7, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@fbc1de9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4c39eac6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b3247f8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d56b7f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53b5082a, org.springframework.security.web.access.ExceptionTranslationFilter@333ab718, org.springframework.security.web.access.intercept.AuthorizationFilter@23faae85]] (9/9)
2025-12-22T16:32:30.963-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:32:30.963-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:32:30.964-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:32:30.964-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:32:30.964-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:32:30.964-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:32:30.964-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:32:30.964-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:32:30.965-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:32:30.965-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:32:30.965-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:32:30.965-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:32:30.965-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:32:30.966-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:32:30.966-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:32:30.966-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession DE35F83F78059EA46C6CAFB81441B7C1 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:32:30.966-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:32:30.966-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:32:30.966-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:32:30.967-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:32:30.967-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:32:30.967-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:32:30.967-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:32:30.967-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:32:30.967-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:32:30.967-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:32:30.967-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:32:30.968-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000021a1bafd620@c73e592
2025-12-22T16:32:30.970-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:32:30.972-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:32:30.974-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:32:31.253-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:32:31.255-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:32:31.256-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=DE35F83F78059EA46C6CAFB81441B7C1], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:32:36.497-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:32:36.498-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:32:36.498-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:32:36.498-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:32:36.498-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:32:36.498-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:32:36.499-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:32:36.499-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021a1bafcfe8@8dba70a, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19af6807, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a8e132f, org.springframework.security.web.context.SecurityContextHolderFilter@504521ae, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@36f807f5, org.springframework.security.web.header.HeaderWriterFilter@5f04449a, org.springframework.security.web.csrf.CsrfFilter@2700609f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@da51aa8, org.springframework.security.web.authentication.logout.LogoutFilter@4f517209, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4947b8a7, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@793937ec, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5f27d271, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5901757, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2a71d430, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@efbc6a1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2246bfd1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@239fdf8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36cc6055, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46a444a2, org.springframework.security.web.access.ExceptionTranslationFilter@3a1dc432, org.springframework.security.web.access.intercept.AuthorizationFilter@9353d68, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@5127de08, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2381a837, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@74ae2dec, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3983b06d]] (8/9)
2025-12-22T16:32:36.499-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4a8e4cd7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30b375f4, org.springframework.security.web.context.SecurityContextHolderFilter@2e2b1310, org.springframework.security.web.header.HeaderWriterFilter@7fcbed77, org.springframework.security.web.authentication.logout.LogoutFilter@564b86b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@207b0d48, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7ff48cdc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@545ffe1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@68f4c6e7, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@fbc1de9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4c39eac6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b3247f8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d56b7f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53b5082a, org.springframework.security.web.access.ExceptionTranslationFilter@333ab718, org.springframework.security.web.access.intercept.AuthorizationFilter@23faae85]] (9/9)
2025-12-22T16:32:36.499-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-22T16:32:36.499-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:32:36.499-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:32:36.499-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:32:36.501-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:32:36.501-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:32:36.501-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:32:36.501-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:32:36.501-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:32:36.501-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:32:36.501-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:32:36.502-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T16:32:36.591-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-22T16:32:36.592-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from DE35F83F78059EA46C6CAFB81441B7C1
2025-12-22T16:32:36.593-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@1aa90892] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3c876b0e]
2025-12-22T16:32:36.593-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@1aa90892
2025-12-22T16:32:36.594-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=N9CgMJ2WZKNpNuQKcFToxxo2sYF6PxiNTKztdVN2JvA&code_challenge_method=S256&continue
2025-12-22T16:32:36.594-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:32:36.599-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:32:36.599-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:32:36.599-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:32:36.599-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:32:36.599-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:32:36.599-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:32:36.600-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:32:36.600-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021a1bafcfe8@8dba70a, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19af6807, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a8e132f, org.springframework.security.web.context.SecurityContextHolderFilter@504521ae, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@36f807f5, org.springframework.security.web.header.HeaderWriterFilter@5f04449a, org.springframework.security.web.csrf.CsrfFilter@2700609f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@da51aa8, org.springframework.security.web.authentication.logout.LogoutFilter@4f517209, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4947b8a7, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@793937ec, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@28ea7f58, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5f27d271, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5901757, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2a71d430, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@efbc6a1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2246bfd1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@239fdf8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36cc6055, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46a444a2, org.springframework.security.web.access.ExceptionTranslationFilter@3a1dc432, org.springframework.security.web.access.intercept.AuthorizationFilter@9353d68, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@5127de08, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@72b8b04f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2381a837, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@74ae2dec, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3983b06d]] (8/9)
2025-12-22T16:32:36.600-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4a8e4cd7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30b375f4, org.springframework.security.web.context.SecurityContextHolderFilter@2e2b1310, org.springframework.security.web.header.HeaderWriterFilter@7fcbed77, org.springframework.security.web.authentication.logout.LogoutFilter@564b86b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@207b0d48, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7ff48cdc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@545ffe1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@68f4c6e7, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@fbc1de9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4c39eac6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b3247f8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d56b7f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53b5082a, org.springframework.security.web.access.ExceptionTranslationFilter@333ab718, org.springframework.security.web.access.intercept.AuthorizationFilter@23faae85]] (9/9)
2025-12-22T16:32:36.600-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=N9CgMJ2WZKNpNuQKcFToxxo2sYF6PxiNTKztdVN2JvA&code_challenge_method=S256&continue
2025-12-22T16:32:36.600-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:32:36.600-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:32:36.600-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:32:36.600-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:32:36.600-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:32:36.601-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:32:36.601-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:32:36.601-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:32:36.601-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:32:36.601-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:32:36.601-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:32:36.601-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:32:36.601-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:32:36.601-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:32:36.601-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@1aa90892] from SPRING_SECURITY_CONTEXT
2025-12-22T16:32:36.601-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:32:36.601-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:32:36.601-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:32:36.601-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Removing DefaultSavedRequest from session if present
2025-12-22T16:32:36.601-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=N9CgMJ2WZKNpNuQKcFToxxo2sYF6PxiNTKztdVN2JvA&code_challenge_method=S256&continue
2025-12-22T16:32:36.602-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:32:36.603-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:32:36.603-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:32:36.603-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:32:36.603-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=N9CgMJ2WZKNpNuQKcFToxxo2sYF6PxiNTKztdVN2JvA&code_challenge_method=S256&continue
2025-12-22T16:32:36.604-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=N9CgMJ2WZKNpNuQKcFToxxo2sYF6PxiNTKztdVN2JvA&code_challenge_method=S256&continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@490e573c
2025-12-22T16:32:36.604-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@1aa90892
2025-12-22T16:32:36.605-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=N9CgMJ2WZKNpNuQKcFToxxo2sYF6PxiNTKztdVN2JvA&code_challenge_method=S256&continue
2025-12-22T16:32:36.606-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/error?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=N9CgMJ2WZKNpNuQKcFToxxo2sYF6PxiNTKztdVN2JvA&code_challenge_method=S256&continue", parameters={masked}
2025-12-22T16:32:36.607-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-12-22T16:32:36.629-03:00 DEBUG 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-22T16:32:36.630-03:00 TRACE 29808 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:34:15.973-03:00  INFO 29748 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 29748 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-22T16:34:15.975-03:00 DEBUG 29748 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-22T16:34:15.976-03:00  INFO 29748 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-22T16:34:21.077-03:00 DEBUG 29748 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-22T16:34:21.079-03:00 DEBUG 29748 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-22T16:34:21.531-03:00  WARN 29748 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-22T16:34:21.562-03:00 TRACE 29748 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@2a12048d, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@30dbcffd}
2025-12-22T16:34:21.564-03:00  INFO 29748 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-22T16:34:21.711-03:00 DEBUG 29748 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-22T16:34:21.736-03:00 DEBUG 29748 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T16:34:21.789-03:00 DEBUG 29748 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T16:34:23.128-03:00 DEBUG 29748 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-22T16:34:23.220-03:00 DEBUG 29748 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-22T16:34:23.235-03:00  WARN 29748 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:34:23.235-03:00 DEBUG 29748 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-22T16:34:23.235-03:00  WARN 29748 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:34:23.236-03:00 DEBUG 29748 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-22T16:34:23.236-03:00  WARN 29748 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:34:23.236-03:00 DEBUG 29748 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-22T16:34:23.236-03:00  WARN 29748 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:34:23.236-03:00 DEBUG 29748 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-22T16:34:23.236-03:00  WARN 29748 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:34:23.236-03:00 DEBUG 29748 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-22T16:34:23.236-03:00  WARN 29748 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:34:23.236-03:00 DEBUG 29748 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-22T16:34:23.236-03:00  WARN 29748 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:34:23.236-03:00 DEBUG 29748 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-22T16:34:23.318-03:00 DEBUG 29748 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T16:34:23.374-03:00 DEBUG 29748 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-22T16:34:24.346-03:00 DEBUG 29748 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-22T16:34:24.347-03:00 DEBUG 29748 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T16:34:24.353-03:00 DEBUG 29748 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T16:34:24.362-03:00 DEBUG 29748 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T16:34:24.383-03:00  INFO 29748 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 8.901 seconds (process running for 9.644)
2025-12-22T16:34:24.699-03:00  INFO 29748 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-22T16:34:24.700-03:00 DEBUG 29748 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-22T16:34:24.700-03:00 DEBUG 29748 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-22T16:34:24.700-03:00 DEBUG 29748 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-22T16:34:24.702-03:00 DEBUG 29748 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@24e5a4e0
2025-12-22T16:34:24.703-03:00 DEBUG 29748 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@15500a8
2025-12-22T16:34:24.704-03:00 DEBUG 29748 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-22T16:34:24.704-03:00  INFO 29748 --- [libraryapi] [RMI TCP Connection(1)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-12-22T16:34:28.332-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:34:28.334-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:34:28.334-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:34:28.335-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:34:28.335-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:34:28.335-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:34:28.335-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:34:28.335-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:34:28.336-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6eb610a3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64104d58, org.springframework.security.web.context.SecurityContextHolderFilter@7c9a39cb, org.springframework.security.web.header.HeaderWriterFilter@7bbd133c, org.springframework.security.web.authentication.logout.LogoutFilter@687313e1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3d44da41, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@8508dae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6eaf016e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ef99072, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@7c2d4398, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4cda8d3b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7e93497d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1fba15d7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b4981f6, org.springframework.security.web.access.ExceptionTranslationFilter@595713f3, org.springframework.security.web.access.intercept.AuthorizationFilter@6b5df313]] (9/9)
2025-12-22T16:34:28.336-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:34:28.339-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:34:28.344-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:34:28.346-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:34:28.348-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:34:28.349-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:34:28.350-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:34:28.350-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:34:28.350-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:34:28.350-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:34:28.350-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:34:28.350-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:34:28.350-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:34:28.351-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:34:28.351-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:34:28.351-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T16:34:28.351-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:34:28.352-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:34:28.352-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:34:28.352-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:34:28.352-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:34:28.352-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:34:28.352-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:34:28.353-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:34:28.354-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:34:28.355-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:34:28.356-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:34:28.356-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001ca01afede8@51b9af8c
2025-12-22T16:34:28.361-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:34:28.364-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:34:28.366-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:34:28.639-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:34:28.643-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:34:28.645-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:34:32.539-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:34:32.540-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:34:32.541-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:34:32.541-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:34:32.541-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:34:32.541-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:34:32.541-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:34:32.541-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:34:32.541-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=eZ18LFBnv74zZo_BFp4Z0c67mSndVLY8-bjciv-nuj8&code_challenge_method=S256
2025-12-22T16:34:32.542-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:34:32.542-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:34:32.542-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:34:32.542-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:34:32.548-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:34:32.548-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:34:32.550-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7]]]
2025-12-22T16:34:32.550-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:34:32.550-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:34:32.550-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:34:32.550-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:34:32.551-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:34:32.553-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T16:34:32.554-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:34:32.554-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:34:32.556-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:34:32.737-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:34:32.738-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-22T16:34:32.738-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-12-22T16:34:32.739-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-12-22T16:34:32.739-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-12-22T16:34:32.739-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-12-22T16:34:32.740-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-12-22T16:34:32.740-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-12-22T16:34:32.740-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:34:32.740-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-12-22T16:34:32.740-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:34:32.741-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-12-22T16:34:32.741-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:34:32.742-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-12-22T16:34:32.742-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-12-22T16:34:32.743-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-12-22T16:34:32.743-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-12-22T16:34:32.743-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=eZ18LFBnv74zZo_BFp4Z0c67mSndVLY8-bjciv-nuj8&code_challenge_method=S256
2025-12-22T16:34:32.744-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=eZ18LFBnv74zZo_BFp4Z0c67mSndVLY8-bjciv-nuj8&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@754977f8
2025-12-22T16:34:32.745-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:34:32.750-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:34:32.780-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=eZ18LFBnv74zZo_BFp4Z0c67mSndVLY8-bjciv-nuj8&code_challenge_method=S256&continue to session
2025-12-22T16:34:32.781-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-12-22T16:34:32.786-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4d4f6121, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4d4f6121, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4d4f6121, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-22T16:34:32.787-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4d4f6121, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T16:34:32.787-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@5d4f0fd5
2025-12-22T16:34:32.789-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T16:34:32.789-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:34:32.799-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:34:32.799-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:34:32.799-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:34:32.799-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:34:32.799-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:34:32.799-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:34:32.799-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:34:32.800-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:34:32.800-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6eb610a3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64104d58, org.springframework.security.web.context.SecurityContextHolderFilter@7c9a39cb, org.springframework.security.web.header.HeaderWriterFilter@7bbd133c, org.springframework.security.web.authentication.logout.LogoutFilter@687313e1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3d44da41, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@8508dae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6eaf016e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ef99072, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@7c2d4398, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4cda8d3b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7e93497d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1fba15d7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b4981f6, org.springframework.security.web.access.ExceptionTranslationFilter@595713f3, org.springframework.security.web.access.intercept.AuthorizationFilter@6b5df313]] (9/9)
2025-12-22T16:34:32.800-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:34:32.800-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:34:32.800-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:34:32.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:34:32.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:34:32.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:34:32.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:34:32.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:34:32.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:34:32.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:34:32.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:34:32.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:34:32.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:34:32.802-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:34:32.802-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:34:32.802-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession E466B37EB9183813502B5A95B700F4D3 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:34:32.802-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:34:32.802-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:34:32.802-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:34:32.802-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:34:32.802-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:34:32.802-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:34:32.802-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:34:32.802-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:34:32.802-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:34:32.802-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:34:32.803-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:34:32.803-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001ca01afede8@51b9af8c
2025-12-22T16:34:32.803-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:34:32.804-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:34:32.804-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:34:32.805-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:34:32.807-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:34:32.807-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E466B37EB9183813502B5A95B700F4D3], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:34:36.674-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:34:36.675-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:34:36.675-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:34:36.675-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:34:36.675-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:34:36.675-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:34:36.675-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:34:36.675-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:34:36.676-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6eb610a3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64104d58, org.springframework.security.web.context.SecurityContextHolderFilter@7c9a39cb, org.springframework.security.web.header.HeaderWriterFilter@7bbd133c, org.springframework.security.web.authentication.logout.LogoutFilter@687313e1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3d44da41, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@8508dae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6eaf016e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ef99072, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@7c2d4398, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4cda8d3b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7e93497d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1fba15d7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b4981f6, org.springframework.security.web.access.ExceptionTranslationFilter@595713f3, org.springframework.security.web.access.intercept.AuthorizationFilter@6b5df313]] (9/9)
2025-12-22T16:34:36.676-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-22T16:34:36.677-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:34:36.677-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:34:36.678-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:34:36.678-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:34:36.678-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:34:36.678-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:34:36.678-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:34:36.678-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:34:36.678-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:34:36.678-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:34:36.680-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T16:34:36.765-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-22T16:34:36.765-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E466B37EB9183813502B5A95B700F4D3
2025-12-22T16:34:36.766-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@c57f67] to HttpSession [org.apache.catalina.session.StandardSessionFacade@204ce2d4]
2025-12-22T16:34:36.766-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@c57f67
2025-12-22T16:34:36.767-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=eZ18LFBnv74zZo_BFp4Z0c67mSndVLY8-bjciv-nuj8&code_challenge_method=S256&continue
2025-12-22T16:34:36.767-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:34:36.772-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:34:36.772-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:34:36.772-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:34:36.772-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:34:36.772-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:34:36.773-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:34:36.773-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:34:36.773-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:34:36.773-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=eZ18LFBnv74zZo_BFp4Z0c67mSndVLY8-bjciv-nuj8&code_challenge_method=S256&continue
2025-12-22T16:34:36.773-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:34:36.773-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:34:36.773-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:34:36.773-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:34:36.774-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:34:36.774-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:34:36.774-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7]]]
2025-12-22T16:34:36.774-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:34:36.774-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:34:36.774-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:34:36.774-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:34:36.774-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:34:36.775-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@c57f67] from SPRING_SECURITY_CONTEXT
2025-12-22T16:34:36.775-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:34:36.779-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:34:36.779-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-22T16:34:36.788-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-12-22T16:34:36.789-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] izationCodeRequestAuthenticationProvider : Saved authorization
2025-12-22T16:34:36.789-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-12-22T16:34:36.790-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.core.session.SessionRegistryImpl   : Registering session 6D9BE24408FC4F51EA851144851A4D16, for principal Usuario(id=ef8a0519-3f66-453f-9542-4a97a91a0363, login=gerente, senha=$2a$10$6YtOpXqcRgzC3arsw7emo.Sd.ZikCSk5BHpGAtGt1B.yv5M3bRYXO, email=gerente@universidade.br, roles=[GERENTE], telefone=null)
2025-12-22T16:34:36.790-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.core.session.SessionRegistryImpl   : Sessions used by 'Usuario(id=ef8a0519-3f66-453f-9542-4a97a91a0363, login=gerente, senha=$2a$10$6YtOpXqcRgzC3arsw7emo.Sd.ZikCSk5BHpGAtGt1B.yv5M3bRYXO, email=gerente@universidade.br, roles=[GERENTE], telefone=null)' : [6D9BE24408FC4F51EA851144851A4D16]
2025-12-22T16:34:36.791-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/authorized?code=31XOnNt3d1LchZiDNB41kUefBiTyBv-QpprwuZ432zMEAal1sofuZk5HL9a7XgJcWkk8_273kBV8GwT9goIUvNvdE-S6KIXj9AFep1l7ZsDzK_iunEFmKjMUsWdjvWr_
2025-12-22T16:34:36.791-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:41:22.064-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:41:22.064-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:41:22.064-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:41:22.064-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:41:22.064-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:41:22.065-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:41:22.065-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:41:22.065-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:41:22.065-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6eb610a3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64104d58, org.springframework.security.web.context.SecurityContextHolderFilter@7c9a39cb, org.springframework.security.web.header.HeaderWriterFilter@7bbd133c, org.springframework.security.web.authentication.logout.LogoutFilter@687313e1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3d44da41, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@8508dae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6eaf016e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2ef99072, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@7c2d4398, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4cda8d3b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7e93497d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1fba15d7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b4981f6, org.springframework.security.web.access.ExceptionTranslationFilter@595713f3, org.springframework.security.web.access.intercept.AuthorizationFilter@6b5df313]] (9/9)
2025-12-22T16:41:22.065-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:41:22.065-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:41:22.065-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:41:22.065-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:41:22.066-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:41:22.066-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:41:22.066-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:41:22.066-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:41:22.066-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:41:22.066-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:41:22.066-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:41:22.067-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:41:22.067-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:41:22.067-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:41:22.067-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:41:22.067-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@c57f67] from SPRING_SECURITY_CONTEXT
2025-12-22T16:41:22.067-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:41:22.067-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:41:22.067-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:41:22.067-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:41:22.068-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:41:22.068-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:41:22.068-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:41:22.068-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:41:22.068-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:41:22.068-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001ca01afede8@51b9af8c
2025-12-22T16:41:22.069-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:41:22.069-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:41:22.069-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:41:22.072-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:41:22.073-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:41:22.074-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@c57f67
2025-12-22T16:43:46.987-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:43:46.987-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:43:46.988-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:43:46.988-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:43:46.988-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:43:46.988-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:43:46.988-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:43:46.988-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:43:46.988-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=lzRWZQsZMFD2slJh_UTKJWVX2UkbUjUZR8h-2-9cxWA&code_challenge_method=S256
2025-12-22T16:43:46.989-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:43:46.989-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:43:46.989-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:43:46.989-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:43:46.989-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:43:46.989-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:43:46.990-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7]]]
2025-12-22T16:43:46.990-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:43:46.990-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:43:46.990-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:43:46.990-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:43:46.990-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:43:46.990-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@c57f67] from SPRING_SECURITY_CONTEXT
2025-12-22T16:43:46.991-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:43:46.998-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:43:46.998-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-22T16:43:46.999-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-12-22T16:43:46.999-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Saved authorization
2025-12-22T16:43:46.999-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-12-22T16:43:46.999-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/authorized?code=UqMyICcoUeXmxMEYcYZhwblh3-2zZkY_TImo-c009-FCiBfK5a1jB5yMHKl8xbycXfR35YvsBABdGQvhcCMtlwdwngqNUE4B560Bp2EEXB9hb7yZjwMy6l7wF4n7FGR3
2025-12-22T16:43:46.999-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:43:52.935-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:43:52.935-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:43:52.935-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:43:52.935-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:43:52.935-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:43:52.935-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:43:52.935-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:43:52.935-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:43:52.935-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=2oHaOIUB4IMi_uoUWyCBEtSG7wnUIpQcU6XsTaNBpS8&code_challenge_method=S256
2025-12-22T16:43:52.936-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:43:52.936-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:43:52.936-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:43:52.936-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:43:52.936-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:43:52.936-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:43:52.936-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7]]]
2025-12-22T16:43:52.937-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:43:52.937-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:43:52.937-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:43:52.937-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:43:52.937-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:43:52.937-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@c57f67] from SPRING_SECURITY_CONTEXT
2025-12-22T16:43:52.938-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:43:52.944-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:43:52.944-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-22T16:43:52.945-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-12-22T16:43:52.945-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Saved authorization
2025-12-22T16:43:52.945-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-12-22T16:43:52.945-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/authorized?code=RY4g_IrGJRFikeUsgOm47rSuyV2P3WzWhMKdpFkAKkox61-qqeJgnm5etInd2gcNW6wzVC9COfYZqen3KfUhnVJC6fij-kE4oIk0tiaEQOkwoF2HbZh4_Xs9XdI5sNRv
2025-12-22T16:43:52.945-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:44:34.152-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:44:34.153-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:44:34.153-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:44:34.153-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:44:34.153-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:44:34.153-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:44:34.153-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:44:34.153-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:44:34.153-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=USsWWDlwWJN2fqFXWqA9tA6lErGR7bBowazEA5JH7lc&code_challenge_method=S256
2025-12-22T16:44:34.153-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:44:34.154-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:44:34.154-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:44:34.154-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:44:34.154-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:44:34.154-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:44:34.154-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7]]]
2025-12-22T16:44:34.154-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:44:34.154-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:44:34.154-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:44:34.154-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:44:34.154-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:44:34.155-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@c57f67] from SPRING_SECURITY_CONTEXT
2025-12-22T16:44:34.155-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:44:34.162-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:44:34.162-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-22T16:44:34.162-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-12-22T16:44:34.163-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] izationCodeRequestAuthenticationProvider : Saved authorization
2025-12-22T16:44:34.163-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-12-22T16:44:34.163-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/authorized?code=aKrhAOXnuMT4R_V8JHC-Jg3gs-mpbEaHUSMZwP0fU82IQu08BWPM0EWA_BTZ0SxAgjDxy0lOY-qvCT047yK1EykzZjn0wNzaPmO7DJvcwIsbPdTUCiLyhPDB9Rggn9gL
2025-12-22T16:44:34.163-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:44:34.498-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:44:34.501-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:44:34.503-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:44:34.503-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:44:34.504-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:44:34.504-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:44:34.504-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:44:34.505-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:44:34.506-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-12-22T16:44:34.506-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:44:34.508-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:44:34.509-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:44:34.510-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:44:34.512-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:44:34.512-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:44:34.514-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7]]]
2025-12-22T16:44:34.516-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:44:34.517-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:44:34.518-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:44:34.518-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:44:34.519-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:44:34.521-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-12-22T16:44:34.522-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-12-22T16:44:34.522-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-12-22T16:44:34.522-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-12-22T16:44:34.526-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-12-22T16:44:34.527-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-12-22T16:44:34.528-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-12-22T16:44:34.528-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with PublicClientAuthenticationProvider (4/20)
2025-12-22T16:44:34.560-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-4] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.core.OAuth2AuthenticationException
2025-12-22T16:44:34.561-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.a.w.OAuth2ClientAuthenticationFilter : Client authentication failed: [invalid_client] Client authentication failed: client_id

org.springframework.security.oauth2.core.OAuth2AuthenticationException: Client authentication failed: client_id
	at org.springframework.security.oauth2.server.authorization.authentication.PublicClientAuthenticationProvider.throwInvalidClient(PublicClientAuthenticationProvider.java:117) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.PublicClientAuthenticationProvider.authenticate(PublicClientAuthenticationProvider.java:82) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:141) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:175) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:44:34.592-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:45:20.918-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:45:20.918-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:45:20.918-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:45:20.918-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:45:20.918-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:45:20.918-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:45:20.918-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:45:20.918-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:45:20.918-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-12-22T16:45:20.919-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:45:20.919-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:45:20.919-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:45:20.919-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:45:20.920-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:45:20.920-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:45:20.920-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7]]]
2025-12-22T16:45:20.920-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:45:20.920-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:45:20.920-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:45:20.920-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:45:20.920-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:45:20.920-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-12-22T16:45:20.920-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-12-22T16:45:20.920-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-12-22T16:45:20.921-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-12-22T16:45:20.922-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-12-22T16:45:20.922-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-12-22T16:45:20.922-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-12-22T16:45:20.922-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with PublicClientAuthenticationProvider (4/20)
2025-12-22T16:45:20.930-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] s.a.a.PublicClientAuthenticationProvider : Retrieved registered client
2025-12-22T16:45:20.930-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-2] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.core.OAuth2AuthenticationException
2025-12-22T16:45:20.931-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.a.w.OAuth2ClientAuthenticationFilter : Client authentication failed: [invalid_client] Client authentication failed: authentication_method

org.springframework.security.oauth2.core.OAuth2AuthenticationException: Client authentication failed: authentication_method
	at org.springframework.security.oauth2.server.authorization.authentication.PublicClientAuthenticationProvider.throwInvalidClient(PublicClientAuthenticationProvider.java:117) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.PublicClientAuthenticationProvider.authenticate(PublicClientAuthenticationProvider.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:141) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:175) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:45:20.933-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:45:23.056-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:45:23.056-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:45:23.056-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:45:23.056-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:45:23.056-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:45:23.056-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:45:23.056-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:45:23.056-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:45:23.057-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=VKc_KtVIM2xO-0c08O05K_95z_0Q7lQcTpG_khXUJh4&code_challenge_method=S256
2025-12-22T16:45:23.057-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:45:23.057-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:45:23.057-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:45:23.057-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:45:23.057-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:45:23.057-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:45:23.057-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7]]]
2025-12-22T16:45:23.058-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:45:23.058-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:45:23.058-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:45:23.058-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:45:23.058-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:45:23.058-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@c57f67] from SPRING_SECURITY_CONTEXT
2025-12-22T16:45:23.059-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:45:23.065-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:45:23.065-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-22T16:45:23.065-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-12-22T16:45:23.065-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] izationCodeRequestAuthenticationProvider : Saved authorization
2025-12-22T16:45:23.066-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-12-22T16:45:23.066-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/authorized?code=s3LquOaVdEaP679Vq79X1tk9SDJwc-5vL-3494zT2p5WmossTyojxw-TZSX6Psc3abJIP7tPPKAFSyKr0PslRRRLu8fLR7Dy9Y6_A2oDC4iOCCFZEMVx2TQrZIPy1NYz
2025-12-22T16:45:23.066-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:45:23.356-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:45:23.358-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:45:23.359-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:45:23.360-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:45:23.360-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:45:23.360-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:45:23.360-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:45:23.360-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:45:23.361-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-12-22T16:45:23.362-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:45:23.362-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:45:23.362-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:45:23.362-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:45:23.363-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:45:23.363-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:45:23.364-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7]]]
2025-12-22T16:45:23.364-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:45:23.364-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:45:23.364-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:45:23.364-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:45:23.364-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:45:23.364-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-12-22T16:45:23.364-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-12-22T16:45:23.364-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-12-22T16:45:23.364-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-12-22T16:45:23.365-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-12-22T16:45:23.366-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-12-22T16:45:23.366-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-12-22T16:45:23.366-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with PublicClientAuthenticationProvider (4/20)
2025-12-22T16:45:23.376-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] s.a.a.PublicClientAuthenticationProvider : Retrieved registered client
2025-12-22T16:45:23.377-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-8] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.core.OAuth2AuthenticationException
2025-12-22T16:45:23.378-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.a.w.OAuth2ClientAuthenticationFilter : Client authentication failed: [invalid_client] Client authentication failed: authentication_method

org.springframework.security.oauth2.core.OAuth2AuthenticationException: Client authentication failed: authentication_method
	at org.springframework.security.oauth2.server.authorization.authentication.PublicClientAuthenticationProvider.throwInvalidClient(PublicClientAuthenticationProvider.java:117) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.PublicClientAuthenticationProvider.authenticate(PublicClientAuthenticationProvider.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:141) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:175) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:45:23.383-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:45:41.269-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:45:41.270-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:45:41.270-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:45:41.270-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:45:41.270-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:45:41.270-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:45:41.270-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:45:41.270-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:45:41.270-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-12-22T16:45:41.270-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:45:41.271-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:45:41.271-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:45:41.271-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:45:41.271-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:45:41.271-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:45:41.271-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7]]]
2025-12-22T16:45:41.271-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:45:41.271-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:45:41.271-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:45:41.271-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:45:41.272-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:45:41.272-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-12-22T16:45:41.272-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-12-22T16:45:41.272-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-12-22T16:45:41.272-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-12-22T16:45:41.273-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-12-22T16:45:41.273-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-12-22T16:45:41.273-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-12-22T16:45:41.274-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with PublicClientAuthenticationProvider (4/20)
2025-12-22T16:45:41.282-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] s.a.a.PublicClientAuthenticationProvider : Retrieved registered client
2025-12-22T16:45:41.282-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-3] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.core.OAuth2AuthenticationException
2025-12-22T16:45:41.282-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.a.w.OAuth2ClientAuthenticationFilter : Client authentication failed: [invalid_client] Client authentication failed: authentication_method

org.springframework.security.oauth2.core.OAuth2AuthenticationException: Client authentication failed: authentication_method
	at org.springframework.security.oauth2.server.authorization.authentication.PublicClientAuthenticationProvider.throwInvalidClient(PublicClientAuthenticationProvider.java:117) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.PublicClientAuthenticationProvider.authenticate(PublicClientAuthenticationProvider.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:141) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:175) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:45:41.284-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:45:43.673-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:45:43.673-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:45:43.673-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:45:43.673-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:45:43.673-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:45:43.673-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:45:43.673-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:45:43.673-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:45:43.674-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=CGXjuN_MNLL4sTDUqULkaZfvBxI-zNcojsL69rT4UVU&code_challenge_method=S256
2025-12-22T16:45:43.674-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:45:43.674-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:45:43.674-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:45:43.674-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:45:43.674-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:45:43.674-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:45:43.674-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7]]]
2025-12-22T16:45:43.674-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:45:43.674-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:45:43.674-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:45:43.674-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:45:43.674-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:45:43.675-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@c57f67] from SPRING_SECURITY_CONTEXT
2025-12-22T16:45:43.675-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:45:43.682-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:45:43.682-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-22T16:45:43.682-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-12-22T16:45:43.682-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] izationCodeRequestAuthenticationProvider : Saved authorization
2025-12-22T16:45:43.682-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-12-22T16:45:43.682-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/authorized?code=huxuzBdjKpTs2wL0AOi9au620lNiAygdaj00eBaGR4rxrFH5BcOZ148Y3rhELYxmNlxo5_Z5HxWyukrXjnpN3-gniC1IXUvTOqfrMNkB9qH4kp4JCzrL3tZrEU2ZV2z6
2025-12-22T16:45:43.683-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:45:43.960-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:45:43.961-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:45:43.961-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:45:43.962-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:45:43.962-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:45:43.962-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:45:43.962-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:45:43.962-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:45:43.962-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-12-22T16:45:43.963-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:45:43.963-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:45:43.963-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:45:43.964-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:45:43.964-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:45:43.965-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:45:43.965-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7]]]
2025-12-22T16:45:43.965-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:45:43.966-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:45:43.966-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:45:43.966-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:45:43.966-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:45:43.967-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-12-22T16:45:43.967-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-12-22T16:45:43.967-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-12-22T16:45:43.967-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-12-22T16:45:43.969-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-12-22T16:45:43.969-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-12-22T16:45:43.969-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-12-22T16:45:43.969-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with PublicClientAuthenticationProvider (4/20)
2025-12-22T16:45:43.980-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] s.a.a.PublicClientAuthenticationProvider : Retrieved registered client
2025-12-22T16:45:43.981-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-1] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.core.OAuth2AuthenticationException
2025-12-22T16:45:43.982-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.a.w.OAuth2ClientAuthenticationFilter : Client authentication failed: [invalid_client] Client authentication failed: authentication_method

org.springframework.security.oauth2.core.OAuth2AuthenticationException: Client authentication failed: authentication_method
	at org.springframework.security.oauth2.server.authorization.authentication.PublicClientAuthenticationProvider.throwInvalidClient(PublicClientAuthenticationProvider.java:117) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.PublicClientAuthenticationProvider.authenticate(PublicClientAuthenticationProvider.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:141) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:175) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:45:43.987-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:49:49.738-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:49:49.738-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:49:49.738-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:49:49.738-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:49:49.738-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:49:49.738-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:49:49.738-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:49:49.738-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:49:49.738-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-12-22T16:49:49.738-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:49:49.739-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:49:49.739-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:49:49.739-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:49:49.739-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:49:49.739-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:49:49.739-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7]]]
2025-12-22T16:49:49.739-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:49:49.739-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:49:49.739-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:49:49.739-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:49:49.739-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:49:49.739-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-12-22T16:49:49.740-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-12-22T16:49:49.740-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-12-22T16:49:49.740-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-12-22T16:49:49.740-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-12-22T16:49:49.740-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-12-22T16:49:49.740-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-12-22T16:49:49.740-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with PublicClientAuthenticationProvider (4/20)
2025-12-22T16:49:49.748-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] s.a.a.PublicClientAuthenticationProvider : Retrieved registered client
2025-12-22T16:49:49.748-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-5] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.core.OAuth2AuthenticationException
2025-12-22T16:49:49.748-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.a.w.OAuth2ClientAuthenticationFilter : Client authentication failed: [invalid_client] Client authentication failed: authentication_method

org.springframework.security.oauth2.core.OAuth2AuthenticationException: Client authentication failed: authentication_method
	at org.springframework.security.oauth2.server.authorization.authentication.PublicClientAuthenticationProvider.throwInvalidClient(PublicClientAuthenticationProvider.java:117) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.PublicClientAuthenticationProvider.authenticate(PublicClientAuthenticationProvider.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:141) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:175) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:49:49.750-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:49:53.800-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:49:53.800-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:49:53.800-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:49:53.800-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:49:53.800-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:49:53.800-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:49:53.800-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:49:53.800-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:49:53.800-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=2C8VRuD7l0E_M3aQp-0MrLNKwBxykvP6fy3DiNlF_Lw&code_challenge_method=S256
2025-12-22T16:49:53.800-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:49:53.800-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:49:53.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:49:53.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:49:53.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:49:53.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:49:53.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7]]]
2025-12-22T16:49:53.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:49:53.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:49:53.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:49:53.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:49:53.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:49:53.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@c57f67] from SPRING_SECURITY_CONTEXT
2025-12-22T16:49:53.801-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:49:53.808-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:49:53.808-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-22T16:49:53.808-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-12-22T16:49:53.808-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Saved authorization
2025-12-22T16:49:53.808-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-12-22T16:49:53.809-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/authorized?code=KDxl00AeovKdx3HqsicUfaR-tNLzy0aSV9bOJd2joiTaf2Zo6JspVOmh0AgFq7y1ogaqR_CDUjmxOAIrAseyaqzlygvLwh_ZbTxpCSrFWUj1tDwqO7-4tSORODGfh6Vi
2025-12-22T16:49:53.809-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:49:54.089-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:49:54.092-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:49:54.092-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:49:54.093-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:49:54.095-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:49:54.096-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:49:54.096-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:49:54.096-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@790e6441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7735166a, org.springframework.security.web.context.SecurityContextHolderFilter@28b5cee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2416378c, org.springframework.security.web.header.HeaderWriterFilter@6cd7d05, org.springframework.security.web.csrf.CsrfFilter@4f517209, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@1377e395, org.springframework.security.web.authentication.logout.LogoutFilter@1030ce34, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@71639428, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7be29ac4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@c360f40, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@58fef400, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4734a551, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3f27a95b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@416dd4d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a12cb2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@252d690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13ae0ffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4999ac66, org.springframework.security.web.access.ExceptionTranslationFilter@3e6b8b27, org.springframework.security.web.access.intercept.AuthorizationFilter@62c41ad, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2799f9a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ef3b7ac, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@129a20d8, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@a555005]] (8/9)
2025-12-22T16:49:54.097-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-12-22T16:49:54.098-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:49:54.098-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:49:54.098-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:49:54.099-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:49:54.099-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:49:54.099-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:49:54.099-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca01afe7b0@2411cf8b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@b7b5e7]]]
2025-12-22T16:49:54.100-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:49:54.100-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:49:54.100-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:49:54.100-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:49:54.100-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:49:54.100-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-12-22T16:49:54.100-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-12-22T16:49:54.101-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-12-22T16:49:54.101-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-12-22T16:49:54.104-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-12-22T16:49:54.105-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-12-22T16:49:54.107-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-12-22T16:49:54.108-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with PublicClientAuthenticationProvider (4/20)
2025-12-22T16:49:54.120-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.PublicClientAuthenticationProvider : Retrieved registered client
2025-12-22T16:49:54.122-03:00 DEBUG 29748 --- [libraryapi] [http-nio-8080-exec-7] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.core.OAuth2AuthenticationException
2025-12-22T16:49:54.122-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.a.w.OAuth2ClientAuthenticationFilter : Client authentication failed: [invalid_client] Client authentication failed: authentication_method

org.springframework.security.oauth2.core.OAuth2AuthenticationException: Client authentication failed: authentication_method
	at org.springframework.security.oauth2.server.authorization.authentication.PublicClientAuthenticationProvider.throwInvalidClient(PublicClientAuthenticationProvider.java:117) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.PublicClientAuthenticationProvider.authenticate(PublicClientAuthenticationProvider.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:141) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:175) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:49:54.127-03:00 TRACE 29748 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:52:06.418-03:00  INFO 30084 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 30084 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-22T16:52:06.420-03:00 DEBUG 30084 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-22T16:52:06.421-03:00  INFO 30084 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-22T16:52:11.890-03:00 DEBUG 30084 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-22T16:52:11.891-03:00 DEBUG 30084 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-22T16:52:12.348-03:00  WARN 30084 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-22T16:52:12.380-03:00 TRACE 30084 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@295e9aef, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@613aeb51}
2025-12-22T16:52:12.382-03:00  INFO 30084 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-22T16:52:12.564-03:00 DEBUG 30084 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-22T16:52:12.592-03:00 DEBUG 30084 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T16:52:12.633-03:00 DEBUG 30084 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T16:52:14.274-03:00 DEBUG 30084 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-22T16:52:14.456-03:00 DEBUG 30084 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-22T16:52:14.474-03:00  WARN 30084 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:52:14.474-03:00 DEBUG 30084 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-22T16:52:14.474-03:00  WARN 30084 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:52:14.474-03:00 DEBUG 30084 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-22T16:52:14.474-03:00  WARN 30084 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:52:14.474-03:00 DEBUG 30084 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-22T16:52:14.474-03:00  WARN 30084 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:52:14.474-03:00 DEBUG 30084 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-22T16:52:14.474-03:00  WARN 30084 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:52:14.474-03:00 DEBUG 30084 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-22T16:52:14.474-03:00  WARN 30084 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:52:14.474-03:00 DEBUG 30084 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-22T16:52:14.474-03:00  WARN 30084 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:52:14.511-03:00 DEBUG 30084 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-22T16:52:14.679-03:00 DEBUG 30084 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T16:52:14.816-03:00 DEBUG 30084 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-22T16:52:15.985-03:00 DEBUG 30084 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-22T16:52:15.987-03:00 DEBUG 30084 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T16:52:15.992-03:00 DEBUG 30084 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T16:52:16.003-03:00 DEBUG 30084 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T16:52:16.026-03:00  INFO 30084 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 10.269 seconds (process running for 11.212)
2025-12-22T16:52:16.177-03:00  INFO 30084 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-22T16:52:16.177-03:00 DEBUG 30084 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-22T16:52:16.178-03:00 DEBUG 30084 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-22T16:52:16.179-03:00 DEBUG 30084 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-22T16:52:16.181-03:00 DEBUG 30084 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3e13a74
2025-12-22T16:52:16.183-03:00 DEBUG 30084 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@12aa9370
2025-12-22T16:52:16.183-03:00 DEBUG 30084 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-22T16:52:16.183-03:00  INFO 30084 --- [libraryapi] [RMI TCP Connection(4)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-12-22T16:52:18.231-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:18.233-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:18.233-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:18.234-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:18.234-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:18.235-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:18.235-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:18.236-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:18.237-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=n0nlcptQK_ffJ9AammYUByDGD7M23HsuHmP0xmkoR5k&code_challenge_method=S256
2025-12-22T16:52:18.240-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:52:18.245-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:52:18.247-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:52:18.249-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:52:18.255-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:52:18.257-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:52:18.259-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@52e296c0]]]
2025-12-22T16:52:18.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:52:18.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:52:18.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:52:18.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:52:18.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:52:18.263-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T16:52:18.263-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:52:18.263-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:52:18.266-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:52:18.493-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:52:18.495-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-22T16:52:18.495-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-12-22T16:52:18.498-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-12-22T16:52:18.498-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-12-22T16:52:18.499-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-12-22T16:52:18.499-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-12-22T16:52:18.499-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-12-22T16:52:18.499-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:18.499-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-12-22T16:52:18.499-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:52:18.499-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-12-22T16:52:18.500-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:18.500-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-12-22T16:52:18.501-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-12-22T16:52:18.501-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-12-22T16:52:18.502-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-12-22T16:52:18.503-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=n0nlcptQK_ffJ9AammYUByDGD7M23HsuHmP0xmkoR5k&code_challenge_method=S256
2025-12-22T16:52:18.504-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=n0nlcptQK_ffJ9AammYUByDGD7M23HsuHmP0xmkoR5k&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2aad7adc
2025-12-22T16:52:18.504-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:52:18.509-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:52:18.538-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=n0nlcptQK_ffJ9AammYUByDGD7M23HsuHmP0xmkoR5k&code_challenge_method=S256&continue to session
2025-12-22T16:52:18.538-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-12-22T16:52:18.540-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@52e296c0, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-22T16:52:18.541-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T16:52:18.541-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@11303cb
2025-12-22T16:52:18.543-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T16:52:18.543-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:52:18.554-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:18.555-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:18.555-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:18.555-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:18.556-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:18.556-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:18.556-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:18.556-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:18.556-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:18.556-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:52:18.556-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:18.557-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:18.557-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:18.557-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:18.557-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:18.557-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:18.557-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:18.557-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:18.557-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:18.557-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:18.558-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:18.558-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:18.558-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:52:18.558-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:18.558-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession C62C48F7861837CE1998FE5051EAC23E using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:52:18.558-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:52:18.558-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:52:18.558-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:18.559-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:52:18.559-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:18.559-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:18.559-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:18.559-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:18.559-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:18.559-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:18.559-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:52:18.559-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000154afacfcb0@1552524f
2025-12-22T16:52:18.564-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:52:18.567-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:52:18.569-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:52:18.861-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:52:18.863-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:52:18.864-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C62C48F7861837CE1998FE5051EAC23E], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:52:18.919-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:18.919-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:18.919-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:18.920-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:18.920-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:18.920-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:18.920-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:18.920-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:18.920-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:18.920-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:52:18.921-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:18.921-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:18.922-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:18.923-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:18.923-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:18.924-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:18.924-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:18.924-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:18.924-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:18.925-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:18.925-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:18.925-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:18.925-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:52:18.926-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:18.926-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession C62C48F7861837CE1998FE5051EAC23E using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:52:18.926-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:52:18.926-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:52:18.927-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:18.928-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:52:18.928-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:18.928-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:18.929-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:18.929-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:18.929-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:18.929-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:18.929-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:52:18.930-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@14e1fe4e
2025-12-22T16:52:18.930-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C62C48F7861837CE1998FE5051EAC23E], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:52:18.931-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C62C48F7861837CE1998FE5051EAC23E], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:52:18.934-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json?continue to session
2025-12-22T16:52:18.934-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T16:52:18.934-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-22T16:52:18.934-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@7b4fbedb
2025-12-22T16:52:18.934-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-22T16:52:18.934-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@55dcf475
2025-12-22T16:52:18.935-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:52:18.946-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:18.947-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:18.947-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:18.947-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:18.947-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:18.947-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:18.947-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:18.947-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:18.947-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:18.947-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-22T16:52:18.947-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:18.948-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:18.948-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:18.948-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:18.948-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:18.948-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:18.948-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:18.948-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:18.948-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:18.949-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:18.949-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:18.949-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:18.949-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:18.949-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:18.949-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:18.949-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:18.949-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:18.949-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:18.949-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:18.949-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:18.950-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-22T16:52:18.950-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@14e1fe4e
2025-12-22T16:52:18.950-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession C62C48F7861837CE1998FE5051EAC23E using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:52:18.950-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:52:18.950-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:52:18.950-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C62C48F7861837CE1998FE5051EAC23E], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:52:18.951-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C62C48F7861837CE1998FE5051EAC23E], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:52:18.953-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-12-22T16:52:18.953-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T16:52:18.954-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-22T16:52:18.954-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@7b4fbedb
2025-12-22T16:52:18.954-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-22T16:52:18.954-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@55dcf475
2025-12-22T16:52:19.002-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:19.003-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:19.003-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:19.003-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:19.003-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:19.003-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:19.003-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:19.005-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:19.005-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:19.006-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-12-22T16:52:19.006-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:19.007-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:19.007-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:19.008-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:19.008-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:19.008-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:19.008-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:19.008-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:19.008-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:19.008-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:19.008-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:19.009-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:19.009-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:52:19.009-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:19.010-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession C62C48F7861837CE1998FE5051EAC23E using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:52:19.010-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:52:19.010-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:52:19.010-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:19.011-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:52:19.011-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:19.011-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:19.011-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:19.012-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:19.012-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:19.012-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:19.013-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /favicon.ico
2025-12-22T16:52:19.014-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /favicon.ico using org.springframework.security.authorization.AuthenticatedAuthorizationManager@14e1fe4e
2025-12-22T16:52:19.014-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C62C48F7861837CE1998FE5051EAC23E], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:52:19.014-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C62C48F7861837CE1998FE5051EAC23E], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:52:19.016-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-12-22T16:52:19.016-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@257f1509, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T16:52:19.016-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@6ca95b1e
2025-12-22T16:52:19.017-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T16:52:19.017-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:52:19.021-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:19.022-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:19.022-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:19.022-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:19.022-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:19.022-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:19.022-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:19.022-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:19.022-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:19.022-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:52:19.022-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:19.022-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:19.022-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:19.022-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:19.022-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:19.023-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:19.023-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:19.023-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:19.023-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:19.023-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:19.023-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:19.023-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:19.024-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:52:19.024-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:19.024-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession C62C48F7861837CE1998FE5051EAC23E using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:52:19.024-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:52:19.024-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:52:19.024-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:19.024-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:52:19.024-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:19.024-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:19.024-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:19.024-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:19.024-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:19.024-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:19.024-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:52:19.024-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000154afacfcb0@1552524f
2025-12-22T16:52:19.024-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:52:19.025-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:52:19.025-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:52:19.026-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:52:19.027-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:52:19.027-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C62C48F7861837CE1998FE5051EAC23E], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:52:27.236-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:27.236-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:27.236-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:27.236-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:27.236-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:27.236-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:27.236-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:27.236-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:27.236-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:27.237-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-22T16:52:27.237-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:27.237-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:27.237-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:27.237-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:27.237-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:27.237-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:27.237-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:27.237-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:27.237-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:27.238-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:27.238-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T16:52:27.324-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-22T16:52:27.325-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C62C48F7861837CE1998FE5051EAC23E
2025-12-22T16:52:27.326-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f] to HttpSession [org.apache.catalina.session.StandardSessionFacade@42b2e4da]
2025-12-22T16:52:27.326-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f
2025-12-22T16:52:27.326-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/error?continue
2025-12-22T16:52:27.326-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:52:27.332-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:27.332-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:27.332-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:27.332-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:27.332-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:27.332-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:27.332-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:27.332-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:27.332-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:27.332-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error?continue
2025-12-22T16:52:27.332-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:27.332-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:27.332-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:27.332-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:27.333-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:27.333-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:27.333-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:27.333-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:27.333-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:27.333-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:27.333-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:27.333-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:27.333-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:52:27.333-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:27.333-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f] from SPRING_SECURITY_CONTEXT
2025-12-22T16:52:27.333-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:27.333-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:52:27.333-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:27.333-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : Removing DefaultSavedRequest from session if present
2025-12-22T16:52:27.333-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/error?continue
2025-12-22T16:52:27.334-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:27.335-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:27.335-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:27.335-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:27.335-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?continue
2025-12-22T16:52:27.335-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@14e1fe4e
2025-12-22T16:52:27.335-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f
2025-12-22T16:52:27.337-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error?continue
2025-12-22T16:52:27.337-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/error?continue", parameters={masked}
2025-12-22T16:52:27.338-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-22T16:52:27.362-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-22T16:52:27.363-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Dec 22 16:52:27 BRT 2025, status=999, error=None}]
2025-12-22T16:52:27.373-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:52:27.375-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-22T16:52:27.405-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:27.406-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:27.406-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:27.406-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:27.406-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:27.406-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:27.406-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:27.406-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:27.406-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:27.406-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:52:27.406-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:27.406-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:27.407-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:27.407-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:27.407-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:27.407-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:27.407-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:27.407-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:27.407-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:27.407-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:27.407-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:27.407-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:27.408-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:52:27.408-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:27.408-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f] from SPRING_SECURITY_CONTEXT
2025-12-22T16:52:27.408-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:27.408-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:52:27.408-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:27.408-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:27.408-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:27.409-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:27.409-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:27.409-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:27.409-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:52:27.409-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@14e1fe4e
2025-12-22T16:52:27.409-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f
2025-12-22T16:52:27.410-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:52:27.410-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-22T16:52:27.411-03:00  WARN 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:52:27.414-03:00  WARN 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-12-22T16:52:27.414-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:52:27.415-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-12-22T16:52:27.415-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-22T16:52:27.416-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:27.416-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:27.416-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:27.416-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:27.416-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:27.416-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:27.416-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:27.416-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:27.416-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:27.416-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-22T16:52:27.416-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@14e1fe4e
2025-12-22T16:52:27.417-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f] from SPRING_SECURITY_CONTEXT
2025-12-22T16:52:27.418-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f
2025-12-22T16:52:27.418-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-22T16:52:27.418-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-22T16:52:27.418-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-22T16:52:27.419-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-22T16:52:27.419-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Dec 22 16:52:27 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-22T16:52:27.422-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-22T16:52:27.443-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:27.444-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:27.444-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:27.444-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:27.444-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:27.444-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:27.444-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:27.444-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:27.444-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:27.444-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-12-22T16:52:27.445-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:27.445-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:27.445-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:27.445-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:27.445-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:27.445-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:27.445-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:27.445-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:27.445-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:27.445-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:27.445-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:27.445-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:27.445-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:52:27.446-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:27.446-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f] from SPRING_SECURITY_CONTEXT
2025-12-22T16:52:27.446-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:27.446-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:52:27.446-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:27.446-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:27.446-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:27.446-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:27.446-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:27.446-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:27.446-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /favicon.ico
2025-12-22T16:52:27.446-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /favicon.ico using org.springframework.security.authorization.AuthenticatedAuthorizationManager@14e1fe4e
2025-12-22T16:52:27.447-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f
2025-12-22T16:52:27.447-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /favicon.ico
2025-12-22T16:52:27.447-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/favicon.ico", parameters={}
2025-12-22T16:52:27.448-03:00  WARN 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No mapping for GET /favicon.ico
2025-12-22T16:52:27.448-03:00  WARN 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No endpoint GET /favicon.ico.
2025-12-22T16:52:27.448-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:52:27.449-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /favicon.ico.]
2025-12-22T16:52:27.449-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-22T16:52:27.450-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:27.450-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:27.450-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:27.450-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:27.450-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:27.450-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:27.450-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:27.450-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:27.450-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:27.450-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-22T16:52:27.450-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:27.450-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:27.450-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:27.450-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:27.450-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@14e1fe4e
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f] from SPRING_SECURITY_CONTEXT
2025-12-22T16:52:27.451-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f
2025-12-22T16:52:27.451-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-22T16:52:27.451-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-22T16:52:27.452-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-22T16:52:27.452-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-12-22T16:52:27.454-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Dec 22 16:52:27 BRT 2025, status=404, error=Not Found, path=/favicon.ico}]
2025-12-22T16:52:27.458-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-22T16:52:34.732-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:34.732-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:34.732-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:34.732-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:34.732-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:34.732-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:34.732-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:34.732-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:34.732-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:34.733-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f] from SPRING_SECURITY_CONTEXT
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:34.733-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:34.734-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:52:34.734-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000154afacfcb0@1552524f
2025-12-22T16:52:34.734-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:52:34.734-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:52:34.734-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:52:34.735-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:52:34.736-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:52:34.736-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f
2025-12-22T16:52:34.773-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:34.773-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:34.773-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:34.773-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:34.773-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:34.773-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:34.773-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:34.774-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:34.774-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:34.774-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:52:34.774-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:34.774-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:34.774-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:34.774-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:34.774-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:34.774-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:34.774-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:34.774-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:34.774-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:34.774-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f] from SPRING_SECURITY_CONTEXT
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@14e1fe4e
2025-12-22T16:52:34.775-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f
2025-12-22T16:52:34.776-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:52:34.776-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-22T16:52:34.777-03:00  WARN 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:52:34.777-03:00  WARN 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-12-22T16:52:34.777-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:52:34.777-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-12-22T16:52:34.777-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-22T16:52:34.779-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:34.779-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:34.779-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:34.780-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:34.780-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:34.780-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:34.780-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:34.780-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:34.780-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:34.780-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-22T16:52:34.780-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:34.780-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@14e1fe4e
2025-12-22T16:52:34.781-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f] from SPRING_SECURITY_CONTEXT
2025-12-22T16:52:34.782-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@5055cb7f
2025-12-22T16:52:34.782-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-22T16:52:34.782-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-22T16:52:34.782-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-22T16:52:34.783-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-22T16:52:34.783-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Dec 22 16:52:34 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-22T16:52:34.784-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-22T16:52:39.131-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:39.132-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:39.132-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:39.132-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:39.132-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:39.132-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:39.132-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:39.132-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:39.132-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:39.132-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-22T16:52:39.132-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:39.132-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:39.132-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:39.132-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:39.132-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:39.133-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:39.133-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:39.133-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:39.133-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:39.133-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:39.133-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T16:52:39.206-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-22T16:52:39.206-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from FB639B42B054A26D7165C8EF39E35E89
2025-12-22T16:52:39.206-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@46f979c1] to HttpSession [org.apache.catalina.session.StandardSessionFacade@42b2e4da]
2025-12-22T16:52:39.206-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@46f979c1
2025-12-22T16:52:39.207-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /
2025-12-22T16:52:39.207-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:52:39.212-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:39.212-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:39.212-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:39.212-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:39.212-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:39.212-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:39.212-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:39.212-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:39.212-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:39.212-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-22T16:52:39.212-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@46f979c1] from SPRING_SECURITY_CONTEXT
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET / using org.springframework.security.authorization.AuthenticatedAuthorizationManager@14e1fe4e
2025-12-22T16:52:39.213-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@46f979c1
2025-12-22T16:52:39.214-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /
2025-12-22T16:52:39.214-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/", parameters={}
2025-12-22T16:52:39.214-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to teste.estudos.libraryapi.controller.LoginViewController#paginaHome(Authentication)
2025-12-22T16:52:39.216-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/html', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [text/plain, */*, application/json, application/*+json]
2025-12-22T16:52:39.216-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing ["Ol gerente"]
2025-12-22T16:52:39.217-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:52:39.217-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:52:39.259-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:39.259-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:39.259-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:39.259-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:39.259-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:39.259-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:39.259-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:39.259-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:39.259-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:39.259-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:52:39.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:39.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:39.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:39.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:39.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:39.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:39.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:39.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:39.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:39.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:39.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:39.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:39.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:52:39.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:39.260-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@46f979c1] from SPRING_SECURITY_CONTEXT
2025-12-22T16:52:39.261-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:39.261-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:52:39.261-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:39.261-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:39.261-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:39.261-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:39.261-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:39.261-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:39.261-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:52:39.261-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@14e1fe4e
2025-12-22T16:52:39.261-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@46f979c1
2025-12-22T16:52:39.262-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:52:39.262-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-22T16:52:39.262-03:00  WARN 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:52:39.263-03:00  WARN 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-12-22T16:52:39.263-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:52:39.263-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-12-22T16:52:39.263-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-22T16:52:39.265-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:52:39.265-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:52:39.266-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:52:39.266-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:52:39.266-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:52:39.266-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:52:39.266-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:52:39.266-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000154afacf678@546ab02b, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@30362021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aff884d, org.springframework.security.web.context.SecurityContextHolderFilter@63dd81ee, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@304d6881, org.springframework.security.web.header.HeaderWriterFilter@6011176f, org.springframework.security.web.csrf.CsrfFilter@3d45ea17, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5a618847, org.springframework.security.web.authentication.logout.LogoutFilter@5344b208, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4b9da2f0, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7307e418, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c8bf01d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@352b4cf, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@a555005, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6e8627e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4734a551, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@427faf19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@785dbe3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd7d05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d06ad25, org.springframework.security.web.access.ExceptionTranslationFilter@53d782b0, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@734db023, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2cf7ada5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7e09bee, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@75715a14, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3d44f15d]] (8/9)
2025-12-22T16:52:39.266-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3783e90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3422e00f, org.springframework.security.web.context.SecurityContextHolderFilter@7029653c, org.springframework.security.web.header.HeaderWriterFilter@7ff48cdc, org.springframework.security.web.authentication.logout.LogoutFilter@139f1db4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5af535ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35c66ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e90a3de, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3ccca75c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@160b7ccd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181cafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f4c6e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65c1c2f2, org.springframework.security.web.access.ExceptionTranslationFilter@71dc03a, org.springframework.security.web.access.intercept.AuthorizationFilter@1fba15d7]] (9/9)
2025-12-22T16:52:39.266-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-22T16:52:39.266-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:52:39.267-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:52:39.267-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:52:39.267-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:52:39.267-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:52:39.267-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:52:39.267-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:52:39.267-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:52:39.267-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:52:39.267-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:52:39.267-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:52:39.267-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:52:39.267-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:52:39.267-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:52:39.268-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:52:39.268-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:52:39.268-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:52:39.268-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:52:39.268-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:52:39.268-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:52:39.268-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-22T16:52:39.268-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@14e1fe4e
2025-12-22T16:52:39.268-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@46f979c1] from SPRING_SECURITY_CONTEXT
2025-12-22T16:52:39.268-03:00 TRACE 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@46f979c1
2025-12-22T16:52:39.269-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-22T16:52:39.269-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-22T16:52:39.269-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-22T16:52:39.270-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-22T16:52:39.271-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Dec 22 16:52:39 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-22T16:52:39.272-03:00 DEBUG 30084 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-22T16:52:49.438-03:00  INFO 24216 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Starting LibraryapiApplication using Java 21.0.9 with PID 24216 (C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi\target\classes started by jadil in C:\Users\jadil\OneDrive\Documentos\estudos-java\libraryapi)
2025-12-22T16:52:49.440-03:00 DEBUG 24216 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-22T16:52:49.440-03:00  INFO 24216 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-22T16:52:54.953-03:00 DEBUG 24216 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-22T16:52:54.955-03:00 DEBUG 24216 --- [libraryapi] [main] t.e.l.s.JwtCustomAuthenticationFilter    : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-12-22T16:52:55.399-03:00  WARN 24216 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-22T16:52:55.428-03:00 TRACE 24216 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=teste.estudos.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@51fadd20, securityConfiguration=teste.estudos.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@504f2bcd}
2025-12-22T16:52:55.430-03:00  INFO 24216 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-12-22T16:52:55.596-03:00 DEBUG 24216 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-12-22T16:52:55.621-03:00 DEBUG 24216 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T16:52:55.662-03:00 DEBUG 24216 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T16:52:56.818-03:00 DEBUG 24216 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-12-22T16:52:56.912-03:00 DEBUG 24216 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-22T16:52:56.928-03:00  WARN 24216 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:52:56.928-03:00 DEBUG 24216 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-12-22T16:52:56.928-03:00  WARN 24216 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:52:56.929-03:00 DEBUG 24216 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-12-22T16:52:56.929-03:00  WARN 24216 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:52:56.929-03:00 DEBUG 24216 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-12-22T16:52:56.929-03:00  WARN 24216 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:52:56.929-03:00 DEBUG 24216 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-12-22T16:52:56.929-03:00  WARN 24216 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:52:56.929-03:00 DEBUG 24216 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-12-22T16:52:56.929-03:00  WARN 24216 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:52:56.929-03:00 DEBUG 24216 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-12-22T16:52:56.929-03:00  WARN 24216 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-12-22T16:52:56.929-03:00 DEBUG 24216 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-12-22T16:52:57.015-03:00 DEBUG 24216 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T16:52:57.077-03:00 DEBUG 24216 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-22T16:52:58.308-03:00 DEBUG 24216 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-12-22T16:52:58.309-03:00 DEBUG 24216 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-12-22T16:52:58.314-03:00 DEBUG 24216 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-22T16:52:58.326-03:00 DEBUG 24216 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-22T16:52:58.354-03:00  INFO 24216 --- [libraryapi] [main] t.e.libraryapi.LibraryapiApplication     : Started LibraryapiApplication in 9.433 seconds (process running for 10.465)
2025-12-22T16:52:58.981-03:00  INFO 24216 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-22T16:52:58.981-03:00 DEBUG 24216 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-22T16:52:58.982-03:00 DEBUG 24216 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-22T16:52:58.982-03:00 DEBUG 24216 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-22T16:52:58.984-03:00 DEBUG 24216 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@13ecedf6
2025-12-22T16:52:58.986-03:00 DEBUG 24216 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@10cae98c
2025-12-22T16:52:58.987-03:00 DEBUG 24216 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-22T16:52:58.987-03:00  INFO 24216 --- [libraryapi] [RMI TCP Connection(2)-192.168.1.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-12-22T16:53:36.004-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:36.004-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:36.005-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:36.005-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:36.005-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:36.005-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:36.005-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:36.005-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:36.006-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19fd70f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20ed9573, org.springframework.security.web.context.SecurityContextHolderFilter@ca72afb, org.springframework.security.web.header.HeaderWriterFilter@61427cd3, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7241872c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e2b1310, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e7d994c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a7ff5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b24fcba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b1d6b9, org.springframework.security.web.access.ExceptionTranslationFilter@759c0c14, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]] (9/9)
2025-12-22T16:53:36.006-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:53:36.010-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:53:36.015-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:53:36.027-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:53:36.027-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000015c01acf878@2405a768
2025-12-22T16:53:36.030-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:53:36.030-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:53:36.030-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:53:36.334-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:53:36.334-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:53:36.334-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:53:36.377-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:36.379-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:36.380-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:36.380-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:36.380-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:36.380-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:36.381-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:36.381-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:36.381-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19fd70f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20ed9573, org.springframework.security.web.context.SecurityContextHolderFilter@ca72afb, org.springframework.security.web.header.HeaderWriterFilter@61427cd3, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7241872c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e2b1310, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e7d994c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a7ff5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b24fcba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b1d6b9, org.springframework.security.web.access.ExceptionTranslationFilter@759c0c14, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]] (9/9)
2025-12-22T16:53:36.382-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:36.382-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:53:36.382-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:53:36.382-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:53:36.382-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:53:36.383-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:53:36.383-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:53:36.383-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:53:36.383-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:53:36.383-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:53:36.383-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:53:36.383-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:53:36.383-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:53:36.383-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:53:36.384-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:53:36.384-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-12-22T16:53:36.384-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:36.384-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:36.384-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:53:36.384-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:53:36.384-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:53:36.384-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:53:36.385-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:53:36.385-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:53:36.385-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:53:36.385-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:53:36.385-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:36.385-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2d821ee
2025-12-22T16:53:36.385-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:53:36.389-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:53:36.418-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json?continue to session
2025-12-22T16:53:36.420-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T16:53:36.421-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-22T16:53:36.421-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@54c3bae
2025-12-22T16:53:36.422-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-22T16:53:36.422-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@6f1a7661
2025-12-22T16:53:36.422-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:53:36.436-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:36.437-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:36.437-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:36.437-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:36.437-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:36.437-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:36.437-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:36.438-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:36.438-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19fd70f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20ed9573, org.springframework.security.web.context.SecurityContextHolderFilter@ca72afb, org.springframework.security.web.header.HeaderWriterFilter@61427cd3, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7241872c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e2b1310, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e7d994c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a7ff5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b24fcba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b1d6b9, org.springframework.security.web.access.ExceptionTranslationFilter@759c0c14, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]] (9/9)
2025-12-22T16:53:36.438-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-22T16:53:36.438-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:53:36.439-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:53:36.439-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:53:36.439-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:53:36.439-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:53:36.439-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:53:36.439-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:53:36.440-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:53:36.440-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:53:36.440-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:53:36.440-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:53:36.440-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:53:36.440-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:53:36.440-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:53:36.440-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:53:36.441-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:53:36.441-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:53:36.442-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:53:36.442-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:53:36.442-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:53:36.443-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-22T16:53:36.443-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2d821ee
2025-12-22T16:53:36.443-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 14EE7015BD20D2CA8358027D75E8BA90 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:53:36.443-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:36.443-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:36.443-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=14EE7015BD20D2CA8358027D75E8BA90], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:53:36.444-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=14EE7015BD20D2CA8358027D75E8BA90], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:53:36.446-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-12-22T16:53:36.446-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T16:53:36.446-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-22T16:53:36.447-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@54c3bae
2025-12-22T16:53:36.447-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-22T16:53:36.447-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@6f1a7661
2025-12-22T16:53:41.986-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:41.986-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:41.986-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:41.986-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:41.986-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:41.986-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:41.986-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:41.986-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:41.987-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=Nz-QkEg2k1rUu_JOr_zwt54KyjFUnFmVdMoNHK7-v_8&code_challenge_method=S256
2025-12-22T16:53:41.987-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:53:41.987-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:53:41.987-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:53:41.987-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:53:41.994-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:53:41.994-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:53:41.996-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@5c807e6b]]]
2025-12-22T16:53:41.996-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:53:41.996-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:53:41.996-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:53:41.996-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:53:41.997-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:53:42.000-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 14EE7015BD20D2CA8358027D75E8BA90 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:53:42.000-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:42.000-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:42.003-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:53:42.165-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:53:42.166-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-22T16:53:42.166-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-12-22T16:53:42.167-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-12-22T16:53:42.167-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-12-22T16:53:42.167-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-12-22T16:53:42.167-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-12-22T16:53:42.167-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-12-22T16:53:42.167-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:53:42.167-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-12-22T16:53:42.167-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:53:42.168-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-12-22T16:53:42.168-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:53:42.168-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-12-22T16:53:42.168-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-12-22T16:53:42.168-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-12-22T16:53:42.168-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-12-22T16:53:42.168-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=Nz-QkEg2k1rUu_JOr_zwt54KyjFUnFmVdMoNHK7-v_8&code_challenge_method=S256
2025-12-22T16:53:42.168-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=Nz-QkEg2k1rUu_JOr_zwt54KyjFUnFmVdMoNHK7-v_8&code_challenge_method=S256 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@210ab65f
2025-12-22T16:53:42.168-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=14EE7015BD20D2CA8358027D75E8BA90], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:53:42.169-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=14EE7015BD20D2CA8358027D75E8BA90], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:53:42.171-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=Nz-QkEg2k1rUu_JOr_zwt54KyjFUnFmVdMoNHK7-v_8&code_challenge_method=S256&continue to session
2025-12-22T16:53:42.172-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-12-22T16:53:42.172-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@5c807e6b, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-22T16:53:42.172-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T16:53:42.172-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@24305eca
2025-12-22T16:53:42.173-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-12-22T16:53:42.173-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:53:42.179-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:42.179-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:42.179-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:42.179-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:42.179-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:42.180-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:42.180-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:42.180-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:42.180-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19fd70f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20ed9573, org.springframework.security.web.context.SecurityContextHolderFilter@ca72afb, org.springframework.security.web.header.HeaderWriterFilter@61427cd3, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7241872c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e2b1310, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e7d994c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a7ff5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b24fcba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b1d6b9, org.springframework.security.web.access.ExceptionTranslationFilter@759c0c14, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]] (9/9)
2025-12-22T16:53:42.180-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:53:42.180-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:53:42.180-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:53:42.180-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:53:42.181-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:53:42.181-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:53:42.181-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:53:42.181-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:53:42.181-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:53:42.181-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:53:42.181-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:53:42.181-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:53:42.181-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:53:42.181-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:53:42.181-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:53:42.182-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 14EE7015BD20D2CA8358027D75E8BA90 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:53:42.182-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:42.182-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:42.182-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:53:42.182-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:53:42.182-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:53:42.182-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:53:42.183-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:53:42.183-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:53:42.183-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:53:42.183-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:53:42.183-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:53:42.183-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000015c01acf878@2405a768
2025-12-22T16:53:42.184-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:53:42.185-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:53:42.185-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:53:42.187-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:53:42.188-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:53:42.189-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=14EE7015BD20D2CA8358027D75E8BA90], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:53:42.236-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:42.236-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:42.237-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:42.237-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:42.237-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:42.237-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:42.237-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:42.237-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:42.237-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19fd70f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20ed9573, org.springframework.security.web.context.SecurityContextHolderFilter@ca72afb, org.springframework.security.web.header.HeaderWriterFilter@61427cd3, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7241872c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e2b1310, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e7d994c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a7ff5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b24fcba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b1d6b9, org.springframework.security.web.access.ExceptionTranslationFilter@759c0c14, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]] (9/9)
2025-12-22T16:53:42.237-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:42.237-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:53:42.238-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:53:42.239-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:53:42.239-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:53:42.240-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:53:42.240-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:53:42.240-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:53:42.240-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:53:42.240-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:53:42.240-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:53:42.240-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:53:42.240-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:53:42.240-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:53:42.240-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:53:42.240-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 14EE7015BD20D2CA8358027D75E8BA90 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:53:42.240-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:42.240-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:42.241-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:53:42.241-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:53:42.241-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:53:42.241-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:53:42.241-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:53:42.241-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:53:42.241-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:53:42.241-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:53:42.242-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:42.242-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2d821ee
2025-12-22T16:53:42.242-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=14EE7015BD20D2CA8358027D75E8BA90], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:53:42.242-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=14EE7015BD20D2CA8358027D75E8BA90], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:53:42.244-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json?continue to session
2025-12-22T16:53:42.245-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T16:53:42.245-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-22T16:53:42.245-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@54c3bae
2025-12-22T16:53:42.245-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-22T16:53:42.245-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@6f1a7661
2025-12-22T16:53:42.245-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:53:42.247-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:42.247-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:42.247-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:42.248-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:42.248-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:42.248-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:42.248-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:42.248-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:42.248-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19fd70f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20ed9573, org.springframework.security.web.context.SecurityContextHolderFilter@ca72afb, org.springframework.security.web.header.HeaderWriterFilter@61427cd3, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7241872c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e2b1310, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e7d994c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a7ff5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b24fcba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b1d6b9, org.springframework.security.web.access.ExceptionTranslationFilter@759c0c14, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]] (9/9)
2025-12-22T16:53:42.248-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-22T16:53:42.248-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:53:42.249-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:53:42.249-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:53:42.249-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:53:42.249-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:53:42.249-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:53:42.249-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:53:42.249-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:53:42.249-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:53:42.249-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:53:42.249-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:53:42.250-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:53:42.250-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:53:42.250-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:53:42.250-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:53:42.250-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:53:42.250-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:53:42.250-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:53:42.250-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:53:42.250-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:53:42.251-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-22T16:53:42.251-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2d821ee
2025-12-22T16:53:42.251-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 14EE7015BD20D2CA8358027D75E8BA90 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:53:42.251-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:42.251-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:42.251-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=14EE7015BD20D2CA8358027D75E8BA90], Granted Authorities=[ROLE_ANONYMOUS]]
2025-12-22T16:53:42.252-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=14EE7015BD20D2CA8358027D75E8BA90], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-22T16:53:42.254-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-12-22T16:53:42.254-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-12-22T16:53:42.254-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@c6c5b66, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-12-22T16:53:42.255-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@54c3bae
2025-12-22T16:53:42.255-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-12-22T16:53:42.255-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@6f1a7661
2025-12-22T16:53:48.858-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:48.859-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:48.859-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:48.859-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:48.859-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:48.859-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:48.859-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:48.859-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:48.859-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19fd70f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20ed9573, org.springframework.security.web.context.SecurityContextHolderFilter@ca72afb, org.springframework.security.web.header.HeaderWriterFilter@61427cd3, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7241872c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e2b1310, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e7d994c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a7ff5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b24fcba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b1d6b9, org.springframework.security.web.access.ExceptionTranslationFilter@759c0c14, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]] (9/9)
2025-12-22T16:53:48.859-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:48.859-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:53:48.860-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:53:48.860-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:53:48.860-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:53:48.860-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:53:48.860-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:53:48.860-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:53:48.860-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:53:48.860-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:53:48.860-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:53:48.860-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:53:48.861-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:53:48.861-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:53:48.861-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:53:48.861-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 14EE7015BD20D2CA8358027D75E8BA90 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:53:48.861-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:48.861-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:48.861-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:53:48.863-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'gerente' in Basic Authorization header
2025-12-22T16:53:48.864-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T16:53:48.951-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@552fca1
2025-12-22T16:53:48.951-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:53:48.951-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:53:48.951-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:53:48.951-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:53:48.951-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:53:48.951-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:53:48.951-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:48.951-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2d821ee
2025-12-22T16:53:48.951-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@552fca1
2025-12-22T16:53:48.951-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:48.951-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-22T16:53:48.951-03:00  WARN 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:48.964-03:00  WARN 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:53:48.964-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-12-22T16:53:48.964-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19fd70f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20ed9573, org.springframework.security.web.context.SecurityContextHolderFilter@ca72afb, org.springframework.security.web.header.HeaderWriterFilter@61427cd3, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7241872c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e2b1310, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e7d994c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a7ff5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b24fcba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b1d6b9, org.springframework.security.web.access.ExceptionTranslationFilter@759c0c14, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]] (9/9)
2025-12-22T16:53:48.964-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2d821ee
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 14EE7015BD20D2CA8358027D75E8BA90 using the SPRING_SECURITY_CONTEXT session attribute
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-12-22T16:53:48.964-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@552fca1
2025-12-22T16:53:48.964-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-22T16:53:48.964-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-22T16:53:48.964-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-22T16:53:48.977-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-22T16:53:48.977-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Dec 22 16:53:48 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-22T16:53:48.991-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-22T16:53:53.833-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:53.834-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:53.834-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:53.834-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:53.834-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:53.834-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:53.834-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:53.834-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:53.834-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19fd70f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20ed9573, org.springframework.security.web.context.SecurityContextHolderFilter@ca72afb, org.springframework.security.web.header.HeaderWriterFilter@61427cd3, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7241872c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e2b1310, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e7d994c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a7ff5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b24fcba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b1d6b9, org.springframework.security.web.access.ExceptionTranslationFilter@759c0c14, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]] (9/9)
2025-12-22T16:53:53.834-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-12-22T16:53:53.834-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:53:53.835-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:53:53.835-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:53:53.835-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:53:53.835-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:53:53.836-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:53:53.836-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:53:53.836-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:53:53.836-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:53:53.836-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:53:53.837-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-12-22T16:53:53.913-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-12-22T16:53:53.914-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 14EE7015BD20D2CA8358027D75E8BA90
2025-12-22T16:53:53.915-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@7fde2795] to HttpSession [org.apache.catalina.session.StandardSessionFacade@28a1b0a7]
2025-12-22T16:53:53.915-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to teste.estudos.libraryapi.security.CustomAuthentication@7fde2795
2025-12-22T16:53:53.916-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/error?continue
2025-12-22T16:53:53.916-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:53:53.921-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:53.921-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:53.921-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:53.921-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:53.921-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:53.921-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:53.921-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:53.921-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:53.922-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19fd70f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20ed9573, org.springframework.security.web.context.SecurityContextHolderFilter@ca72afb, org.springframework.security.web.header.HeaderWriterFilter@61427cd3, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7241872c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e2b1310, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e7d994c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a7ff5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b24fcba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b1d6b9, org.springframework.security.web.access.ExceptionTranslationFilter@759c0c14, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]] (9/9)
2025-12-22T16:53:53.922-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?continue
2025-12-22T16:53:53.922-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:53:53.922-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:53:53.922-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:53:53.922-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:53:53.922-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:53:53.922-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:53:53.922-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:53:53.922-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:53:53.922-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:53:53.922-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:53:53.922-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:53:53.922-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:53:53.922-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:53:53.923-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:53:53.923-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@7fde2795] from SPRING_SECURITY_CONTEXT
2025-12-22T16:53:53.923-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:53:53.923-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:53:53.923-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:53:53.924-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Removing DefaultSavedRequest from session if present
2025-12-22T16:53:53.924-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/error?continue
2025-12-22T16:53:53.926-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:53:53.926-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:53:53.926-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:53:53.926-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:53:53.927-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?continue
2025-12-22T16:53:53.927-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2d821ee
2025-12-22T16:53:53.927-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@7fde2795
2025-12-22T16:53:53.927-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?continue
2025-12-22T16:53:53.928-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/error?continue", parameters={masked}
2025-12-22T16:53:53.929-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-22T16:53:53.929-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-22T16:53:53.930-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Dec 22 16:53:53 BRT 2025, status=999, error=None}]
2025-12-22T16:53:53.930-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:53:53.931-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-22T16:53:53.965-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:53.966-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:53.966-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:53.966-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:53.966-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:53.966-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:53.966-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:53.966-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:53.966-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19fd70f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20ed9573, org.springframework.security.web.context.SecurityContextHolderFilter@ca72afb, org.springframework.security.web.header.HeaderWriterFilter@61427cd3, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7241872c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e2b1310, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e7d994c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a7ff5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b24fcba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b1d6b9, org.springframework.security.web.access.ExceptionTranslationFilter@759c0c14, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]] (9/9)
2025-12-22T16:53:53.966-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:53.966-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:53:53.966-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:53:53.966-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:53:53.966-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@7fde2795] from SPRING_SECURITY_CONTEXT
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'gerente' in Basic Authorization header
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:53:53.967-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:53:53.968-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:53:53.968-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:53:53.968-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:53.968-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2d821ee
2025-12-22T16:53:53.968-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@7fde2795
2025-12-22T16:53:53.968-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:53.968-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-22T16:53:53.969-03:00  WARN 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:53.970-03:00  WARN 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-12-22T16:53:53.970-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:53:53.970-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-12-22T16:53:53.970-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-22T16:53:53.972-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:53.972-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:53.972-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:53.972-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:53.972-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:53.972-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:53.972-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:53.972-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:53.972-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19fd70f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20ed9573, org.springframework.security.web.context.SecurityContextHolderFilter@ca72afb, org.springframework.security.web.header.HeaderWriterFilter@61427cd3, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7241872c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e2b1310, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e7d994c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a7ff5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b24fcba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b1d6b9, org.springframework.security.web.access.ExceptionTranslationFilter@759c0c14, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]] (9/9)
2025-12-22T16:53:53.972-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-22T16:53:53.972-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-22T16:53:53.973-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2d821ee
2025-12-22T16:53:53.974-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@7fde2795] from SPRING_SECURITY_CONTEXT
2025-12-22T16:53:53.974-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@7fde2795
2025-12-22T16:53:53.974-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-22T16:53:53.974-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-22T16:53:53.974-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-22T16:53:53.975-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-22T16:53:53.975-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Dec 22 16:53:53 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-22T16:53:53.977-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-22T16:53:56.905-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:56.905-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:56.905-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:56.905-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:56.905-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:56.905-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:56.905-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:56.905-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:56.906-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19fd70f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20ed9573, org.springframework.security.web.context.SecurityContextHolderFilter@ca72afb, org.springframework.security.web.header.HeaderWriterFilter@61427cd3, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7241872c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e2b1310, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e7d994c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a7ff5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b24fcba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b1d6b9, org.springframework.security.web.access.ExceptionTranslationFilter@759c0c14, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]] (9/9)
2025-12-22T16:53:56.906-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-12-22T16:53:56.906-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:53:56.906-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@7fde2795] from SPRING_SECURITY_CONTEXT
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:53:56.907-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:53:56.908-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:53:56.908-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:53:56.908-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-12-22T16:53:56.908-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000015c01acf878@2405a768
2025-12-22T16:53:56.908-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-12-22T16:53:56.908-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-12-22T16:53:56.909-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-12-22T16:53:56.910-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:53:56.911-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-22T16:53:56.912-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@7fde2795
2025-12-22T16:53:56.939-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:56.939-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:56.939-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:56.939-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:56.939-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:56.939-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:56.939-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:56.939-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:56.939-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19fd70f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20ed9573, org.springframework.security.web.context.SecurityContextHolderFilter@ca72afb, org.springframework.security.web.header.HeaderWriterFilter@61427cd3, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7241872c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e2b1310, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e7d994c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a7ff5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b24fcba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b1d6b9, org.springframework.security.web.access.ExceptionTranslationFilter@759c0c14, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]] (9/9)
2025-12-22T16:53:56.940-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@7fde2795] from SPRING_SECURITY_CONTEXT
2025-12-22T16:53:56.940-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:53:56.941-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'gerente' in Basic Authorization header
2025-12-22T16:53:56.941-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:53:56.941-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:53:56.941-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:53:56.941-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:53:56.941-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:53:56.941-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:53:56.941-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:56.941-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /.well-known/appspecific/com.chrome.devtools.json using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2d821ee
2025-12-22T16:53:56.941-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@7fde2795
2025-12-22T16:53:56.941-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:56.942-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-12-22T16:53:56.942-03:00  WARN 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-12-22T16:53:56.943-03:00  WARN 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-12-22T16:53:56.943-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:53:56.943-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-12-22T16:53:56.943-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-22T16:53:56.944-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:53:56.944-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:53:56.944-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:53:56.944-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:53:56.944-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:53:56.944-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:53:56.944-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:53:56.945-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:53:56.945-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@19fd70f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20ed9573, org.springframework.security.web.context.SecurityContextHolderFilter@ca72afb, org.springframework.security.web.header.HeaderWriterFilter@61427cd3, org.springframework.security.web.authentication.logout.LogoutFilter@7fcbed77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54353bb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7241872c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e2b1310, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5e7d994c, teste.estudos.libraryapi.security.JwtCustomAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a7ff5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4dabcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b24fcba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44b1d6b9, org.springframework.security.web.access.ExceptionTranslationFilter@759c0c14, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]] (9/9)
2025-12-22T16:53:56.945-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-12-22T16:53:56.945-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/16)
2025-12-22T16:53:56.946-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/16)
2025-12-22T16:53:56.946-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/16)
2025-12-22T16:53:56.958-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/16)
2025-12-22T16:53:56.958-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/16)
2025-12-22T16:53:56.958-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-12-22T16:53:56.958-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/16)
2025-12-22T16:53:56.958-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/16)
2025-12-22T16:53:56.958-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-12-22T16:53:56.958-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/16)
2025-12-22T16:53:56.958-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:53:56.958-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/16)
2025-12-22T16:53:56.958-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/16)
2025-12-22T16:53:56.958-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (11/16)
2025-12-22T16:53:56.959-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (12/16)
2025-12-22T16:53:56.959-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:53:56.959-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (13/16)
2025-12-22T16:53:56.959-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (14/16)
2025-12-22T16:53:56.959-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (15/16)
2025-12-22T16:53:56.959-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (16/16)
2025-12-22T16:53:56.959-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-12-22T16:53:56.959-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2d821ee
2025-12-22T16:53:56.959-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@7fde2795] from SPRING_SECURITY_CONTEXT
2025-12-22T16:53:56.959-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated teste.estudos.libraryapi.security.CustomAuthentication@7fde2795
2025-12-22T16:53:56.960-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-12-22T16:53:56.960-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-12-22T16:53:56.960-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-12-22T16:53:56.961-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-22T16:53:56.962-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Dec 22 16:53:56 BRT 2025, status=404, error=Not Found, path=/.well-known/appspecific/ (truncated)...]
2025-12-22T16:53:56.963-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-12-22T16:57:17.471-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:57:17.471-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:57:17.471-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:57:17.471-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:57:17.471-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:57:17.471-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:57:17.471-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:57:17.471-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:57:17.471-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-frontend&scope=openid+profile+GERENTE&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fauthorized&code_challenge=1u1PNSbqpK7FNcH45fp-KOhuEmuCfFUdABzvzYKof1s&code_challenge_method=S256
2025-12-22T16:57:17.471-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:57:17.472-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:57:17.472-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:57:17.472-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:57:17.472-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:57:17.472-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:57:17.472-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@5c807e6b]]]
2025-12-22T16:57:17.472-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:57:17.472-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:57:17.472-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:57:17.472-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:57:17.472-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:57:17.473-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=teste.estudos.libraryapi.security.CustomAuthentication@7fde2795] from SPRING_SECURITY_CONTEXT
2025-12-22T16:57:17.475-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-12-22T16:57:17.482-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-12-22T16:57:17.483-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-12-22T16:57:17.491-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-12-22T16:57:17.492-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Saved authorization
2025-12-22T16:57:17.492-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-12-22T16:57:17.492-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.core.session.SessionRegistryImpl   : Registering session E7658441F79892FEF72F86A925B0CA41, for principal Usuario(id=ef8a0519-3f66-453f-9542-4a97a91a0363, login=gerente, senha=$2a$10$6YtOpXqcRgzC3arsw7emo.Sd.ZikCSk5BHpGAtGt1B.yv5M3bRYXO, email=gerente@universidade.br, roles=[GERENTE], telefone=null)
2025-12-22T16:57:17.492-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.core.session.SessionRegistryImpl   : Sessions used by 'Usuario(id=ef8a0519-3f66-453f-9542-4a97a91a0363, login=gerente, senha=$2a$10$6YtOpXqcRgzC3arsw7emo.Sd.ZikCSk5BHpGAtGt1B.yv5M3bRYXO, email=gerente@universidade.br, roles=[GERENTE], telefone=null)' : [E7658441F79892FEF72F86A925B0CA41]
2025-12-22T16:57:17.493-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:4200/authorized?code=3MtDSt-xbiGBzg1cHBGc5UCYVZO4i8f0HTPFf_ynwhe1ici6BwhX8OBwchiKa6Iq-OB68qYuPkGHWIEFWUDoi7PDq_q3aZTjwDH8FUPwZDHvj4InrMHdYr041iSCLQ7Z
2025-12-22T16:57:17.493-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-12-22T16:57:17.680-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-12-22T16:57:17.680-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-12-22T16:57:17.681-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-12-22T16:57:17.681-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-12-22T16:57:17.681-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-12-22T16:57:17.681-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-12-22T16:57:17.681-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-12-22T16:57:17.681-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2ed2ff64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc12f38, org.springframework.security.web.context.SecurityContextHolderFilter@4c18b432, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1a5e19fe, org.springframework.security.web.header.HeaderWriterFilter@178826db, org.springframework.security.web.csrf.CsrfFilter@5410bbdf, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75715a14, org.springframework.security.web.authentication.logout.LogoutFilter@1b0e81b3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@68032a80, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@39ebf505, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@13653a0b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5074893, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@70fe15d, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@614427b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28322fd3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5a618847, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5634c26c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239fdf8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3c51c1, org.springframework.security.web.access.ExceptionTranslationFilter@26e74d50, org.springframework.security.web.access.intercept.AuthorizationFilter@4ec0c727, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@48b85dc5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@10ba757f, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@f500481, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@57e351a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@591b8f15]] (8/9)
2025-12-22T16:57:17.681-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-12-22T16:57:17.682-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-12-22T16:57:17.682-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-12-22T16:57:17.682-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-12-22T16:57:17.683-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-12-22T16:57:17.683-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-12-22T16:57:17.683-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-12-22T16:57:17.683-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015c01acf240@19544898, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@5c807e6b]]]
2025-12-22T16:57:17.683-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-12-22T16:57:17.683-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-12-22T16:57:17.683-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-12-22T16:57:17.683-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-12-22T16:57:17.683-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-12-22T16:57:17.683-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-12-22T16:57:17.683-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-12-22T16:57:17.683-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-12-22T16:57:17.683-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-12-22T16:57:17.691-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-12-22T16:57:17.691-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-12-22T16:57:17.691-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-12-22T16:57:17.691-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with PublicClientAuthenticationProvider (4/20)
2025-12-22T16:57:17.704-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] s.a.a.PublicClientAuthenticationProvider : Retrieved registered client
2025-12-22T16:57:17.705-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] s.a.a.PublicClientAuthenticationProvider : Validated client authentication parameters
2025-12-22T16:57:17.705-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-12-22T16:57:17.705-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Validated code verifier parameters
2025-12-22T16:57:17.705-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Authenticated code verifier
2025-12-22T16:57:17.705-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] s.a.a.PublicClientAuthenticationProvider : Authenticated public client
2025-12-22T16:57:17.707-03:00 DEBUG 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-12-22T16:57:17.707-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-12-22T16:57:17.708-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-12-22T16:57:17.708-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-12-22T16:57:17.708-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-12-22T16:57:17.708-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-12-22T16:57:17.708-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-12-22T16:57:17.708-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-12-22T16:57:17.709-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-12-22T16:57:17.709-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-12-22T16:57:17.709-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-12-22T16:57:17.710-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-12-22T16:57:17.710-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@210ab65f
2025-12-22T16:57:17.710-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=client-frontend, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-12-22T16:57:17.711-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (22/26)
2025-12-22T16:57:17.715-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-12-22T16:57:17.717-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-12-22T16:57:17.718-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-12-22T16:57:17.718-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-12-22T16:57:17.933-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-12-22T16:57:17.947-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] 2AuthorizationCodeAuthenticationProvider : Generated id token
2025-12-22T16:57:17.949-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-12-22T16:57:17.949-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-12-22T16:57:17.955-03:00 TRACE 24216 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
